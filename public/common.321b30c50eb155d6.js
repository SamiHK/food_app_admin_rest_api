"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[592],{936:(d,p,n)=>{n.d(p,{I:()=>o});class o{constructor(){this.id="",this.name="",this.code="",this.totalActiveSalespersons=0}}},9663:(d,p,n)=>{n.d(p,{b:()=>E});var o=n(262),_=n(2340),l=n(4893),t=n(520),u=n(3093);let E=(()=>{class r{constructor(e,c){this.http=e,this.commonService=c,this.BASE_URL=`${_.N.BASE_URL}/admin/branch`}salesperson(e,c){return this.http.get(`${this.BASE_URL}/${e}/salespersons`,{params:c}).pipe((0,o.K)(this.commonService.catchError))}filter(e){return this.http.get(`${this.BASE_URL}`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}available(e){return this.http.get(`${this.BASE_URL}/available`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}save(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}updateLocation(e,c){return this.http.post(`${this.BASE_URL}/${e}/location`,c).pipe((0,o.K)(this.commonService.catchError))}updateManager(e,c){return this.http.post(`${this.BASE_URL}/${e}/manager`,c).pipe((0,o.K)(this.commonService.catchError))}get(e){return this.http.get(`${this.BASE_URL}/${e}`).pipe((0,o.K)(this.commonService.catchError))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(t.eN),l.LFG(u.v))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},9030:(d,p,n)=>{n.d(p,{b:()=>E});var o=n(262),_=n(2340),l=n(4893),t=n(520),u=n(3093);let E=(()=>{class r{constructor(e,c){this.http=e,this.commonService=c,this.BASE_URL=`${_.N.BASE_URL}/admin/manager`}get(e){return this.http.get(`${this.BASE_URL}/${e}`).pipe((0,o.K)(this.commonService.catchError))}available(e){return this.http.get(`${this.BASE_URL}/available`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}filter(e){return this.http.get(`${this.BASE_URL}`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}register(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}}return r.\u0275fac=function(e){return new(e||r)(l.LFG(t.eN),l.LFG(u.v))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4856:(d,p,n)=>{n.d(p,{X:()=>M});var o=n(5861),_=n(2382),l=n(5705),t=n(4893),u=n(3477),E=n(9663),r=n(5033),h=n(9808),e=n(6939),c=n(9553);function f(s,m){1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td",9),t._UZ(2,"c-spinner",10),t.qZA(),t.qZA())}const A=function(s){return{"table-dark":s}};function Z(s,m){if(1&s&&(t.TgZ(0,"tr",13),t.TgZ(1,"td"),t._UZ(2,"app-user-active-switch",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()),2&s){const a=m.$implicit;t.Q6J("ngClass",t.VKq(5,A,!a.enabled)),t.xp6(2),t.Q6J("user",a),t.xp6(2),t.Oqu(a.username),t.xp6(2),t.Oqu(a.email),t.xp6(2),t.Oqu(a.fullName)}}function L(s,m){1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td",15),t._uU(2," Empty "),t.qZA(),t.qZA())}function T(s,m){if(1&s&&(t.YNc(0,Z,9,7,"tr",11),t.YNc(1,L,3,0,"tr",12)),2&s){const a=t.oxw();t.Q6J("ngForOf",a.page.items),t.xp6(1),t.Q6J("ngIf",0==a.page.items.length)}}let M=(()=>{class s{constructor(a,i){this.route=a,this.abService=i,this.form=new _.cw({search:new _.NI(null,_.kI.required)}),this.page=new l.T,this.branchId=null,this.isLoading=!1}ngOnInit(){this.branchId=this.route.snapshot.params.branchId,this.loadManagers()}loadManagers(a){var i=this;return(0,o.Z)(function*(){i.isLoading=!0,i.branchId&&(yield i.abService.salesperson(i.branchId,a).forEach(g=>i.page=g).finally(()=>i.isLoading=!1))})()}filter(){this.form.valid?this.loadManagers(this.form.value):this.loadManagers()}onPageChange(a){this.form.valid?(Object.assign(a,this.form.value),this.loadManagers(a)):this.loadManagers({number:a.page})}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(u.gz),t.Y36(E.b))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-salesperson-list"]],decls:27,vars:5,consts:[[1,"mb-4"],[3,"formGroup","ngSubmit"],["cFormFloating",""],["cFormControl","","formControlName","search","name","search","type","search","placeholder","Search by username, email or name","autofocus",""],["cLabel","","for","search"],["cTable","","hover",""],[4,"ngIf","ngIfElse"],["showResult",""],[3,"totalItems","ngModel","ngModelChange","pageChanged"],["colspan","5",1,"text-center","my-2"],["aria-hidden","true","label","Loading..."],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass"],[3,"user"],["colspan","5",1,"text-center"]],template:function(a,i){if(1&a&&(t.TgZ(0,"c-card",0),t.TgZ(1,"c-card-body"),t.TgZ(2,"c-row"),t.TgZ(3,"c-col"),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return i.filter()}),t.TgZ(5,"div",2),t._UZ(6,"input",3),t.TgZ(7,"label",4),t._uU(8,"Search by username, email or name"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"c-row"),t.TgZ(11,"c-col"),t.TgZ(12,"table",5),t.TgZ(13,"thead"),t.TgZ(14,"tr"),t._UZ(15,"th"),t.TgZ(16,"th"),t._uU(17,"Username"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Email"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Full name"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,f,3,0,"tr",6),t.YNc(24,T,2,2,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.TgZ(26,"pagination",8),t.NdJ("ngModelChange",function(v){return i.page.number=v})("pageChanged",function(v){return i.onPageChange(v)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){const g=t.MAs(25);t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(19),t.Q6J("ngIf",i.isLoading)("ngIfElse",g),t.xp6(3),t.Q6J("totalItems",i.page.total)("ngModel",i.page.number)}},directives:[r.AkF,r.yue,r.iok,r.Yp0,_._Y,_.JL,_.sg,r.xPZ,r.oHf,_.Fj,_.JJ,_.u,r.eFW,r.auY,h.O5,e.Qt,_.On,r.ORR,h.sg,h.mk,c.H],styles:[""]}),s})()}}]);