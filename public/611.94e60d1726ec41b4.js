"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[611],{8611:(tt,p,a)=>{a.r(p),a.d(p,{MenuModule:()=>W});var l=a(9808),r=a(3477),g=a(5861),x=a(302),h=a(1106),t=a(4893),_=a(375),m=a(9633),c=a(5033),d=a(1728);function T(e,o){1&e&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function A(e,o){if(1&e&&(t.TgZ(0,"c-nav-item"),t.TgZ(1,"a",9),t._uU(2),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.title)}}function C(e,o){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",19),t._uU(2,"Not Available"),t.qZA(),t.qZA())}function M(e,o){if(1&e&&(t.TgZ(0,"c-card-body",20),t.TgZ(1,"p",21),t._uU(2),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(n.description)}}function I(e,o){if(1&e&&(t.TgZ(0,"p",39),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.description,"")}}function q(e,o){if(1&e&&(t.TgZ(0,"c-badge",40),t.TgZ(1,"span",41),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.oldPrice,"Pkr ")," ")}}function y(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1," Add more "),t.qZA())}function b(e,o){1&e&&t._uU(0," Add to Cart ")}function L(e,o){if(1&e&&(t.TgZ(0,"c-badge",45),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.quantity,"")}}const v=function(e,o){return{"btn-light":e,"btn-danger":o}};function w(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit;return t.oxw(3).addToCart(s)}),t.YNc(1,y,2,0,"span",0),t.YNc(2,b,1,0,"ng-template",null,43,t.W1O),t.YNc(4,L,2,1,"c-badge",44),t.qZA()}if(2&e){const n=t.MAs(3),i=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(4,v,i.quantity,!i.quantity)),t.xp6(1),t.Q6J("ngIf",i.quantity&&i.quantity>0)("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",i.quantity&&i.quantity>0)}}function O(e,o){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",46),t._uU(2,"Not Available"),t.qZA(),t.qZA())}const U=function(e){return{"text-muted":e}},f=function(e){return{"img-gray-scale":e}};function J(e,o){if(1&e&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card",22),t._UZ(2,"img",23),t.TgZ(3,"c-card",24),t.TgZ(4,"c-card-body",25),t.TgZ(5,"span",26),t.TgZ(6,"h6",27),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,I,2,1,"p",28),t._UZ(9,"span",29),t.TgZ(10,"span",30),t.TgZ(11,"span",31),t.TgZ(12,"small",32),t._uU(13),t.qZA(),t.TgZ(14,"span"),t.TgZ(15,"span",33),t.TgZ(16,"c-badge",34),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.qZA(),t.YNc(20,q,4,4,"c-badge",35),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"span",36),t.YNc(22,w,5,7,"button",37),t.YNc(23,O,3,0,"ng-template",null,38,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit,i=t.MAs(24);t.xp6(1),t.Q6J("ngClass",t.VKq(13,U,!n.isAvailable)),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(15,f,!n.isAvailable)),t.xp6(5),t.Oqu(n.title),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(5),t.Oqu(n.unit),t.xp6(5),t.hij(" ",t.xi3(19,10,n.price,"Pkr ")," "),t.xp6(2),t.Q6J("ngIf",n.oldPrice),t.xp6(2),t.Q6J("ngIf",n.isAvailable)("ngIfElse",i)}}function N(e,o){if(1&e&&(t.TgZ(0,"c-row",10),t.TgZ(1,"c-col",11),t.TgZ(2,"span",12),t.TgZ(3,"h4",13),t._uU(4),t.qZA(),t.YNc(5,C,3,0,"span",14),t.qZA(),t.TgZ(6,"c-card",15),t._UZ(7,"img",16),t.YNc(8,M,3,1,"c-card-body",17),t.qZA(),t.TgZ(9,"c-row",18),t.YNc(10,J,25,17,"c-col",7),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.Q6J("gutter",3),t.xp6(4),t.Oqu(n.title),t.xp6(1),t.Q6J("ngIf",!n.isAvailable),t.xp6(1),t.MGl("id","menu-",n.id,""),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(12,f,!n.isAvailable)),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(1),t.Q6J("lg",2)("md",2)("sm",1)("gutter",2),t.xp6(1),t.Q6J("ngForOf",n.items)}}function Y(e,o){if(1&e&&(t.TgZ(0,"c-container",3),t.TgZ(1,"button",4),t.O4$(),t._UZ(2,"svg",5),t.qZA(),t.kcU(),t.TgZ(3,"c-nav",6),t.YNc(4,A,3,1,"c-nav-item",7),t.qZA(),t.qZA(),t.YNc(5,N,11,14,"c-row",8)),2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.menus),t.xp6(1),t.Q6J("ngForOf",n.menus)}}let Q=(()=>{class e{constructor(n,i,s,u,D){this.mService=n,this.route=i,this.router=s,this.cartStore=u,this.branchStore=D,this.menus=[],this.cart=new x.A,this.perfectScrollbarConfig={suppressScrollX:!0},this.selectedMenu=!1,this.isLoading=!1}ngOnInit(){this.branchStore.select("branch").forEach(n=>this.loadMenuItems(n)),this.cartStore.select("cart").forEach(n=>{this.cart=n,this.updateMenuByCart()})}updateMenuByCart(){this.menus.forEach(n=>{n.items.forEach(i=>{let s=this.cart.items.find(u=>u.id==i.id);i.quantity=s?s.quantity:0})})}addToCart(n){this.cartStore.dispatch((0,h.X7)(n))}ngAfterViewChecked(){if(!this.selectedMenu){let n=this.route.snapshot.params.id;if(n){let i=document.querySelector(`#menu-${n}`);i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),this.selectedMenu=!0)}}}loadMenuItems(n){var i=this;return(0,g.Z)(function*(){i.isLoading=!0;let s={};n&&n.id&&(s={branchId:n.id}),yield i.mService.getMenusAndItems(s).forEach(u=>i.menus=u),i.isLoading=!1,i.updateMenuByCart()})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.h),t.Y36(r.gz),t.Y36(r.F0),t.Y36(m.yh),t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu-item-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["size","sm"],[1,"mb-4","d-flex","p-2","justify-content-start","bg-white","header-sticky"],["cButton","","shape","rounded-circle","color","danger"],["cIcon","","name","cilSearch","size","sm"],[1,"d-flex","flex-wrap"],[4,"ngFor","ngForOf"],["class","mb-4 animate fade-in",3,"gutter",4,"ngFor","ngForOf"],["routerLink","/public/menu","cNavLink","","routerLinkActive","active"],[1,"mb-4","animate","fade-in",3,"gutter"],[1,""],[1,"d-flex","gap-2","align-items-center","py-2"],[1,"my-0"],[4,"ngIf"],[1,"mb-2","d-flex","justify-content-between",3,"id"],[1,"img-lg","w-auto",3,"cCardImg","src","ngClass"],["class","align-self-stretch",4,"ngIf"],[3,"lg","md","sm","gutter"],["color","dark",1,""],[1,"align-self-stretch"],["cCardText","",1,"text-truncate"],[1,"d-flex","flex-row",3,"ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-grow-1","border-0","rounded-0","rounded-end"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-between"],["cCardTitle",""],["cCardText","","class","fw-normal text-truncate mb-1",4,"ngIf"],[1,"d-flex","flex-grow-1"],[1,"d-flex","flex-lg-row","flex-sm-row","flex-column","align-items-end","justify-content-sm-between","gap-2"],[1,"d-flex","flex-column","gap-1"],[1,"fw-semibold"],[1,"d-flex","flex-column","flex-md-row","gap-2"],["color","primary","shape","rounded-pill"],["color","danger","shape","rounded-pill",4,"ngIf"],[1,"d-block"],["cButton","","size","sm","class","position-relative",3,"ngClass","click",4,"ngIf","ngIfElse"],["notAvailable",""],["cCardText","",1,"fw-normal","text-truncate","mb-1"],["color","danger","shape","rounded-pill"],[1,"text-decoration-line-through"],["cButton","","size","sm",1,"position-relative",3,"ngClass","click"],["addToCartBlock",""],["color","danger","shape","rounded-pill","class","position-absolute top-0 start-100 translate-middle",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"]],template:function(n,i){if(1&n&&(t.YNc(0,T,4,0,"c-card",0),t.YNc(1,Y,6,2,"ng-template",null,1,t.W1O)),2&n){const s=t.MAs(2);t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[l.O5,c.AkF,c.yue,c.ORR,c.e$z,c.Hq3,d.ar,c.rZi,l.sg,c.HOP,r.yS,c.Vh3,r.Od,c.iok,c.Aij,c.Yp0,c.pce,l.mk,c.FN3,c.PVT,c.qkm],pipes:[l.H9],styles:[""]}),e})();function S(e,o){1&e&&(t.TgZ(0,"c-row",2),t.TgZ(1,"c-col"),t.TgZ(2,"c-card"),t.TgZ(3,"c-card-body"),t._UZ(4,"c-spinner",3),t._uU(5," Loading... "),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function F(e,o){1&e&&(t.TgZ(0,"c-badge",15),t._uU(1,"Not Available"),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"p",16),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.description)}}const E=function(e){return[e]},j=function(e){return{"text-muted":e}},B=function(e){return{"img-gray-scale":e}};function $(e,o){if(1&e&&(t.TgZ(0,"c-col",6),t.TgZ(1,"c-card",7),t._UZ(2,"img",8),t.TgZ(3,"c-card-body",9),t.TgZ(4,"span",10),t.TgZ(5,"h6",11),t._uU(6),t.qZA(),t.TgZ(7,"span"),t.YNc(8,F,2,0,"c-badge",12),t.qZA(),t.qZA(),t.YNc(9,k,2,1,"p",13),t.qZA(),t.TgZ(10,"c-badge",14),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(8,E,n.id))("ngClass",t.VKq(10,j,!n.isAvailable)),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(12,B,!n.isAvailable)),t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Q6J("ngIf",!n.isAvailable),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(2),t.hij(" ",n.totalItems,"")}}function z(e,o){if(1&e&&(t.TgZ(0,"c-row",4),t.YNc(1,$,12,14,"c-col",5),t.qZA()),2&e){const n=t.oxw();t.Q6J("lg",3)("md",2)("sm",1)("gutter",3),t.xp6(1),t.Q6J("ngForOf",n.menus)}}const R=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),e})(),children:[{path:"",component:(()=>{class e{constructor(n,i){this.mService=n,this.branchStore=i,this.isLoading=!1,this.menus=[]}ngOnInit(){this.loadMenus(),this.branchStore.select("branch").forEach(n=>this.loadMenus(n))}loadMenus(n){var i=this;return(0,g.Z)(function*(){i.isLoading=!0;let s={};n&&n.id&&(s={branchId:n.id}),yield i.mService.getMenus(s).forEach(u=>i.menus=u),i.isLoading=!1})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.h),t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu-list"]],decls:3,vars:2,consts:[["class","mt-4",4,"ngIf","ngIfElse"],["loadedBlock",""],[1,"mt-4"],["size","sm"],[1,"mt-4","justify-content-center",3,"lg","md","sm","gutter"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-row","flex-grow-1",3,"routerLink","ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-shrink-1"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,""],["color","light","class","text-dark",4,"ngIf"],["cCardText","","class","text-wrap text-truncate",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"],["cCardText","",1,"text-wrap","text-truncate"]],template:function(n,i){if(1&n&&(t.YNc(0,S,6,0,"c-row",0),t.YNc(1,z,2,5,"ng-template",null,1,t.W1O)),2&n){const s=t.MAs(2);t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[l.O5,c.iok,c.Yp0,c.AkF,c.yue,c.ORR,c.Aij,l.sg,r.rH,l.mk,c.pce,c.qkm,c.FN3,c.PVT],styles:[""]}),e})()}]},{path:":id",component:Q}];let V=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(R)],r.Bz]}),e})();var P=a(4466),X=a(5905),Z=a(8426);const H=[c.dTQ,c.hJ1,c.ejP,c.zE6,c.U$I,c.Fme,c.nMh,d.QX,c.TXv,Z.Xd,c.dGk,c.lKp,c.z8t],K=[X.zk.forRoot()],G={suppressScrollX:!0};let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:Z.op,useValue:G}],imports:[[l.ez,V,...H,...K,P.m]]}),e})()}}]);