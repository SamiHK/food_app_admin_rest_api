"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[611],{8611:(D,p,a)=>{a.r(p),a.d(p,{MenuModule:()=>G});var l=a(9808),u=a(3477),g=a(5861),x=a(302),Z=a(1106),t=a(4893),d=a(375),m=a(9633),i=a(5033);function h(e,c){1&e&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function T(e,c){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",14),t._uU(2,"Not Available"),t.qZA(),t.qZA())}function A(e,c){if(1&e&&(t.TgZ(0,"c-card-body",15),t.TgZ(1,"p",16),t._uU(2),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(n.description)}}function C(e,c){if(1&e&&(t.TgZ(0,"p",34),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.description,"")}}function M(e,c){if(1&e&&(t.TgZ(0,"c-badge",35),t.TgZ(1,"span",36),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,n.oldPrice,"Pkr ")," ")}}function I(e,c){1&e&&(t.TgZ(0,"span"),t._uU(1," Add more "),t.qZA())}function q(e,c){1&e&&t._uU(0," Add to Cart ")}function y(e,c){if(1&e&&(t.TgZ(0,"c-badge",40),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.quantity,"")}}const b=function(e,c){return{"btn-light":e,"btn-danger":c}};function L(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit;return t.oxw(3).addToCart(s)}),t.YNc(1,I,2,0,"span",0),t.YNc(2,q,1,0,"ng-template",null,38,t.W1O),t.YNc(4,y,2,1,"c-badge",39),t.qZA()}if(2&e){const n=t.MAs(3),o=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(4,b,o.quantity,!o.quantity)),t.xp6(1),t.Q6J("ngIf",o.quantity&&o.quantity>0)("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",o.quantity&&o.quantity>0)}}function v(e,c){1&e&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",41),t._uU(2,"Not Available"),t.qZA(),t.qZA())}const w=function(e){return{"text-muted":e}},_=function(e){return{"img-gray-scale":e}};function O(e,c){if(1&e&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card",17),t._UZ(2,"img",18),t.TgZ(3,"c-card",19),t.TgZ(4,"c-card-body",20),t.TgZ(5,"span",21),t.TgZ(6,"h6",22),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,C,2,1,"p",23),t._UZ(9,"span",24),t.TgZ(10,"span",25),t.TgZ(11,"span",26),t.TgZ(12,"small",27),t._uU(13),t.qZA(),t.TgZ(14,"span"),t.TgZ(15,"span",28),t.TgZ(16,"c-badge",29),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.qZA(),t.YNc(20,M,4,4,"c-badge",30),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"span",31),t.YNc(22,L,5,7,"button",32),t.YNc(23,v,3,0,"ng-template",null,33,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const n=c.$implicit,o=t.MAs(24);t.xp6(1),t.Q6J("ngClass",t.VKq(13,w,!n.isAvailable)),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(15,_,!n.isAvailable)),t.xp6(5),t.Oqu(n.title),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(5),t.Oqu(n.unit),t.xp6(5),t.hij(" ",t.xi3(19,10,n.price,"Pkr ")," "),t.xp6(2),t.Q6J("ngIf",n.oldPrice),t.xp6(2),t.Q6J("ngIf",n.isAvailable)("ngIfElse",o)}}function U(e,c){if(1&e&&(t.TgZ(0,"c-row",4),t.TgZ(1,"c-col",5),t.TgZ(2,"span",6),t.TgZ(3,"h4",7),t._uU(4),t.qZA(),t.YNc(5,T,3,0,"span",8),t.qZA(),t.TgZ(6,"c-card",9),t._UZ(7,"img",10),t.YNc(8,A,3,1,"c-card-body",11),t.qZA(),t.TgZ(9,"c-row",12),t.YNc(10,O,25,17,"c-col",13),t.qZA(),t.qZA(),t.qZA()),2&e){const n=c.$implicit;t.Q6J("gutter",3),t.xp6(4),t.Oqu(n.title),t.xp6(1),t.Q6J("ngIf",!n.isAvailable),t.xp6(1),t.MGl("id","menu-",n.id,""),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(12,_,!n.isAvailable)),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(1),t.Q6J("lg",2)("md",2)("sm",1)("gutter",2),t.xp6(1),t.Q6J("ngForOf",n.items)}}function J(e,c){if(1&e&&t.YNc(0,U,11,14,"c-row",3),2&e){const n=t.oxw();t.Q6J("ngForOf",n.menus)}}let Y=(()=>{class e{constructor(n,o,s,r,W){this.mService=n,this.route=o,this.router=s,this.cartStore=r,this.branchStore=W,this.menus=[],this.cart=new x.A,this.perfectScrollbarConfig={suppressScrollX:!0},this.selectedMenu=!1,this.isLoading=!1}ngOnInit(){this.branchStore.select("branch").forEach(n=>this.loadMenuItems(n)),this.cartStore.select("cart").forEach(n=>{this.cart=n,this.updateMenuByCart()})}updateMenuByCart(){this.menus.forEach(n=>{n.items.forEach(o=>{let s=this.cart.items.find(r=>r.id==o.id);o.quantity=s?s.quantity:0})})}addToCart(n){this.cartStore.dispatch((0,Z.X7)(n))}ngAfterViewChecked(){if(!this.selectedMenu){let n=this.route.snapshot.params.id;if(n){let o=document.querySelector(`#menu-${n}`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),this.selectedMenu=!0)}}}loadMenuItems(n){var o=this;return(0,g.Z)(function*(){o.isLoading=!0;let s={};n&&n.id&&(s={branchId:n.id}),yield o.mService.getMenusAndItems(s).forEach(r=>o.menus=r),o.isLoading=!1,o.updateMenuByCart()})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.h),t.Y36(u.gz),t.Y36(u.F0),t.Y36(m.yh),t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu-item-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["size","sm"],["class","mb-4 animate fade-in",3,"gutter",4,"ngFor","ngForOf"],[1,"mb-4","animate","fade-in",3,"gutter"],[1,""],[1,"d-flex","gap-2","align-items-center","py-2"],[1,"my-0"],[4,"ngIf"],[1,"mb-2","d-flex","justify-content-between",3,"id"],[1,"img-lg","w-auto",3,"cCardImg","src","ngClass"],["class","align-self-stretch",4,"ngIf"],[3,"lg","md","sm","gutter"],[4,"ngFor","ngForOf"],["color","dark",1,""],[1,"align-self-stretch"],["cCardText","",1,"text-truncate"],[1,"d-flex","flex-row",3,"ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-grow-1","border-0","rounded-0","rounded-end"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-between"],["cCardTitle",""],["cCardText","","class","fw-normal text-truncate mb-1",4,"ngIf"],[1,"d-flex","flex-grow-1"],[1,"d-flex","flex-lg-row","flex-sm-row","flex-column","align-items-end","justify-content-sm-between","gap-2"],[1,"d-flex","flex-column","gap-1"],[1,"fw-semibold"],[1,"d-flex","flex-column","flex-md-row","gap-2"],["color","primary","shape","rounded-pill"],["color","danger","shape","rounded-pill",4,"ngIf"],[1,"d-block"],["cButton","","size","sm","class","position-relative",3,"ngClass","click",4,"ngIf","ngIfElse"],["notAvailable",""],["cCardText","",1,"fw-normal","text-truncate","mb-1"],["color","danger","shape","rounded-pill"],[1,"text-decoration-line-through"],["cButton","","size","sm",1,"position-relative",3,"ngClass","click"],["addToCartBlock",""],["color","danger","shape","rounded-pill","class","position-absolute top-0 start-100 translate-middle",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"]],template:function(n,o){if(1&n&&(t.YNc(0,h,4,0,"c-card",0),t.YNc(1,J,1,1,"ng-template",null,1,t.W1O)),2&n){const s=t.MAs(2);t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},directives:[l.O5,i.AkF,i.yue,i.ORR,l.sg,i.iok,i.Aij,i.Yp0,i.pce,l.mk,i.FN3,i.PVT,i.qkm,i.Hq3],pipes:[l.H9],styles:[""]}),e})();function N(e,c){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.TgZ(2,"c-card"),t.TgZ(3,"c-card-body"),t._UZ(4,"c-spinner",2),t._uU(5," Loading... "),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function Q(e,c){1&e&&(t.TgZ(0,"c-badge",14),t._uU(1,"Not Available"),t.qZA())}function F(e,c){if(1&e&&(t.TgZ(0,"p",15),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.description)}}const S=function(e){return[e]},E=function(e){return{"text-muted":e}},k=function(e){return{"img-gray-scale":e}};function j(e,c){if(1&e&&(t.TgZ(0,"c-col",5),t.TgZ(1,"c-card",6),t._UZ(2,"img",7),t.TgZ(3,"c-card-body",8),t.TgZ(4,"span",9),t.TgZ(5,"h6",10),t._uU(6),t.qZA(),t.TgZ(7,"span"),t.YNc(8,Q,2,0,"c-badge",11),t.qZA(),t.qZA(),t.YNc(9,F,2,1,"p",12),t.qZA(),t.TgZ(10,"c-badge",13),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(8,S,n.id))("ngClass",t.VKq(10,E,!n.isAvailable)),t.xp6(1),t.Q6J("src",n.primaryImg,t.LSH)("ngClass",t.VKq(12,k,!n.isAvailable)),t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Q6J("ngIf",!n.isAvailable),t.xp6(1),t.Q6J("ngIf",n.description),t.xp6(2),t.hij(" ",n.totalItems,"")}}function B(e,c){if(1&e&&(t.TgZ(0,"c-row",3),t.YNc(1,j,12,14,"c-col",4),t.qZA()),2&e){const n=t.oxw();t.Q6J("lg",3)("md",2)("sm",1)("gutter",3),t.xp6(1),t.Q6J("ngForOf",n.menus)}}const R=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),e})(),children:[{path:"",component:(()=>{class e{constructor(n,o){this.mService=n,this.branchStore=o,this.isLoading=!1,this.menus=[]}ngOnInit(){this.loadMenus(),this.branchStore.select("branch").forEach(n=>this.loadMenus(n))}loadMenus(n){var o=this;return(0,g.Z)(function*(){o.isLoading=!0;let s={};n&&n.id&&(s={branchId:n.id}),yield o.mService.getMenus(s).forEach(r=>o.menus=r),o.isLoading=!1})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.h),t.Y36(m.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menu-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["size","sm"],[1,"justify-content-center",3,"lg","md","sm","gutter"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-row","flex-grow-1",3,"routerLink","ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-shrink-1"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,""],["color","light","class","text-dark",4,"ngIf"],["cCardText","","class","text-wrap text-truncate",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"],["cCardText","",1,"text-wrap","text-truncate"]],template:function(n,o){if(1&n&&(t.YNc(0,N,6,0,"c-row",0),t.YNc(1,B,2,5,"ng-template",null,1,t.W1O)),2&n){const s=t.MAs(2);t.Q6J("ngIf",o.isLoading)("ngIfElse",s)}},directives:[l.O5,i.iok,i.Yp0,i.AkF,i.yue,i.ORR,i.Aij,l.sg,u.rH,l.mk,i.pce,i.qkm,i.FN3,i.PVT],styles:[""]}),e})()}]},{path:":id",component:Y}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(R)],u.Bz]}),e})();var z=a(1728),V=a(4466),X=a(5905),f=a(8426);const P=[i.dTQ,i.hJ1,i.ejP,i.zE6,i.U$I,i.Fme,i.nMh,z.QX,i.TXv,f.Xd,i.dGk,i.lKp,i.z8t],H=[X.zk.forRoot()],K={suppressScrollX:!0};let G=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:f.op,useValue:K}],imports:[[l.ez,$,...P,...H,V.m]]}),e})()}}]);