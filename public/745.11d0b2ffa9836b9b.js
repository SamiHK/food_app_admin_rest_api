"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[745],{5745:(ct,g,a)=>{a.r(g),a.d(g,{PublicWebModule:()=>nt});var r=a(9808),u=a(3477),_=a(5861),Z=a(302),T=a(1106),t=a(4893),d=a(375),p=a(9633),o=a(5033),m=a(2382),f=a(1728);function A(n,i){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function C(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",12),t.TgZ(1,"c-input-group"),t.TgZ(2,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).hideSearch()}),t.O4$(),t._UZ(3,"svg",14),t.qZA(),t.kcU(),t.TgZ(4,"input",15),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).searchQuery=s}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.searchQuery)}}function I(n,i){1&n&&t._UZ(0,"c-spinner",2)}function b(n,i){1&n&&(t.O4$(),t._UZ(0,"svg",16))}function M(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"c-nav-item"),t.TgZ(1,"a",17),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).scrollTo(l)}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.title)}}function q(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",26),t._uU(2,"Not Available"),t.qZA(),t.qZA())}function y(n,i){if(1&n&&(t.TgZ(0,"c-card-body",27),t.TgZ(1,"p",28),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.description)}}function v(n,i){if(1&n&&(t.TgZ(0,"p",45),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.description,"")}}function w(n,i){if(1&n&&(t.TgZ(0,"c-badge",46),t.TgZ(1,"span",47),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.oldPrice,"Pkr ")," ")}}function S(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," Add more "),t.qZA())}function J(n,i){1&n&&t._uU(0," Add to Cart ")}function O(n,i){if(1&n&&(t.TgZ(0,"c-badge",51),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.quantity,"")}}const Q=function(n,i){return{"btn-light":n,"btn-danger":i}};function N(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(3).addToCart(s)}),t.YNc(1,S,2,0,"span",0),t.YNc(2,J,1,0,"ng-template",null,49,t.W1O),t.YNc(4,O,2,1,"c-badge",50),t.qZA()}if(2&n){const e=t.MAs(3),c=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(4,Q,c.quantity,!c.quantity)),t.xp6(1),t.Q6J("ngIf",c.quantity&&c.quantity>0)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",c.quantity&&c.quantity>0)}}function U(n,i){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",52),t._uU(2,"Not Available"),t.qZA(),t.qZA())}const L=function(n){return{"text-muted":n}},h=function(n){return{"img-gray-scale":n}};function Y(n,i){if(1&n&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card",29),t._UZ(2,"img",30),t.TgZ(3,"c-card",31),t.TgZ(4,"c-card-body",32),t.TgZ(5,"span",33),t.TgZ(6,"h6",34),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,v,2,1,"p",35),t._UZ(9,"span",12),t.TgZ(10,"span",36),t.TgZ(11,"span",37),t.TgZ(12,"small",38),t._uU(13),t.qZA(),t.TgZ(14,"span"),t.TgZ(15,"span",39),t.TgZ(16,"c-badge",40),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.qZA(),t.YNc(20,w,4,4,"c-badge",41),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"span",42),t.YNc(22,N,5,7,"button",43),t.YNc(23,U,3,0,"ng-template",null,44,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit,c=t.MAs(24);t.xp6(1),t.Q6J("ngClass",t.VKq(13,L,!e.isAvailable)),t.xp6(1),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(15,h,!e.isAvailable)),t.xp6(5),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(5),t.Oqu(e.unit),t.xp6(5),t.hij(" ",t.xi3(19,10,e.price,"Pkr ")," "),t.xp6(2),t.Q6J("ngIf",e.oldPrice),t.xp6(2),t.Q6J("ngIf",e.isAvailable)("ngIfElse",c)}}function k(n,i){if(1&n&&(t.TgZ(0,"c-row",18),t.TgZ(1,"c-col",9),t.TgZ(2,"span",19),t.TgZ(3,"h4",20),t._uU(4),t.qZA(),t.YNc(5,q,3,0,"span",21),t.qZA(),t.TgZ(6,"c-card",22),t._UZ(7,"img",23),t.YNc(8,y,3,1,"c-card-body",24),t.qZA(),t.TgZ(9,"c-row",25),t.YNc(10,Y,25,17,"c-col",10),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.MGl("id","menu-",e.id,""),t.Q6J("gutter",3),t.xp6(4),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",!e.isAvailable),t.xp6(2),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(12,h,!e.isAvailable)),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(1),t.Q6J("lg",2)("md",2)("sm",1)("gutter",2),t.xp6(1),t.Q6J("ngForOf",e.items)}}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"c-container",3),t.TgZ(1,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().searchToggle()}),t.YNc(2,C,5,1,"span",5),t.TgZ(3,"span"),t.TgZ(4,"button",6),t.YNc(5,I,1,0,"c-spinner",7),t.YNc(6,b,1,0,"ng-template",null,8,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"c-nav",9),t.YNc(9,M,3,1,"c-nav-item",10),t.qZA(),t.qZA(),t.YNc(10,k,11,14,"c-row",11)}if(2&n){const e=t.MAs(7),c=t.oxw();t.xp6(2),t.Q6J("ngIf",c.isSearch),t.xp6(3),t.Q6J("ngIf",c.isSearching)("ngIfElse",e),t.xp6(4),t.Q6J("ngForOf",c.menus),t.xp6(1),t.Q6J("ngForOf",c.menus)}}let E=(()=>{class n{constructor(e,c,s,l,x){this.mService=e,this.route=c,this.router=s,this.cartStore=l,this.branchStore=x,this.isSearch=!1,this.menus=[],this.cart=new Z.A,this.perfectScrollbarConfig={suppressScrollX:!0},this.selectedMenu=!1,this.isLoading=!1,this.isSearching=!1}ngOnInit(){this.branchStore.select("branch").forEach(e=>this.loadMenuItems(e)),this.cartStore.select("cart").forEach(e=>{this.cart=e,this.updateMenuByCart()})}updateMenuByCart(){this.menus.forEach(e=>{e.items.forEach(c=>{let s=this.cart.items.find(l=>l.id==c.id);c.quantity=s?s.quantity:0})})}addToCart(e){this.cartStore.dispatch((0,T.X7)(e))}ngAfterViewChecked(){}loadMenuItems(e){var c=this;return(0,_.Z)(function*(){c.branch=e,c.isLoading=!0;let s={};e&&e.id&&(s={branchId:e.id}),yield c.mService.getMenusAndItems(s).forEach(l=>c.menus=l),c.isLoading=!1,c.updateMenuByCart()})()}searchMenu(){var e=this;return(0,_.Z)(function*(){if(e.searchQuery){e.isSearching=!0;let c={q:e.searchQuery};e.branch&&e.branch.id&&(c.branchId=e.branch.id),yield e.mService.getMenusAndItems(c).forEach(s=>e.menus=s),e.isSearching=!1,e.updateMenuByCart()}})()}hideSearch(){this.isSearch=!1,this.loadMenuItems(this.branch),this.searchQuery=void 0}searchToggle(){this.isSearch?this.searchMenu():this.isSearch=!0}scrollTo(e){if(e&&e.id){let c=document.querySelector(`#menu-${e.id}`);c&&(c.scrollIntoView({behavior:"smooth",block:"start"}),this.selectedMenu=!0)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.h),t.Y36(u.gz),t.Y36(u.F0),t.Y36(p.yh),t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-items"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["size","sm"],[1,"mb-4","d-flex","p-2","flex-md-row","flex-column","justify-content-start","bg-white","sticky-top"],[1,"d-flex","flex-row","gap-2",3,"ngSubmit"],["class","d-flex flex-grow-1",4,"ngIf"],["cButton","","type","submit","color","danger","size",""],["size","sm",4,"ngIf","ngIfElse"],["searchIconBlock",""],[1,""],[4,"ngFor","ngForOf"],["class","mb-4 animate fade-in",3,"gutter","id",4,"ngFor","ngForOf"],[1,"d-flex","flex-grow-1"],["cButton","","type","button","color","light","size","",3,"click"],["cIcon","","name","cilX","size","sm"],["cFormControl","","name","searchQuery","placeholder","Search",3,"ngModel","ngModelChange"],["cIcon","","name","cilSearch","size","sm"],["cNavLink","","routerLinkActive","active",3,"click"],[1,"mb-4","animate","fade-in",3,"gutter","id"],[1,"d-flex","gap-2","align-items-center","py-2"],[1,"my-0"],[4,"ngIf"],[1,"mb-2","d-flex","justify-content-between"],[1,"img-lg","w-auto",3,"cCardImg","src","ngClass"],["class","align-self-stretch",4,"ngIf"],[3,"lg","md","sm","gutter"],["color","dark",1,""],[1,"align-self-stretch"],["cCardText","",1,"text-truncate"],[1,"d-flex","flex-row",3,"ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-grow-1","border-0","rounded-0","rounded-end"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-between"],["cCardTitle",""],["cCardText","","class","fw-normal text-truncate mb-1",4,"ngIf"],[1,"d-flex","flex-lg-row","flex-sm-row","flex-column","align-items-end","justify-content-sm-between","gap-2"],[1,"d-flex","flex-column","gap-1"],[1,"fw-semibold"],[1,"d-flex","flex-column","flex-md-row","gap-2"],["color","primary","shape","rounded-pill"],["color","danger","shape","rounded-pill",4,"ngIf"],[1,"d-block"],["cButton","","size","sm","class","position-relative",3,"ngClass","click",4,"ngIf","ngIfElse"],["notAvailable",""],["cCardText","",1,"fw-normal","text-truncate","mb-1"],["color","danger","shape","rounded-pill"],[1,"text-decoration-line-through"],["cButton","","size","sm",1,"position-relative",3,"ngClass","click"],["addToCartBlock",""],["color","danger","shape","rounded-pill","class","position-absolute top-0 start-100 translate-middle",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"]],template:function(e,c){if(1&e&&(t.YNc(0,A,4,0,"c-card",0),t.YNc(1,F,11,5,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",c.isLoading)("ngIfElse",s)}},directives:[r.O5,o.AkF,o.yue,o.ORR,o.e$z,m._Y,m.JL,m.F,o.Hq3,o.rZi,r.sg,o.g8K,f.ar,o.oHf,m.Fj,m.JJ,m.On,o.HOP,o.Vh3,u.Od,o.iok,o.Aij,o.Yp0,o.pce,r.mk,o.FN3,o.PVT,o.qkm],pipes:[r.H9],styles:[""]}),n})();function j(n,i){1&n&&(t.TgZ(0,"c-row",2),t.TgZ(1,"c-col"),t.TgZ(2,"c-card"),t.TgZ(3,"c-card-body"),t._UZ(4,"c-spinner",3),t._uU(5," Loading... "),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function B(n,i){1&n&&(t.TgZ(0,"c-badge",15),t._uU(1,"Not Available"),t.qZA())}function z(n,i){if(1&n&&(t.TgZ(0,"p",16),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.description)}}const $=function(n){return[n]},P=function(n){return{"text-muted":n}},H=function(n){return{"img-gray-scale":n}};function W(n,i){if(1&n&&(t.TgZ(0,"c-col",6),t.TgZ(1,"c-card",7),t._UZ(2,"img",8),t.TgZ(3,"c-card-body",9),t.TgZ(4,"span",10),t.TgZ(5,"h6",11),t._uU(6),t.qZA(),t.TgZ(7,"span"),t.YNc(8,B,2,0,"c-badge",12),t.qZA(),t.qZA(),t.YNc(9,z,2,1,"p",13),t.qZA(),t.TgZ(10,"c-badge",14),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(8,$,e.id))("ngClass",t.VKq(10,P,!e.isAvailable)),t.xp6(1),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(12,H,!e.isAvailable)),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",!e.isAvailable),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(2),t.hij(" ",e.totalItems,"")}}function V(n,i){if(1&n&&(t.TgZ(0,"c-row",4),t.YNc(1,W,12,14,"c-col",5),t.qZA()),2&n){const e=t.oxw();t.Q6J("lg",3)("md",2)("sm",1)("gutter",3),t.xp6(1),t.Q6J("ngForOf",e.menus)}}const R=[{path:"menu",component:(()=>{class n{constructor(e,c){this.mService=e,this.branchStore=c,this.isLoading=!1,this.menus=[]}ngOnInit(){this.loadMenus(),this.branchStore.select("branch").forEach(e=>this.loadMenus(e))}loadMenus(e){var c=this;return(0,_.Z)(function*(){c.isLoading=!0;let s={};e&&e.id&&(s={branchId:e.id}),yield c.mService.getMenus(s).forEach(l=>c.menus=l),c.isLoading=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.h),t.Y36(p.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-list"]],decls:3,vars:2,consts:[["class","mt-4",4,"ngIf","ngIfElse"],["loadedBlock",""],[1,"mt-4"],["size","sm"],[1,"mt-4","justify-content-center",3,"lg","md","sm","gutter"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-row","flex-grow-1",3,"routerLink","ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-shrink-1"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,""],["color","light","class","text-dark",4,"ngIf"],["cCardText","","class","text-wrap text-truncate",4,"ngIf"],["color","danger","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"],["cCardText","",1,"text-wrap","text-truncate"]],template:function(e,c){if(1&e&&(t.YNc(0,j,6,0,"c-row",0),t.YNc(1,V,2,5,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",c.isLoading)("ngIfElse",s)}},directives:[r.O5,o.iok,o.Yp0,o.AkF,o.yue,o.ORR,o.Aij,r.sg,u.rH,r.mk,o.pce,o.qkm,o.FN3,o.PVT],styles:[""]}),n})(),children:[]},{path:"menu/:id",component:E}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(R)],u.Bz]}),n})();var K=a(5905),G=a(8426),D=a(4466);const tt=[o.dTQ,o.hJ1,o.ejP,o.zE6,o.U$I,o.Fme,o.nMh,f.QX,o.TXv,G.Xd,o.dGk,o.lKp,o.z8t,o.Opr,o._YA],et=[K.zk.forRoot()];let nt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,X,m.u5,m.UX,...tt,...et,D.m]]}),n})()}}]);