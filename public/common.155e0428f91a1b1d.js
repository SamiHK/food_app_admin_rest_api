"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[592],{936:(u,p,r)=>{r.d(p,{I:()=>o});class o{constructor(){this.id="",this.name="",this.code="",this.totalActiveSalespersons=0}}},2205:(u,p,r)=>{r.d(p,{i:()=>a});var a=(()=>{return(s=a||(a={})).IN_CART="IN_CART",s.PENDING="PENDING",s.ACCEPTED="ACCEPTED",s.IN_PROGRESS="IN_PROGRESS",s.DISPATCHED="DISPATCHED",s.DELIVERED="DELIVERED",s.RETURNED="RETURNED",s.CANCELED="CANCELED",s.COMPLETED="COMPLETED",a;var s})()},9663:(u,p,r)=>{r.d(p,{b:()=>l});var o=r(262),a=r(2340),s=r(4893),t=r(520),E=r(5450);let l=(()=>{class n{constructor(e,_){this.http=e,this.commonService=_,this.BASE_URL=`${a.N.BASE_URL}/admin/branch`}salesperson(e,_){return this.http.get(`${this.BASE_URL}/${e}/salespersons`,{params:_}).pipe((0,o.K)(this.commonService.catchError))}filter(e){return this.http.get(`${this.BASE_URL}`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}available(e){return this.http.get(`${this.BASE_URL}/available`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}save(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}updateAddress(e,_){return this.http.post(`${this.BASE_URL}/${e}/address`,_).pipe((0,o.K)(this.commonService.catchError))}updateManager(e,_){return this.http.post(`${this.BASE_URL}/${e}/manager`,_).pipe((0,o.K)(this.commonService.catchError))}get(e){return this.http.get(`${this.BASE_URL}/${e}`).pipe((0,o.K)(this.commonService.catchError))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t.eN),s.LFG(E.v))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9030:(u,p,r)=>{r.d(p,{b:()=>l});var o=r(262),a=r(2340),s=r(4893),t=r(520),E=r(5450);let l=(()=>{class n{constructor(e,_){this.http=e,this.commonService=_,this.BASE_URL=`${a.N.BASE_URL}/admin/manager`}get(e){return this.http.get(`${this.BASE_URL}/${e}`).pipe((0,o.K)(this.commonService.catchError))}available(e){return this.http.get(`${this.BASE_URL}/available`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}filter(e){return this.http.get(`${this.BASE_URL}`,{params:e}).pipe((0,o.K)(this.commonService.catchError))}register(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t.eN),s.LFG(E.v))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},2398:(u,p,r)=>{r.d(p,{p:()=>l});var o=r(262),a=r(2340),s=r(4893),t=r(520),E=r(5450);let l=(()=>{class n{constructor(e,_){this.http=e,this.commonService=_,this.BASE_URL=`${a.N.BASE_URL}/order`}create(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}get(e,_=1){return this.http.get(`${this.BASE_URL}/${e}`,{params:{page:_}}).pipe((0,o.K)(this.commonService.catchError))}getById(e){return this.http.get(`${this.BASE_URL}/detail/${e}`).pipe((0,o.K)(this.commonService.catchError))}cancelOrder(e){return this.http.get(`${this.BASE_URL}/cancel/${e}`).pipe((0,o.K)(this.commonService.catchError))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t.eN),s.LFG(E.v))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},104:(u,p,r)=>{r.d(p,{p:()=>l});var o=r(262),a=r(2340),s=r(4893),t=r(520),E=r(5450);let l=(()=>{class n{constructor(e,_){this.http=e,this.commonService=_,this.BASE_URL=`${a.N.BASE_URL}/salesperson/order`}create(e){return this.http.post(`${this.BASE_URL}`,e).pipe((0,o.K)(this.commonService.catchError))}get(e,_=1){return this.http.get(`${this.BASE_URL}/${e}`,{params:{page:_}}).pipe((0,o.K)(this.commonService.catchError))}changeStatus(e,_){return this.http.put(`${this.BASE_URL}/status`,{orderId:e,status:_}).pipe((0,o.K)(this.commonService.catchError))}getById(e){return this.http.get(`${this.BASE_URL}/detail/${e}`).pipe((0,o.K)(this.commonService.catchError))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(t.eN),s.LFG(E.v))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},4856:(u,p,r)=>{r.d(p,{X:()=>T});var o=r(5861),a=r(2382),s=r(5705),t=r(4893),E=r(3477),l=r(9663),n=r(5033),m=r(9808),e=r(6939),_=r(9553);function A(c,g){1&c&&(t.TgZ(0,"tr"),t.TgZ(1,"td",9),t._UZ(2,"c-spinner",10),t.qZA(),t.qZA())}const L=function(c){return{"table-dark":c}};function S(c,g){if(1&c&&(t.TgZ(0,"tr",13),t.TgZ(1,"td"),t._UZ(2,"app-user-active-switch",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()),2&c){const i=g.$implicit;t.Q6J("ngClass",t.VKq(5,L,!i.enabled)),t.xp6(2),t.Q6J("user",i),t.xp6(2),t.Oqu(i.username),t.xp6(2),t.Oqu(i.email),t.xp6(2),t.Oqu(i.fullName)}}function D(c,g){1&c&&(t.TgZ(0,"tr"),t.TgZ(1,"td",15),t._uU(2," Empty "),t.qZA(),t.qZA())}function M(c,g){if(1&c&&(t.YNc(0,S,9,7,"tr",11),t.YNc(1,D,3,0,"tr",12)),2&c){const i=t.oxw();t.Q6J("ngForOf",i.page.items),t.xp6(1),t.Q6J("ngIf",0==i.page.items.length)}}let T=(()=>{class c{constructor(i,h){this.route=i,this.abService=h,this.form=new a.cw({search:new a.NI(null,a.kI.required)}),this.page=new s.T,this.branchId=null,this.isLoading=!1}ngOnInit(){this.branchId=this.route.snapshot.params.branchId,this.loadManagers()}loadManagers(i){var h=this;return(0,o.Z)(function*(){h.isLoading=!0,h.branchId&&(yield h.abService.salesperson(h.branchId,i).forEach(v=>h.page=v).finally(()=>h.isLoading=!1))})()}filter(){this.form.valid?this.loadManagers(this.form.value):this.loadManagers()}onPageChange(i){this.form.valid?(Object.assign(i,this.form.value),this.loadManagers(i)):this.loadManagers({number:i.page})}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(E.gz),t.Y36(l.b))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-salesperson-list"]],decls:27,vars:5,consts:[[1,"mb-4"],[3,"formGroup","ngSubmit"],["cFormFloating",""],["cFormControl","","formControlName","search","name","search","type","search","placeholder","Search by username, email or name","autofocus",""],["cLabel","","for","search"],["cTable","","hover",""],[4,"ngIf","ngIfElse"],["showResult",""],[3,"totalItems","ngModel","ngModelChange","pageChanged"],["colspan","5",1,"text-center","my-2"],["aria-hidden","true","label","Loading..."],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass"],[3,"user"],["colspan","5",1,"text-center"]],template:function(i,h){if(1&i&&(t.TgZ(0,"c-card",0),t.TgZ(1,"c-card-body"),t.TgZ(2,"c-row"),t.TgZ(3,"c-col"),t.TgZ(4,"form",1),t.NdJ("ngSubmit",function(){return h.filter()}),t.TgZ(5,"div",2),t._UZ(6,"input",3),t.TgZ(7,"label",4),t._uU(8,"Search by username, email or name"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"c-row"),t.TgZ(11,"c-col"),t.TgZ(12,"table",5),t.TgZ(13,"thead"),t.TgZ(14,"tr"),t._UZ(15,"th"),t.TgZ(16,"th"),t._uU(17,"Username"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Email"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Full name"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"tbody"),t.YNc(23,A,3,0,"tr",6),t.YNc(24,M,2,2,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.TgZ(26,"pagination",8),t.NdJ("ngModelChange",function(d){return h.page.number=d})("pageChanged",function(d){return h.onPageChange(d)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const v=t.MAs(25);t.xp6(4),t.Q6J("formGroup",h.form),t.xp6(19),t.Q6J("ngIf",h.isLoading)("ngIfElse",v),t.xp6(3),t.Q6J("totalItems",h.page.total)("ngModel",h.page.number)}},directives:[n.AkF,n.yue,n.iok,n.Yp0,a._Y,a.JL,a.sg,n.xPZ,n.oHf,a.Fj,a.JJ,a.u,n.eFW,n.auY,m.O5,e.Qt,a.On,n.ORR,m.sg,m.mk,_.H],styles:[""]}),c})()}}]);