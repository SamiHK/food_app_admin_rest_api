"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[937],{1937:(se,Z,l)=>{l.r(Z),l.d(Z,{MenuModule:()=>ae});var r=l(9808),u=l(3477),m=l(5861),e=l(4893),g=l(262),A=l(2340),C=l(520),x=l(3093);let p=(()=>{class t{constructor(n,i){this.http=n,this.commonService=i,this.BASE_URL=`${A.N.BASE_URL}/manager/menu`}menus(n){return this.http.get(`${this.BASE_URL}`,{params:n}).pipe((0,g.K)(this.commonService.catchError))}menuItems(n){return this.http.get(`${this.BASE_URL}/${n}/item`).pipe((0,g.K)(this.commonService.catchError))}menuAvailability(n){return this.http.post(`${this.BASE_URL}/availability`,n).pipe((0,g.K)(this.commonService.catchError))}menuItemAvailability(n){return this.http.post(`${this.BASE_URL}/item/availability`,n).pipe((0,g.K)(this.commonService.catchError))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(C.eN),e.LFG(x.v))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=l(5033),h=l(8426),d=l(8333);function T(t,a){1&t&&(e.TgZ(0,"c-row"),e.TgZ(1,"c-col"),e._UZ(2,"c-spinner",2),e._uU(3," Loading... "),e.qZA(),e.qZA())}function v(t,a){if(1&t&&(e.TgZ(0,"c-badge",10),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.totalItems,"")}}const I=function(t){return{"bg-secondary":t}},L=function(t){return["../",t]};function y(t,a){if(1&t&&(e.TgZ(0,"a",7),e.TgZ(1,"span"),e.TgZ(2,"h6",8),e._uU(3),e.qZA(),e.qZA(),e.YNc(4,v,2,1,"c-badge",9),e.qZA()),2&t){const n=a.$implicit;e.Q6J("ngClass",e.VKq(4,I,!n.isAvailable))("routerLink",e.VKq(6,L,n.id)),e.xp6(3),e.Oqu(n.title),e.xp6(1),e.Q6J("ngIf",n.totalItems)}}function q(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"ul",5),e.NdJ("dragulaModelChange",function(s){return e.CHM(n),e.oxw(2).menus=s}),e.YNc(1,y,5,8,"a",6),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("dragulaModel",n.menus),e.xp6(1),e.Q6J("ngForOf",n.menus)}}function b(t,a){1&t&&e._uU(0," Empty Menu ")}function E(t,a){if(1&t&&(e.TgZ(0,"perfect-scrollbar"),e.YNc(1,q,2,2,"ul",3),e.YNc(2,b,1,0,"ng-template",null,4,e.W1O),e.qZA()),2&t){const n=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.menus.length>0)("ngIfElse",n)}}let N=(()=>{class t{constructor(){this.menus=[],this.isLoading=!1}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-navigation-list"]],inputs:{menus:"menus",isLoading:"isLoading"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],["flush","","cListGroup","","dragula","menus",3,"dragulaModel","dragulaModelChange",4,"ngIf","ngIfElse"],["emptyMenuBlock",""],["flush","","cListGroup","","dragula","menus",3,"dragulaModel","dragulaModelChange"],["cListGroupItem","","routerLinkActive","active","class","d-flex justify-content-between align-items-center border-0 my-1 rounded",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["cListGroupItem","","routerLinkActive","active",1,"d-flex","justify-content-between","align-items-center","border-0","my-1","rounded",3,"ngClass","routerLink"],[1,"my-1"],["color","primary","shape","rounded-pill","class","float-end",4,"ngIf"],["color","primary","shape","rounded-pill",1,"float-end"]],template:function(n,i){if(1&n&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e.YNc(2,T,4,0,"c-row",0),e.YNc(3,E,4,2,"ng-template",null,1,e.W1O),e.qZA(),e.qZA()),2&n){const s=e.MAs(4);e.xp6(2),e.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[o.AkF,o.yue,r.O5,o.iok,o.Yp0,o.ORR,h.Vv,o.Xre,d.sW,r.sg,u.yS,o.Ow$,u.Od,r.mk,o.FN3],styles:[""]}),t})();var _=l(5458);function w(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._UZ(2,"c-spinner",2),e._uU(3," Loading... "),e.qZA(),e.qZA())}function O(t,a){if(1&t&&e._UZ(0,"img",15),2&t){const n=e.oxw(3);e.Q6J("src",n.menu.primaryImg,e.LSH)}}function U(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"c-card",5),e.TgZ(1,"c-card-body",6),e.TgZ(2,"c-row"),e.TgZ(3,"c-col",7),e.YNc(4,O,1,1,"img",8),e.qZA(),e.TgZ(5,"c-col",9),e.TgZ(6,"span",10),e.TgZ(7,"h3",11),e._uU(8),e.qZA(),e.TgZ(9,"span",12),e.TgZ(10,"app-input-switch",13),e.NdJ("onChange",function(s){return e.CHM(n),e.oxw(2).onChangeAvailability(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"p",14),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",n.menu.primaryImg),e.xp6(4),e.Oqu(n.menu.title),e.xp6(2),e.Q6J("isLoading",n.updatingAvailableStatus)("status",n.menu.isAvailable),e.xp6(2),e.Oqu(n.menu.description)}}function S(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._uU(2," Menu Not Selected "),e.qZA(),e.qZA())}function J(t,a){if(1&t&&(e.YNc(0,U,13,5,"ng-template",3),e.YNc(1,S,3,0,"ng-template",null,4,e.W1O)),2&t){const n=e.MAs(2),i=e.oxw();e.Q6J("ngIf",i.menu)("ngIfElse",n)}}let Y=(()=>{class t{constructor(n){this.mService=n,this.isLoading=!1,this.updatingAvailableStatus=!1}ngOnInit(){}onChangeAvailability(n){var i=this;return(0,m.Z)(function*(){console.log(n),null!=n&&null!=n&&i.menu&&(i.updatingAvailableStatus=!0,i.menu.isAvailable=n.status,yield i.mService.menuAvailability(i.menu).forEach(s=>console.log(s)),i.updatingAvailableStatus=!1)})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-card"]],inputs:{menu:"menu",isLoading:"isLoading"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],[3,"ngIf","ngIfElse"],["emptyMenuBlock",""],[1,"mb-3"],[1,""],["sm","1","md","4"],["cImg","","rounded","","fluid","",3,"src",4,"ngIf"],["sm","11","md","8"],[1,"d-flex","justify-content-between"],["cCardTitle",""],[1,"d-block-inline"],["label","Is Available",3,"isLoading","status","onChange"],["cCardText",""],["cImg","","rounded","","fluid","",3,"src"]],template:function(n,i){if(1&n&&(e.YNc(0,w,4,0,"c-card",0),e.YNc(1,J,3,2,"ng-template",null,1,e.W1O)),2&n){const s=e.MAs(2);e.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[r.O5,o.AkF,o.yue,o.ORR,o.iok,o.Yp0,o.qkm,_.a,o.PVT,o.XLq],styles:[""]}),t})(),F=(()=>{class t{constructor(n,i){this.route=n,this.mService=i,this.menus=[],this.isLoadingMenu=!1}ngOnInit(){var n=this;return(0,m.Z)(function*(){yield n.loadMenu(),n.route.params.forEach(i=>{if(i.id){let s=i.id;n.selectMenu(n.menus.find(c=>c.id==s))}})})()}selectMenu(n){this.selectedMenu=n}loadMenu(){var n=this;return(0,m.Z)(function*(){n.isLoadingMenu=!0,yield n.mService.menus().forEach(i=>n.menus=i),n.isLoadingMenu=!1})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.gz),e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-board"]],decls:6,vars:4,consts:[["md","4"],[3,"menus","isLoading"],["md","8"],[3,"menu","isLoading"]],template:function(n,i){1&n&&(e.TgZ(0,"c-row"),e.TgZ(1,"c-col",0),e._UZ(2,"app-menu-navigation-list",1),e.qZA(),e.TgZ(3,"c-col",2),e._UZ(4,"app-menu-card",3),e._UZ(5,"router-outlet"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("menus",i.menus)("isLoading",i.isLoadingMenu),e.xp6(2),e.Q6J("menu",i.selectedMenu)("isLoading",i.isLoadingMenu))},directives:[o.iok,o.Yp0,N,Y,u.lC],styles:[""]}),t})();var Q=l(727);function B(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._UZ(2,"c-spinner",2),e._uU(3," Loading... "),e.qZA(),e.qZA())}function j(t,a){if(1&t&&e._UZ(0,"img",17),2&t){const n=e.oxw().$implicit;e.Q6J("src",n.primaryImg,e.LSH)}}function R(t,a){if(1&t&&(e.TgZ(0,"span"),e.TgZ(1,"c-badge",18),e.TgZ(2,"span",19),e._uU(3),e.ALo(4,"currency"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(3),e.hij(" ",e.xi3(4,1,n.oldPrice,"Pkr ")," ")}}function k(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"c-col",7),e.TgZ(1,"c-card",8),e.YNc(2,j,1,1,"img",9),e.TgZ(3,"c-card-body",10),e.TgZ(4,"span",11),e.TgZ(5,"h6"),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"div",12),e.TgZ(10,"span",13),e.TgZ(11,"span"),e.TgZ(12,"c-badge",14),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.qZA(),e.YNc(15,R,5,4,"span",15),e.qZA(),e.TgZ(16,"span"),e.TgZ(17,"app-input-switch",16),e.NdJ("onChange",function(s){return e.CHM(n),e.oxw(3).onChangeMenuItemAvailability(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=a.$implicit;e.xp6(2),e.Q6J("ngIf",n.primaryImg),e.xp6(4),e.Oqu(n.title),e.xp6(2),e.Oqu(n.description),e.xp6(5),e.Oqu(e.xi3(14,8,n.price,"Pkr ")),e.xp6(2),e.Q6J("ngIf",n.oldPrice),e.xp6(2),e.Q6J("isLoading",n.updatingAvailability)("id",n.id)("status",n.isAvailable)}}function $(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"c-row",5),e.NdJ("dragulaModelChange",function(s){return e.CHM(n),e.oxw(2).menuItems=s}),e.YNc(1,k,18,11,"c-col",6),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("md",2)("sm",1)("gutter",2)("dragulaModel",n.menuItems),e.xp6(1),e.Q6J("ngForOf",n.menuItems)}}function z(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._uU(2," empty "),e.qZA(),e.qZA())}function X(t,a){if(1&t&&(e.YNc(0,$,2,5,"ng-template",3),e.YNc(1,z,3,0,"ng-template",null,4,e.W1O)),2&t){const n=e.MAs(2),i=e.oxw();e.Q6J("ngIf",i.menuItems&&i.menuItems.length>0)("ngIfElse",n)}}let H=(()=>{class t{constructor(n,i){this.route=n,this.amService=i,this.menuItems=null,this.sbjs=new Q.w0,this.isLoadingMenuItems=!1}ngOnInit(){var n=this;return(0,m.Z)(function*(){n.route.params.forEach(i=>{i.id&&n.loadMenuItems(i.id)})})()}loadMenuItems(n){var i=this;return(0,m.Z)(function*(){i.isLoadingMenuItems=!0,yield i.amService.menuItems(n).forEach(s=>i.menuItems=s),i.isLoadingMenuItems=!1})()}onChangeMenuItemAvailability(n){var i=this;return(0,m.Z)(function*(){var s;if(console.log(n),n){let c=null===(s=i.menuItems)||void 0===s?void 0:s.find(f=>f.id==n.id);c&&(c.updatingAvailability=!0,c.isAvailable=n.status,i.amService.menuItemAvailability(c).forEach(f=>console.log(f)),c.updatingAvailability=!1)}})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.gz),e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-item-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],[3,"ngIf","ngIfElse"],["emptyblock",""],["dragula","menuItems",3,"md","sm","gutter","dragulaModel","dragulaModelChange"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-grow-1"],[3,"cCardImg","src",4,"ngIf"],[1,"d-flex","flex-column","justify-content-end"],[1,"d-flex","justify-content-between"],[1,"d-flex","d-grid","gap-2","justify-content-between","align-items-center"],[1,"d-flex","d-grid","gap-2"],["color","primary","shape","rounded-pill"],[4,"ngIf"],["label","Is Available",3,"isLoading","id","status","onChange"],[3,"cCardImg","src"],["color","danger","shape","rounded-pill"],[1,"text-decoration-line-through"]],template:function(n,i){if(1&n&&(e.YNc(0,B,4,0,"c-card",0),e.YNc(1,X,3,2,"ng-template",null,1,e.W1O)),2&n){const s=e.MAs(2);e.Q6J("ngIf",i.isLoadingMenuItems)("ngIfElse",s)}},directives:[r.O5,o.AkF,o.yue,o.ORR,o.iok,d.sW,o.Aij,r.sg,o.Yp0,o.FN3,_.a,o.pce],pipes:[r.H9],styles:[""]}),t})();var W=l(5937);function K(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._UZ(2,"c-spinner",2),e._uU(3," Loading... "),e.qZA(),e.qZA())}const G=function(t){return[t]};function P(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"c-col",7),e.TgZ(1,"c-card",8),e._UZ(2,"img",9),e.TgZ(3,"c-card-body",10),e.TgZ(4,"span",11),e.TgZ(5,"h6",12),e._uU(6),e.qZA(),e.TgZ(7,"span"),e.TgZ(8,"app-input-switch",13),e.NdJ("onChange",function(s){return e.CHM(n),e.oxw(3).onChangeAvailability(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"p",14),e._uU(10),e.qZA(),e.TgZ(11,"span",11),e.TgZ(12,"a",15),e.TgZ(13,"span"),e.TgZ(14,"c-badge",16),e._uU(15),e.qZA(),e.qZA(),e._uU(16," Items"),e.qZA(),e._UZ(17,"span",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=a.$implicit;e.Q6J("lg",4)("md",6)("xs",12),e.xp6(2),e.Q6J("src",n.primaryImg,e.LSH),e.xp6(4),e.Oqu(n.title),e.xp6(2),e.Q6J("isLoading",n.updatingAvailability)("id",n.id)("status",n.isAvailable),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Q6J("routerLink",e.VKq(11,G,n.id)),e.xp6(3),e.Oqu(n.totalItems)}}function V(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"c-row",5),e.NdJ("dragulaModelChange",function(s){return e.CHM(n),e.oxw(2).menus=s}),e.YNc(1,P,18,13,"c-col",6),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("gutter",3)("dragulaModel",n.menus),e.xp6(1),e.Q6J("ngForOf",n.menus)}}function D(t,a){1&t&&(e.TgZ(0,"c-card"),e.TgZ(1,"c-card-body"),e._uU(2," Empty "),e.qZA(),e.qZA())}function ee(t,a){if(1&t&&(e.YNc(0,V,2,3,"c-row",3),e.YNc(1,D,3,0,"ng-template",null,4,e.W1O)),2&t){const n=e.MAs(2),i=e.oxw();e.Q6J("ngIf",i.menus&&i.menus.length>0)("ngIfElse",n)}}const ne=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),t})(),data:{title:"Menu"},children:[{path:"",component:(()=>{class t{constructor(n,i,s,c){this.route=n,this.router=i,this.amService=s,this.afService=c,this.menus=[],this.selectedMenu=null,this.isLoading=!1}ngOnInit(){this.loadMenu()}ngOnDestroy(){}loadMenu(n){var i=this;return(0,m.Z)(function*(){i.isLoading=!0,yield i.amService.menus(n).forEach(s=>i.menus=s),i.isLoading=!1})()}onChangeAvailability(n){var i=this;return(0,m.Z)(function*(){if(n.id){let s=i.menus.find(c=>c.id==n.id);s&&(s.updatingAvailability=!0,s.isAvailable=n.status,yield i.amService.menuAvailability(s).forEach(c=>console.log(c)),s.updatingAvailability=!1)}})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.gz),e.Y36(u.F0),e.Y36(p),e.Y36(W.q))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-menu-list"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],["dragula","menus",3,"gutter","dragulaModel","dragulaModelChange",4,"ngIf","ngIfElse"],["emptyMenuBlock",""],["dragula","menus",3,"gutter","dragulaModel","dragulaModelChange"],["class","d-flex justify-content-stretch",3,"lg","md","xs",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch",3,"lg","md","xs"],[1,"d-flex","flex-grow-1"],[3,"cCardImg","src"],[1,"d-flex","flex-column","justify-content-end"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,"text-truncate"],["label","Is Available",3,"isLoading","id","status","onChange"],["cCardText","",1,"text-truncate"],["cButton","","color","light","size","sm",3,"routerLink"],["color","primary","shape","rounded-pill"],[1,"d-flex","d-grid","gap-2","float-end"]],template:function(n,i){if(1&n&&(e.TgZ(0,"c-row"),e.TgZ(1,"c-col"),e.YNc(2,K,4,0,"c-card",0),e.YNc(3,ee,3,2,"ng-template",null,1,e.W1O),e.qZA(),e.qZA()),2&n){const s=e.MAs(4);e.xp6(2),e.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[o.iok,o.Yp0,r.O5,o.AkF,o.yue,o.ORR,d.sW,o.Aij,r.sg,o.pce,o.qkm,_.a,o.PVT,u.yS,o.Hq3,o.FN3],styles:[""]}),t})(),data:{title:"List"}},{path:":id",component:F,data:{title:"Items"},children:[{path:"",component:H}]}]}];let te=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[u.Bz.forChild(ne)],u.Bz]}),t})();var M=l(1728),ie=l(4466);const oe=[o.dTQ,o.hJ1,o.ga2,o.ejP,o.nMh,o.U$I,o.Fme,o.zE6,M.QX,M.Eb,o.TXv,o.lKp,o.Xo8,h.Xd,o.oTD];let ae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,te,...oe,d.qE.forRoot(),ie.m]]}),t})()}}]);