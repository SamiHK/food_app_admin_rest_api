"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[706],{5705:(f,p,c)=>{c.d(p,{T:()=>i});class i{constructor(){this.number=1,this.size=0,this.total=0,this.items=[]}}},3706:(f,p,c)=>{c.r(p),c.d(p,{OrderModule:()=>z});var i=c(9808),d=c(3477),t=c(4893),u=c(2398),a=c(5033);function Z(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.updatedOn,"hh:mm a / MMM dd, YYYY"))}}function T(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.createdOn,"hh:mm a / MMM dd, YYYY"))}}function x(n,r){if(1&n&&(t.TgZ(0,"span"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.order.branch.name)}}function A(n,r){if(1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t.TgZ(2,"span",1),t.TgZ(3,"h6"),t._uU(4),t.qZA(),t.TgZ(5,"span",10),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"currency"),t.TgZ(11,"span",10),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.hij(" ",t.xi3(7,5,e.total,"Pkr ")," "),t.xp6(3),t.AsE(" ",t.xi3(10,8,e.price,"Pkr ")," ",e.unit," x "),t.xp6(3),t.Oqu(e.quantity)}}function O(n,r){if(1&n&&(t.TgZ(0,"span",1),t.TgZ(1,"span",10),t._uU(2,"GST"),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.AsE("",e.order.gst,"% - ",t.xi3(5,2,e.order.subTotal*(e.order.gst/100),"Pkr "),"")}}function h(n,r){if(1&n&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card"),t.TgZ(2,"c-card-body"),t.TgZ(3,"span",1),t.TgZ(4,"h4"),t._uU(5),t.qZA(),t.TgZ(6,"span",2),t.TgZ(7,"span",3),t.TgZ(8,"c-badge",4),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"span",5),t.YNc(11,Z,3,4,"span",6),t.YNc(12,T,3,4,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.YNc(14,x,3,1,"span",0),t.qZA(),t.qZA(),t.TgZ(15,"h4",8),t._uU(16,"Items"),t.qZA(),t.YNc(17,A,13,11,"c-card",9),t.TgZ(18,"c-card"),t.TgZ(19,"c-card-body"),t.TgZ(20,"span",1),t.TgZ(21,"span",10),t._uU(22,"Sub total"),t.qZA(),t.TgZ(23,"span",11),t._uU(24),t.ALo(25,"currency"),t.qZA(),t.qZA(),t.YNc(26,O,6,5,"span",12),t.TgZ(27,"span",1),t.TgZ(28,"span",10),t._uU(29,"Total"),t.qZA(),t.TgZ(30,"span"),t.TgZ(31,"c-badge",13),t.TgZ(32,"span",14),t._uU(33),t.ALo(34,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(13),o=t.oxw();t.xp6(5),t.hij("#",o.order.id,""),t.xp6(4),t.Oqu(o.order.status),t.xp6(2),t.Q6J("ngIf",o.order.updatedOn)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",o.order.branch),t.xp6(3),t.Q6J("ngForOf",o.order.items),t.xp6(7),t.Oqu(t.xi3(25,9,o.order.subTotal,"Pkr ")),t.xp6(2),t.Q6J("ngIf",o.order.gst),t.xp6(7),t.Oqu(t.xi3(34,12,o.order.total,"Pkr "))}}let q=(()=>{class n{constructor(e,o){this.route=e,this.orderService=o}ngOnInit(){this.route.params.forEach(e=>{e.id&&this.orderService.getById(e.id).subscribe(o=>this.order=o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(u.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-detail"]],decls:6,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-end"],["size","sm","color","danger"],[1,"fw-light"],[4,"ngIf","ngIfElse"],["createdOnBlock",""],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"fw-semibold"],[1,"fw-bold"],["class","d-flex justify-content-between",4,"ngIf"],["color","danger"],[1,"fs-6","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.TgZ(2,"h4"),t._uU(3,"Order Details"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"c-row"),t.YNc(5,h,35,15,"c-col",0),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.order))},directives:[a.iok,a.Yp0,i.O5,a.AkF,a.yue,a.FN3,i.sg],pipes:[i.H9,i.uU],styles:[""]}),n})();var C=c(5861),v=c(5705),_=c(1728),m=c(6939),g=c(2382);const L=function(n){return["../",n]};function I(n,r){if(1&n&&(t.TgZ(0,"c-nav-item"),t.TgZ(1,"a",4),t._uU(2),t.TgZ(3,"span"),t.TgZ(4,"c-badge",5),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(3,L,e.status)),t.xp6(1),t.hij(" ",e.status," "),t.xp6(3),t.hij(" ",e.total," ")}}function U(n,r){if(1&n&&(t.TgZ(0,"span",16),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.salesperson.fullName," ")}}function w(n,r){if(1&n&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.branch.name," ")}}function Y(n,r){if(1&n&&(t.TgZ(0,"span",23),t.O4$(),t._UZ(1,"svg",24),t._uU(2),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.customer.cellNumber," ")}}function y(n,r){if(1&n&&(t.TgZ(0,"span",25),t.TgZ(1,"span",26),t.O4$(),t._UZ(2,"svg",27),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.address.formattedAddress," ")}}function M(n,r){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"small"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.updatedOn,"hh:mm a / MMM dd, YYYY"))}}function N(n,r){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"small"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createdOn,"hh:mm a / MMM dd, YYYY"))}}function b(n,r){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"c-card-footer",28),t.TgZ(1,"button",29),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw().cancelOrder(s.id)}),t._uU(2,"Cancel"),t.qZA(),t.qZA()}}const J=function(n){return["../","detail",n]};function P(n,r){if(1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body",6),t.TgZ(2,"span",7),t.TgZ(3,"span",8),t.TgZ(4,"span",9),t._uU(5),t.qZA(),t.TgZ(6,"span",10),t.YNc(7,U,2,1,"span",11),t.YNc(8,w,2,1,"span",12),t.YNc(9,Y,3,1,"span",13),t.YNc(10,y,4,1,"span",14),t.qZA(),t.qZA(),t.TgZ(11,"span",15),t.TgZ(12,"span",16),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"span",17),t.O4$(),t._UZ(16,"svg",18),t.YNc(17,M,3,4,"small",19),t.YNc(18,N,3,4,"ng-template",null,20,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,b,3,0,"c-card-footer",21),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(19);t.xp6(1),t.Q6J("routerLink",t.VKq(13,J,e.id)),t.xp6(4),t.hij(" #",e.id," "),t.xp6(2),t.Q6J("ngIf",e.salesperson),t.xp6(1),t.Q6J("ngIf",e.branch),t.xp6(1),t.Q6J("ngIf",e.customer),t.xp6(1),t.Q6J("ngIf",e.isDelivery&&e.address),t.xp6(3),t.hij(" ",t.xi3(14,10,e.total,"Pkr ")," "),t.xp6(4),t.Q6J("ngIf",e.updatedOn)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",e.id&&"PENDING"==e.status)}}function Q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"pagination",32),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw(2).page.number=s})("pageChanged",function(s){return t.CHM(e),t.oxw(2).onPageChange(s)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("totalItems",e.page.total)("ngModel",e.page.number)("itemsPerPage",e.page.size)}}function j(n,r){if(1&n&&(t.TgZ(0,"c-row",30),t.TgZ(1,"c-col"),t.YNc(2,Q,1,3,"pagination",31),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.page&&e.page.items&&e.page.items.length>0)}}const k=[{path:"",children:[{path:"",redirectTo:"PENDING"},{path:":status",component:(()=>{class n{constructor(e,o){this.route=e,this.orderService=o,this.page=new v.T,this.statusNav=[{status:"All",total:0}],this.isLoading=!1}ngOnInit(){this.route.params.forEach(e=>{this.loadOrders(1,e.status)})}loadOrders(e,o){var s=this;return(0,C.Z)(function*(){s.isLoading=!0,s.status=o,yield s.orderService.get(s.status,e).forEach(l=>{s.statusNav=l.orderStatus,s.page=l.page}),s.isLoading=!1})()}onPageChange(e){this.loadOrders(e.page,this.status)}cancelOrder(e){this.orderService.cancelOrder(e).forEach(o=>this.loadOrders())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.gz),t.Y36(u.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-list"]],decls:8,vars:3,consts:[["variant","pills"],[4,"ngFor","ngForOf"],[1,"mt-3"],["class","mt-2",4,"ngIf"],["cNavLink","","routerLinkActive","active",3,"routerLink"],["color","danger","shape","rounded-pill"],[3,"routerLink"],[1,"d-flex","justify-content-between"],[1,"d-flex","gap-2","flex-row"],[1,"fw-bold"],[1,"d-flex","flex-column"],["class","fw-semibold",4,"ngIf"],["class","fw-regular","cTooltip","Branch",4,"ngIf"],["class","fw-regular","cTooltip","Contant Number",4,"ngIf"],["class","fw-regular","cTooltip","Delivery Address",4,"ngIf"],[1,"d-flex","flex-column","align-items-end"],[1,"fw-semibold"],[1,"d-flex","gap-2","align-items-center"],["cIcon","","name","cilClock"],[4,"ngIf","ngIfElse"],["createdOnBlock",""],["class","d-flex justify-content-end",4,"ngIf"],["cTooltip","Branch",1,"fw-regular"],["cTooltip","Contant Number",1,"fw-regular"],["cIcon","","name","cilPhone"],["cTooltip","Delivery Address",1,"fw-regular"],[1,""],["cIcon","","name","cilLocationPin"],[1,"d-flex","justify-content-end"],["cButton","","color","danger","size","sm",3,"click"],[1,"mt-2"],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged",4,"ngIf"],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged"]],template:function(e,o){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.TgZ(2,"c-nav",0),t.YNc(3,I,6,5,"c-nav-item",1),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"c-row",2),t.TgZ(5,"c-col"),t.YNc(6,P,21,15,"c-card",1),t.qZA(),t.qZA(),t.YNc(7,j,3,1,"c-row",3)),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.statusNav),t.xp6(3),t.Q6J("ngForOf",o.page.items),t.xp6(1),t.Q6J("ngIf",o.page&&o.page.items&&o.page.items.length>0))},directives:[a.iok,a.Yp0,a.rZi,i.sg,i.O5,a.HOP,d.yS,a.Vh3,d.Od,a.FN3,a.AkF,a.yue,d.rH,_.ar,a.i9q,a.xUh,a.Hq3,m.Qt,g.JJ,g.On],pipes:[i.H9,i.uU],styles:[""]}),n})(),data:{title:"List"}},{path:"detail/:id",component:q,data:{title:"Detail"}}]}];let D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.Bz.forChild(k)],d.Bz]}),n})();var E=c(5905),F=c(8426);const $=[a.dTQ,a.hJ1,a.ejP,a.zE6,a.U$I,a.Fme,a.nMh,_.QX,a.TXv,F.Xd,a.dGk,a.lKp,a.z8t],S=[E.zk.forRoot(),m.u3.forRoot()];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,D,...$,...S,g.u5]]}),n})()}}]);