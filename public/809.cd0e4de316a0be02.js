"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[809],{384:(v,d,s)=>{s.d(d,{e:()=>T});var o=s(262),g=s(2340),f=s(4893),m=s(520),i=s(5450);let T=(()=>{class n{constructor(r,_){this.http=r,this.commonService=_,this.BASE_URL=`${g.N.BASE_URL}/auth`}login(r){return this.http.post(`${this.BASE_URL}/login`,r).pipe((0,o.K)(this.commonService.catchError))}register(r){return this.http.post(`${this.BASE_URL}/register`,r).pipe((0,o.K)(this.commonService.catchError))}forgetPassword(r){return this.http.post(`${this.BASE_URL}/forget/password`,r).pipe((0,o.K)(this.commonService.catchError))}resetPassword(r,_){return this.http.post(`${this.BASE_URL}/reset/password/${r}`,_).pipe((0,o.K)(this.commonService.catchError))}updatePassword(r,_){return this.http.post(`${this.BASE_URL}/${r}/password`,_).pipe((0,o.K)(this.commonService.catchError))}enabled(r,_){return this.http.get(`${this.BASE_URL}/${r}/enabled/`,{params:_}).pipe((0,o.K)(this.commonService.catchError))}}return n.\u0275fac=function(r){return new(r||n)(f.LFG(m.eN),f.LFG(i.v))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},9337:(v,d,s)=>{s.d(d,{b:()=>o});class o{constructor(){this.type="error",this.visible=!1,this.title="",this.message=""}}},5705:(v,d,s)=>{s.d(d,{T:()=>o});class o{constructor(){this.number=1,this.size=0,this.total=0,this.items=[]}}},8325:(v,d,s)=>{s.r(d),s.d(d,{BranchModule:()=>Tn});var o=s(9808),g=s(3477),f=s(4856),m=s(5861),i=s(2382),T=s(5705),n=s(4893),A=s(9663),r=s(5033),_=s(1728),h=s(6939);function p(e,c){1&e&&(n.TgZ(0,"c-card"),n.TgZ(1,"c-card-body"),n._UZ(2,"c-spinner",12),n.qZA(),n.qZA())}function Z(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.name)}}function x(e,c){if(1&e&&(n.TgZ(0,"span",21),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.managerFullName)}}function B(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).$implicit;n.xp6(1),n.hij(", ",t.address.cityName,"")}}function M(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).$implicit;n.xp6(1),n.hij(", ",t.address.stateName,"")}}function L(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).$implicit;n.xp6(1),n.hij(", ",t.address.countryName,"")}}function U(e,c){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"p",26),n._uU(1),n.YNc(2,B,2,1,"span",18),n.YNc(3,M,2,1,"span",18),n.YNc(4,L,2,1,"span",18),n.qZA()),2&e){const t=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",t.address.addressLine1," "),n.xp6(1),n.Q6J("ngIf",t.address.cityName),n.xp6(1),n.Q6J("ngIf",t.address.stateName),n.xp6(1),n.Q6J("ngIf",t.address.countryName)}}function q(e,c){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"p",26),n._uU(1),n.qZA()),2&e){const t=n.oxw(3).$implicit;n.xp6(1),n.hij(" ",t.address.formattedAddress,"")}}function N(e,c){if(1&e&&(n.O4$(),n.YNc(0,q,2,1,"p",27)),2&e){const t=n.oxw(2).$implicit;n.Q6J("ngIf",t.address.formattedAddress)}}function y(e,c){if(1&e&&(n.TgZ(0,"span",22),n.TgZ(1,"span",1),n.O4$(),n._UZ(2,"svg",23),n.qZA(),n.YNc(3,U,5,4,"p",24),n.YNc(4,N,1,1,"ng-template",null,25,n.W1O),n.qZA()),2&e){const t=n.MAs(5),a=n.oxw().$implicit;n.xp6(3),n.Q6J("ngIf",a.address.addressLine1)("ngIfElse",t)}}const J=function(e,c){return{"border-bottom":e,"mb-2":c}};function O(e,c){if(1&e&&(n.TgZ(0,"c-card",14),n.TgZ(1,"c-card-body"),n.TgZ(2,"span",15),n.TgZ(3,"a",16),n.TgZ(4,"span",17),n._uU(5),n.qZA(),n.YNc(6,Z,2,1,"span",18),n.qZA(),n.YNc(7,x,2,1,"span",19),n.qZA(),n.YNc(8,y,6,2,"span",20),n.qZA(),n.qZA()),2&e){const t=c.$implicit,a=c.last;n.Q6J("ngClass",n.WLB(6,J,!a,a)),n.xp6(3),n.s9C("routerLink",t.id),n.xp6(2),n.Oqu(t.code),n.xp6(1),n.Q6J("ngIf",t.name),n.xp6(1),n.Q6J("ngIf",t.managerFullName),n.xp6(1),n.Q6J("ngIf",t.address&&(t.address.addressLine1||t.address.formattedAddress))}}function S(e,c){if(1&e&&n.YNc(0,O,9,9,"c-card",13),2&e){const t=n.oxw();n.Q6J("ngForOf",t.page.items)}}function F(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"pagination",28),n.NdJ("ngModelChange",function(l){return n.CHM(t),n.oxw().page.number=l})("pageChanged",function(l){return n.CHM(t),n.oxw().onPageChange(l)}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("totalItems",t.page.total)("ngModel",t.page.number)("itemsPerPage",t.page.size)}}let Y=(()=>{class e{constructor(t){this.abService=t,this.page=new T.T,this.form=new i.cw({search:new i.NI(null,i.kI.required)}),this.isLoading=!1}ngOnInit(){this.loadBranches()}loadBranches(t){var a=this;return(0,m.Z)(function*(){a.isLoading=!0,yield a.abService.filter(t).forEach(l=>a.page=l).finally(()=>a.isLoading=!1)})()}filter(){this.form.valid?this.loadBranches(this.form.value):this.loadBranches()}onPageChange(t){this.form.valid?(Object.assign(t,this.form.value),this.loadBranches(t)):this.loadBranches({number:t.page})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(A.b))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-branch-list"]],decls:22,vars:4,consts:[[1,"mb-4"],[1,""],[1,"float-end"],["cButton","","color","primary","routerLink","register"],[3,"formGroup","ngSubmit"],["cFormFloating",""],["cFormControl","","formControlName","search","name","search","type","search","placeholder","Search by username, email or name","autofocus",""],["cLabel","","for","search"],[1,"mt-3"],[4,"ngIf","ngIfElse"],["showResult",""],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged",4,"ngIf"],["aria-hidden","true","label","Loading..."],["class","border-0 hover-bg-light",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-0","hover-bg-light",3,"ngClass"],[1,"d-flex","justify-content-md-between","flex-md-row","flex-column"],[1,"d-flex","gap-2","flex-md-grow-1","text-decoration-none","text-body",3,"routerLink"],[1,"d-flex","fw-bold"],[4,"ngIf"],["class","text-md-end fw-semibold",4,"ngIf"],["class","d-flex gap-2 pt-2",4,"ngIf"],[1,"text-md-end","fw-semibold"],[1,"d-flex","gap-2","pt-2"],["cIcon","","name","cilLocationPin"],["class","fw-light mb-0",4,"ngIf","ngIfElse"],["formattedAddress",""],[1,"fw-light","mb-0"],["class","fw-light mb-0",4,"ngIf"],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged"]],template:function(t,a){if(1&t&&(n.TgZ(0,"c-card",0),n.TgZ(1,"c-card-body"),n.TgZ(2,"c-row"),n.TgZ(3,"c-col",1),n.TgZ(4,"span",2),n.TgZ(5,"button",3),n._uU(6,"Register New Branch"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"c-card",0),n.TgZ(8,"c-card-body"),n.TgZ(9,"c-row"),n.TgZ(10,"c-col"),n.TgZ(11,"form",4),n.NdJ("ngSubmit",function(){return a.filter()}),n.TgZ(12,"div",5),n._UZ(13,"input",6),n.TgZ(14,"label",7),n._uU(15,"Search by code, name or address"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"c-row",8),n.TgZ(17,"c-col"),n.YNc(18,p,3,0,"c-card",9),n.YNc(19,S,1,1,"ng-template",null,10,n.W1O),n.YNc(21,F,1,3,"pagination",11),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const l=n.MAs(20);n.xp6(11),n.Q6J("formGroup",a.form),n.xp6(7),n.Q6J("ngIf",a.isLoading)("ngIfElse",l),n.xp6(3),n.Q6J("ngIf",a.page&&a.page.items&&a.page.items.length>0)}},directives:[r.AkF,r.yue,r.iok,r.Yp0,r.Hq3,g.rH,i._Y,i.JL,i.sg,r.xPZ,r.oHf,i.Fj,i.JJ,i.u,r.eFW,o.O5,r.ORR,o.sg,o.mk,g.yS,_.ar,h.Qt,i.On],styles:[""]}),e})();var Q=s(9337),P=s(936),R=s(9030),V=s(8862),$=s(9998),j=s(1569);function k(e,c){1&e&&(n.TgZ(0,"c-row",2),n.TgZ(1,"c-col",3),n._UZ(2,"c-spinner",4),n.TgZ(3,"span",5),n._uU(4," Loading... "),n.qZA(),n.qZA(),n.qZA())}const D=function(){return["salespersons"]};function W(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"c-card-body"),n.TgZ(1,"c-row"),n.TgZ(2,"c-col"),n.TgZ(3,"h4"),n._uU(4),n.qZA(),n.TgZ(5,"strong"),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"c-col",16),n.TgZ(8,"span",17),n.TgZ(9,"button",18),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).editBranch()}),n._uU(10,"Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n._UZ(11,"hr"),n.TgZ(12,"a",19),n._uU(13," Salesperson "),n.TgZ(14,"c-badge",20),n._uU(15),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw(2);n.xp6(4),n.Oqu(t.branch.name),n.xp6(2),n.Oqu(t.branch.code),n.xp6(6),n.Q6J("routerLink",n.DdM(4,D)),n.xp6(3),n.hij("",t.branch.totalActiveSalespersons," ")}}function H(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"c-card-body"),n.TgZ(1,"form",21),n.NdJ("ngSubmit",function(){return n.CHM(t),n.oxw(2).saveBranch()}),n.TgZ(2,"fieldset",22),n.TgZ(3,"c-row"),n.TgZ(4,"c-col",23),n._UZ(5,"input",24),n._UZ(6,"app-input-error",25),n.qZA(),n.TgZ(7,"c-col",23),n._UZ(8,"input",26),n._UZ(9,"app-input-error",25),n.qZA(),n.TgZ(10,"c-col",23),n.TgZ(11,"span",27),n.TgZ(12,"button",28),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).cancelEditBranch()}),n._uU(13,"Cancel"),n.qZA(),n.TgZ(14,"button",29),n._uU(15," Save "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("formGroup",t.branchForm),n.xp6(1),n.Q6J("disabled",t.savingBranch),n.xp6(3),n.Q6J("valid",t.branchForm.controls.code.valid),n.xp6(1),n.Q6J("control",t.branchForm.controls.code),n.xp6(2),n.Q6J("valid",t.branchForm.controls.name.valid),n.xp6(1),n.Q6J("control",t.branchForm.controls.name),n.xp6(5),n.Q6J("loading",t.savingBranch)}}function K(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(4);n.xp6(1),n.hij(", ",t.branch.address.cityName,"")}}function z(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(4);n.xp6(1),n.hij(", ",t.branch.address.stateName,"")}}function X(e,c){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw(4);n.xp6(1),n.hij(", ",t.branch.address.countryName,"")}}function G(e,c){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"span",35),n._uU(1),n.YNc(2,K,2,1,"span",36),n.YNc(3,z,2,1,"span",36),n.YNc(4,X,2,1,"span",36),n.qZA()),2&e){const t=n.oxw(3);n.xp6(1),n.hij(" ",t.branch.address.addressLine1," "),n.xp6(1),n.Q6J("ngIf",t.branch.address.cityName),n.xp6(1),n.Q6J("ngIf",t.branch.address.stateName),n.xp6(1),n.Q6J("ngIf",t.branch.address.countryName)}}function nn(e,c){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"span",35),n._uU(1),n.qZA()),2&e){const t=n.oxw(4);n.xp6(1),n.hij(" ",t.branch.address.formattedAddress,"")}}function tn(e,c){if(1&e&&(n.O4$(),n.YNc(0,nn,2,1,"span",37)),2&e){const t=n.oxw(3);n.Q6J("ngIf",t.branch.address.formattedAddress)}}function en(e,c){if(1&e&&(n.TgZ(0,"span",30),n.TgZ(1,"span",31),n.O4$(),n._UZ(2,"svg",32),n.qZA(),n.YNc(3,G,5,4,"span",33),n.YNc(4,tn,1,1,"ng-template",null,34,n.W1O),n.qZA()),2&e){const t=n.MAs(5),a=n.oxw(2);n.xp6(3),n.Q6J("ngIf",a.branch.address.addressLine1)("ngIfElse",t)}}function an(e,c){1&e&&n._uU(0," N/A ")}const cn=function(e){return["../../manager",e]};function on(e,c){if(1&e&&(n.TgZ(0,"span"),n.TgZ(1,"h4"),n._uU(2),n.qZA(),n.TgZ(3,"a",41),n._uU(4),n.qZA(),n.qZA()),2&e){const t=n.oxw(4);n.xp6(2),n.Oqu(null==t.branch.manager?null:t.branch.manager.fullName),n.xp6(1),n.Q6J("routerLink",n.VKq(3,cn,t.branch.managerId)),n.xp6(1),n.hij(" ",null==t.branch.manager?null:t.branch.manager.username," ")}}function rn(e,c){1&e&&n._uU(0,"N/A")}function sn(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"c-row"),n.TgZ(1,"c-col"),n.YNc(2,on,5,5,"span",38),n.YNc(3,rn,1,0,"ng-template",null,13,n.W1O),n.qZA(),n.TgZ(5,"c-col",40),n.TgZ(6,"span",17),n.TgZ(7,"button",14),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).editManager()}),n._uU(8,"Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.MAs(4),a=n.oxw(3);n.xp6(2),n.Q6J("ngIf",a.branch.managerId)("ngIfElse",t)}}function ln(e,c){if(1&e&&(n.TgZ(0,"option",50),n._uU(1),n.qZA()),2&e){const t=c.$implicit;n.Q6J("value",t.id),n.xp6(1),n.hij(" ",t.fullName," ")}}function _n(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"select",47),n.NdJ("ngModelChange",function(l){return n.CHM(t),n.oxw(4).selectedManagerId=l}),n.TgZ(2,"option",48),n._uU(3,"None"),n.qZA(),n.YNc(4,ln,2,2,"option",49),n.qZA(),n.qZA()}if(2&e){const t=n.oxw(4);n.xp6(1),n.Q6J("ngModel",t.selectedManagerId),n.xp6(3),n.Q6J("ngForOf",t.managerPage.items)}}function pn(e,c){1&e&&n._UZ(0,"c-spinner",4)}function gn(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"form",42),n.NdJ("ngSubmit",function(){return n.CHM(t),n.oxw(3).saveBranchManager()}),n.TgZ(1,"fieldset",22),n.TgZ(2,"c-row"),n.TgZ(3,"c-col"),n.YNc(4,_n,5,2,"span",38),n.YNc(5,pn,1,0,"ng-template",null,43,n.W1O),n.qZA(),n.TgZ(7,"c-col",44),n.TgZ(8,"span",27),n.TgZ(9,"button",45),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).cancelEditManager()}),n._uU(10,"Cancel"),n.qZA(),n.TgZ(11,"button",46),n._uU(12,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const t=n.MAs(6),a=n.oxw(3);n.xp6(1),n.Q6J("disabled",a.savingManager),n.xp6(3),n.Q6J("ngIf",!a.managerLoading)("ngIfElse",t),n.xp6(7),n.Q6J("loading",a.savingManager)}}function mn(e,c){if(1&e&&(n.TgZ(0,"h4"),n._uU(1,"Manager"),n.qZA(),n.TgZ(2,"c-card"),n.TgZ(3,"c-card-body"),n.YNc(4,sn,9,2,"c-row",38),n.YNc(5,gn,13,4,"ng-template",null,39,n.W1O),n.qZA(),n.qZA()),2&e){const t=n.MAs(6),a=n.oxw(2);n.xp6(4),n.Q6J("ngIf",!a.isEditManager)("ngIfElse",t)}}function dn(e,c){if(1&e){const t=n.EpF();n.TgZ(0,"c-row",2),n.TgZ(1,"c-col",6),n.TgZ(2,"c-card",7),n.YNc(3,W,16,5,"ng-template",8),n.YNc(4,H,16,7,"ng-template",null,9,n.W1O),n.qZA(),n.TgZ(6,"h4"),n._uU(7,"Location"),n.qZA(),n.TgZ(8,"c-card",7),n.TgZ(9,"c-card-body",10),n.TgZ(10,"div",11),n.YNc(11,en,6,2,"span",12),n.YNc(12,an,1,0,"ng-template",null,13,n.W1O),n.qZA(),n.TgZ(14,"div"),n.TgZ(15,"button",14),n.NdJ("click",function(){return n.CHM(t),n.oxw().editLocation()}),n._uU(16,"Edit"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(17,mn,7,2,"ng-template",15),n.qZA(),n.qZA()}if(2&e){const t=n.MAs(5),a=n.MAs(13),l=n.oxw();n.xp6(3),n.Q6J("ngIf",!l.isEditBranch)("ngIfElse",t),n.xp6(8),n.Q6J("ngIf",l.branch.address&&(l.branch.address.addressLine1||l.branch.address.formattedAddress))("ngIfElse",a),n.xp6(6),n.Q6J("ngIf",l.branch.id)}}let E=(()=>{class e{constructor(t,a,l,u,C,b){this.route=t,this.amService=a,this.abService=l,this.location=u,this.router=C,this.cModalService=b,this.branch=new P.I,this.isLoading=!1,this.branchForm=new i.cw({code:new i.NI(null,[i.kI.required,i.kI.minLength(2),i.kI.maxLength(16)]),name:new i.NI(null,[i.kI.required])}),this.isEditBranch=!1,this.savingBranch=!1,this.isEditManager=!1,this.selectedManagerId=null,this.managerPage=new T.T,this.managerLoading=!1,this.savingManager=!1,this.alert=new Q.b;let w=this.route.snapshot.params.id;w&&(this.branch.id=w)}ngOnInit(){var t=this;return(0,m.Z)(function*(){""!=t.branch.id?(t.isLoading=!0,yield t.abService.get(t.branch.id).forEach(a=>t.branch=a).finally(()=>t.isLoading=!1)):t.editBranch()})()}editLocation(){var a,t=this;let l=this.cModalService.showMapModal(this.branch.address);null===(a=l.onHide)||void 0===a||a.subscribe(function(){var u=(0,m.Z)(function*(C){if(C){let b;l.content&&l.content.isSave&&l.content.address&&(l.content.address&&(b=l.content.address),l.content.city&&(b.cityId=l.content.city.id),b&&(yield t.abService.updateAddress(t.branch.id,b).forEach(w=>t.branch.address=w)))}});return function(C){return u.apply(this,arguments)}}())}editBranch(){this.branch&&this.branch.id&&(this.branchForm.controls.code.setValue(this.branch.code),this.branchForm.controls.name.setValue(this.branch.name)),this.isEditBranch=!0}cancelEditBranch(){this.branchForm.reset(),this.branch&&this.branch.id?this.isEditBranch=!1:this.location.back()}saveBranch(){if(this.branchForm.valid){this.savingBranch=!0;let t=this.branchForm.value;this.branch&&this.branch.id&&(t.id=this.branch.id),this.abService.save(t).forEach(a=>{a&&(this.branch.id?(Object.assign(this.branch,a),this.isEditBranch=!1):this.router.navigate(["admin","branch",a.id]))}).catch(a=>{a&&"ER_DUP_ENTRY"==a.code&&this.branchForm.controls.code.setErrors({else:"this code is already registered, try another one"})}).finally(()=>{this.savingBranch=!1})}}loadManager(){this.managerLoading=!0,this.amService.available().forEach(t=>this.managerPage=t).finally(()=>this.managerLoading=!1)}editManager(){this.managerPage&&0==this.managerPage.items.length&&this.loadManager(),this.isEditManager=!0}cancelEditManager(){this.isEditManager=!1,this.selectedManagerId=null}saveBranchManager(){var t=this;return(0,m.Z)(function*(){t.selectedManagerId&&t.branch.id&&(t.savingManager=!0,yield t.abService.updateManager(t.branch.id,{managerId:t.selectedManagerId}).forEach(a=>{console.log(a),Object.assign(t.branch,a),t.isEditManager=!1,t.loadManager()}).catch(a=>console.log(a)).finally(()=>{t.selectedManagerId=null,t.savingManager=!1}))})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(g.gz),n.Y36(R.b),n.Y36(A.b),n.Y36(o.Ye),n.Y36(g.F0),n.Y36(V.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-branch-view"]],decls:3,vars:2,consts:[["class","justify-content-center",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"justify-content-center"],["md","8",1,""],["size","sm"],[1,"d-flex-inline","my-auto"],["md","8"],[1,"mb-4"],[3,"ngIf","ngIfElse"],["branchFormBlock",""],[1,"d-flex","justify-content-between"],[1,"flex-grow-1"],["class","d-flex gap-2",4,"ngIf","ngIfElse"],["na",""],["cButton","","color","light","size","sm",3,"click"],[3,"ngIf"],["xs","1"],[1,"float-end"],["cButton","","size","sm","color","light",3,"click"],["cButton","","color","light",3,"routerLink"],["shape","rounded-pill","color","success"],[3,"formGroup","ngSubmit"],[3,"disabled"],["sm","4"],["formControlName","code","cFormControl","","id","code","placeholder","Code","type","text","autofocus","",3,"valid"],[3,"control"],["formControlName","name","cFormControl","","id","name","placeholder","Name","type","text",3,"valid"],[1,"d-grid","gap-2","d-flex","float-end"],["cButton","","type","button","color","light",3,"click"],["xcButton","","loadingLabel","Saving...","type","submit","color","primary",3,"loading"],[1,"d-flex","gap-2"],[1,""],["cIcon","","name","cilLocationPin"],["class","fw-light mb-0",4,"ngIf","ngIfElse"],["formattedAddress",""],[1,"fw-light","mb-0"],[4,"ngIf"],["class","fw-light mb-0",4,"ngIf"],[4,"ngIf","ngIfElse"],["managerForm",""],["xs","2"],["cButton","","color","light","size","sm",3,"routerLink"],[3,"ngSubmit"],["loader",""],["xs","4"],["cButton","","color","light",3,"click"],["xcButton","","loadingLabel","Saving...","type","submit",3,"loading"],["cSelect","","name","branch",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,a){if(1&t&&(n.YNc(0,k,5,0,"c-row",0),n.YNc(1,dn,18,5,"ng-template",null,1,n.W1O)),2&t){const l=n.MAs(2);n.Q6J("ngIf",a.isLoading)("ngIfElse",l)}},directives:[o.O5,r.iok,r.Yp0,r.ORR,r.AkF,r.yue,r.Hq3,g.yS,r.FN3,i._Y,i.JL,i.sg,i.Fj,r.oHf,i.JJ,i.u,$.w,j.L,_.ar,i.F,r.nqR,i.EJ,i.On,i.YN,i.Kr,o.sg],styles:[""]}),e})();const hn=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-branch"]],decls:1,vars:0,template:function(t,a){1&t&&n._UZ(0,"router-outlet")},directives:[g.lC],styles:[""]}),e})(),data:{title:"Branch"},children:[{path:"",component:Y,data:{title:"List"}},{path:"register",component:E,data:{title:"Register"}},{path:":id",component:E,data:{title:"View"}},{path:":branchId/salespersons",component:f.X,data:{title:"Salesperson"}}]}];let un=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[g.Bz.forChild(hn)],g.Bz]}),e})();var I=s(520),fn=s(4466);const Zn=[r.dTQ,r.hJ1,r.ejP,r.zE6,r.U$I,r.Fme,r.nMh,_.QX,r.TXv],xn=[fn.m,i.u5,i.UX,h.u3.forRoot(),I.JF,I.Ed];let Tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[o.ez,un,...Zn,...xn]]}),e})()},9553:(v,d,s)=>{s.d(d,{H:()=>r});var o=s(4893),g=s(384),f=s(9808),m=s(5033),i=s(2382);function T(_,h){1&_&&o._UZ(0,"c-spinner",2)}function n(_,h){if(1&_){const p=o.EpF();o.TgZ(0,"c-form-check",4),o.TgZ(1,"input",5),o.NdJ("ngModelChange",function(x){return o.CHM(p),o.oxw(2).user.enabled=x})("change",function(x){return o.CHM(p),o.oxw(2).onChange(x)}),o.qZA(),o.TgZ(2,"label",6),o._uU(3),o.qZA(),o.qZA()}if(2&_){const p=o.oxw(2);o.Q6J("switch",!0),o.xp6(1),o.Q6J("ngModel",p.user.enabled),o.xp6(2),o.Oqu(p.label)}}function A(_,h){if(1&_&&o.YNc(0,n,4,3,"c-form-check",3),2&_){const p=o.oxw();o.Q6J("ngIf",p.user)}}let r=(()=>{class _{constructor(p){this.authService=p,this.isLoading=!1}ngOnInit(){}onChange(p){this.user&&this.user.id&&(this.isLoading=!0,this.authService.enabled(this.user.id,{enabled:this.user.enabled}).forEach(Z=>{this.user&&(this.user.enabled=Z.enabled)}).finally(()=>{this.isLoading=!1}))}}return _.\u0275fac=function(p){return new(p||_)(o.Y36(g.e))},_.\u0275cmp=o.Xpm({type:_,selectors:[["app-user-active-switch"]],inputs:{label:"label",user:"user"},decls:3,vars:2,consts:[["size","sm",4,"ngIf","ngIfElse"],["elseBlock",""],["size","sm"],["class","d-flex justify-content-center",3,"switch",4,"ngIf"],[1,"d-flex","justify-content-center",3,"switch"],["cFormCheckInput","","type","checkbox",1,"me-0",3,"ngModel","ngModelChange","change"],["cFormCheckLabel",""]],template:function(p,Z){if(1&p&&(o.YNc(0,T,1,0,"c-spinner",0),o.YNc(1,A,1,1,"ng-template",null,1,o.W1O)),2&p){const x=o.MAs(2);o.Q6J("ngIf",Z.isLoading)("ngIfElse",x)}},directives:[f.O5,m.ORR,m.FzQ,m.yfq,i.Wl,i.JJ,i.On,m.NWu],styles:[""]}),_})()}}]);