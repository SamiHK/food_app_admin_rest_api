"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[217],{3217:(st,g,a)=>{a.r(g),a.d(g,{PublicWebModule:()=>ot});var l=a(9808),u=a(3477),t=a(4893);let Z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-deals"]],decls:2,vars:0,template:function(e,c){1&e&&(t.TgZ(0,"p"),t._uU(1,"deals works!"),t.qZA())},styles:[""]}),n})();var p=a(5861),T=a(302),C=a(1106),d=a(375),_=a(9633),s=a(5033),m=a(2382),f=a(1728);function A(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function I(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span",12),t.TgZ(1,"c-input-group"),t.TgZ(2,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).hideSearch()}),t.O4$(),t._UZ(3,"svg",14),t.qZA(),t.kcU(),t.TgZ(4,"input",15),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw(2).searchQuery=i}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.searchQuery)}}function y(n,o){1&n&&t._UZ(0,"c-spinner",2)}function M(n,o){1&n&&(t.O4$(),t._UZ(0,"svg",16))}function b(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-nav-item"),t.TgZ(1,"a",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).scrollTo(r)}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(1),t.MGl("id","menu-nav-",e.id,""),t.xp6(1),t.Oqu(e.title)}}function q(n,o){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",27),t._uU(2,"Not Available"),t.qZA(),t.qZA())}function v(n,o){if(1&n&&(t.TgZ(0,"c-card-body",28),t.TgZ(1,"p",29),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.description)}}const w=function(n,o){return{"text-truncate":n,"text-wrap":o}};function S(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"p",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).changeDescriptionStyle(i)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(2,w,e.descriptionTruncated,!e.descriptionTruncated)),t.xp6(1),t.Oqu(e.description)}}function J(n,o){if(1&n&&(t.TgZ(0,"c-badge",45),t.TgZ(1,"span",46),t._uU(2),t.ALo(3,"currency"),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.oldPrice,"Pkr ")," ")}}function O(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1," Add more "),t.qZA())}function k(n,o){1&n&&t._uU(0," Add to Cart ")}function L(n,o){if(1&n&&(t.TgZ(0,"c-badge",50),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.quantity,"")}}const Q=function(n,o){return{"btn-light":n,"btn-primary":o}};function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).addToCart(i)}),t.YNc(1,O,2,0,"span",0),t.YNc(2,k,1,0,"ng-template",null,48,t.W1O),t.YNc(4,L,2,1,"c-badge",49),t.qZA()}if(2&n){const e=t.MAs(3),c=t.oxw().$implicit;t.Q6J("ngClass",t.WLB(4,Q,c.quantity,!c.quantity)),t.xp6(1),t.Q6J("ngIf",c.quantity&&c.quantity>0)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",c.quantity&&c.quantity>0)}}function N(n,o){1&n&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",51),t._uU(2,"Not Available"),t.qZA(),t.qZA())}const Y=function(n){return{"text-muted":n}},h=function(n){return{"img-gray-scale":n}};function F(n,o){if(1&n&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card",30),t._UZ(2,"img",31),t.TgZ(3,"c-card-body",32),t.TgZ(4,"span",33),t.TgZ(5,"h6",34),t._uU(6),t.qZA(),t.qZA(),t.YNc(7,S,2,5,"p",35),t._UZ(8,"span",12),t.TgZ(9,"small",36),t._uU(10),t.qZA(),t.TgZ(11,"span",37),t.TgZ(12,"span",38),t.TgZ(13,"span"),t.YNc(14,J,4,4,"c-badge",39),t.qZA(),t.TgZ(15,"span"),t.TgZ(16,"c-badge",40),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"span",41),t.YNc(21,U,5,7,"button",42),t.YNc(22,N,3,0,"ng-template",null,43,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit,c=t.MAs(23);t.xp6(1),t.Q6J("ngClass",t.VKq(13,Y,!e.isAvailable)),t.xp6(1),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(15,h,!e.isAvailable)),t.xp6(4),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(3),t.Oqu(e.unit),t.xp6(4),t.Q6J("ngIf",e.oldPrice),t.xp6(4),t.hij(" ",t.xi3(19,10,e.price,"Pkr ")," "),t.xp6(3),t.Q6J("ngIf",e.isAvailable)("ngIfElse",c)}}function E(n,o){if(1&n&&(t.TgZ(0,"c-row",18),t.TgZ(1,"c-col",19),t.TgZ(2,"span",20),t.TgZ(3,"h4",21),t._uU(4),t.qZA(),t.YNc(5,q,3,0,"span",22),t.qZA(),t.TgZ(6,"c-card",23),t._UZ(7,"img",24),t.YNc(8,v,3,1,"c-card-body",25),t.qZA(),t.TgZ(9,"c-row",26),t.YNc(10,F,24,17,"c-col",10),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.MGl("id","menu-",e.id,""),t.Q6J("gutter",3),t.xp6(4),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",!e.isAvailable),t.xp6(2),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(12,h,!e.isAvailable)),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(1),t.Q6J("lg",3)("md",3)("sm",1)("gutter",2),t.xp6(1),t.Q6J("ngForOf",e.items)}}function P(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-container",3),t.TgZ(1,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().searchToggle()}),t.YNc(2,I,5,1,"span",5),t.TgZ(3,"span"),t.TgZ(4,"button",6),t.YNc(5,y,1,0,"c-spinner",7),t.YNc(6,M,1,0,"ng-template",null,8,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"c-nav",9),t.YNc(9,b,3,2,"c-nav-item",10),t.qZA(),t.qZA(),t.YNc(10,E,11,14,"c-row",11)}if(2&n){const e=t.MAs(7),c=t.oxw();t.xp6(2),t.Q6J("ngIf",c.isSearch),t.xp6(3),t.Q6J("ngIf",c.isSearching)("ngIfElse",e),t.xp6(4),t.Q6J("ngForOf",c.menus),t.xp6(1),t.Q6J("ngForOf",c.menus)}}let $=(()=>{class n{constructor(e,c,i,r,x){this.mService=e,this.route=c,this.router=i,this.cartStore=r,this.branchStore=x,this.isSearch=!1,this.menus=[],this.cart=new T.A,this.perfectScrollbarConfig={suppressScrollX:!0},this.selectedMenu=!1,this.isLoading=!1,this.isSearching=!1}ngOnInit(){this.branchStore.select("branch").forEach(e=>this.loadMenuItems(e)),this.cartStore.select("cart").forEach(e=>{this.cart=e,this.updateMenuByCart()})}updateMenuByCart(){this.menus.forEach(e=>{e.items.forEach(c=>{let i=this.cart.items.find(r=>r.id==c.id);c.quantity=i?i.quantity:0})})}addToCart(e){this.cartStore.dispatch((0,C.X7)(e))}ngAfterViewChecked(){var e;if(!this.selectedMenu){let c=this.route.snapshot.params.id;if(c){let i=document.querySelector(`#menu-${c}`);i&&(i.scrollIntoView({behavior:"smooth",block:"start"}),this.selectedMenu=!0,null===(e=document.querySelector(`#menu-nav-${c}`))||void 0===e||e.classList.add("active"))}}}loadMenuItems(e){var c=this;return(0,p.Z)(function*(){c.branch=e,c.isLoading=!0;let i={};e&&e.id&&(i={branchId:e.id}),yield c.mService.getMenusAndItems(i).forEach(r=>c.menus=r),c.isLoading=!1,c.updateMenuByCart()})()}searchMenu(){var e=this;return(0,p.Z)(function*(){if(e.searchQuery){e.isSearching=!0;let c={q:e.searchQuery};e.branch&&e.branch.id&&(c.branchId=e.branch.id),yield e.mService.getMenusAndItems(c).forEach(i=>e.menus=i),e.isSearching=!1,e.updateMenuByCart()}})()}hideSearch(){this.isSearch=!1,this.loadMenuItems(this.branch),this.searchQuery=void 0}searchToggle(){this.isSearch?this.searchMenu():this.isSearch=!0}scrollTo(e){var c;if(e&&e.id){document.querySelectorAll(".menu-nav").forEach(r=>r.classList.remove("active")),null===(c=document.querySelector(`#menu-nav-${e.id}`))||void 0===c||c.classList.add("active");let i=document.querySelector(`#menu-${e.id}`);i&&(i.scrollIntoView({behavior:"smooth",block:"start"}),this.selectedMenu=!0)}}changeDescriptionStyle(e){e.descriptionTruncated=!e.descriptionTruncated}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.h),t.Y36(u.gz),t.Y36(u.F0),t.Y36(_.yh),t.Y36(_.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-items"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["size","sm"],[1,"mb-4","d-flex","gap-2","p-2","flex-md-row","flex-column","justify-content-start","bg-white","sticky-top"],[1,"d-flex","flex-row","gap-2",3,"ngSubmit"],["class","d-flex flex-grow-1",4,"ngIf"],["cButton","","type","submit","color","primary","size",""],["size","sm",4,"ngIf","ngIfElse"],["searchIconBlock",""],["variant","pills",1,"d-flex","gap-1"],[4,"ngFor","ngForOf"],["class","mb-4 animate fade-in",3,"gutter","id",4,"ngFor","ngForOf"],[1,"d-flex","flex-grow-1"],["cButton","","type","button","color","light","size","",3,"click"],["cIcon","","name","cilX","size","sm"],["cFormControl","","name","searchQuery","placeholder","Search",3,"ngModel","ngModelChange"],["cIcon","","name","cilSearch","size","sm"],["cNavLink","",1,"menu-nav",3,"id","click"],[1,"mb-4","animate","fade-in",3,"gutter","id"],[1,""],[1,"d-flex","gap-2","align-items-center","py-2"],[1,"my-0"],[4,"ngIf"],[1,"mb-2","d-flex","justify-content-between"],[1,"img-lg","w-auto",3,"cCardImg","src","ngClass"],["class","align-self-stretch",4,"ngIf"],[3,"lg","md","sm","gutter"],["color","dark",1,""],[1,"align-self-stretch"],["cCardText","",1,"text-truncate"],[1,"d-flex","flex-row","hover-primary",3,"ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"d-flex","flex-column","text-truncate"],[1,"d-flex","justify-content-between"],["cCardTitle",""],["cCardText","","class","fw-normal mb-1",3,"ngClass","click",4,"ngIf"],[1,"fw-semibold"],[1,"d-flex","flex-lg-row","flex-sm-row","flex-column","align-items-end","justify-content-sm-between","gap-2"],[1,"d-flex","flex-column","gap-1"],["color","dark","shape","rounded-pill",4,"ngIf"],["color","primary","shape","rounded-pill"],[1,"d-block"],["cButton","","size","sm","class","position-relative",3,"ngClass","click",4,"ngIf","ngIfElse"],["notAvailable",""],["cCardText","",1,"fw-normal","mb-1",3,"ngClass","click"],["color","dark","shape","rounded-pill"],[1,"text-decoration-line-through"],["cButton","","size","sm",1,"position-relative",3,"ngClass","click"],["addToCartBlock",""],["color","primary","shape","rounded-pill","class","position-absolute top-0 start-100 translate-middle",4,"ngIf"],["color","primary","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"]],template:function(e,c){if(1&e&&(t.YNc(0,A,4,0,"c-card",0),t.YNc(1,P,11,5,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",c.isLoading)("ngIfElse",i)}},directives:[l.O5,s.AkF,s.yue,s.ORR,s.e$z,m._Y,m.JL,m.F,s.Hq3,s.rZi,l.sg,s.g8K,f.ar,s.oHf,m.Fj,m.JJ,m.On,s.HOP,s.Vh3,s.iok,s.Aij,s.Yp0,s.pce,l.mk,s.FN3,s.PVT,s.qkm],pipes:[l.H9],styles:[""]}),n})();function B(n,o){1&n&&(t.TgZ(0,"c-row",2),t.TgZ(1,"c-col"),t.TgZ(2,"c-card"),t.TgZ(3,"c-card-body"),t._UZ(4,"c-spinner",3),t._uU(5," Loading... "),t.qZA(),t.qZA(),t.qZA(),t.qZA())}function j(n,o){1&n&&(t.TgZ(0,"c-badge",15),t._uU(1,"Not Available"),t.qZA())}function z(n,o){if(1&n&&(t.TgZ(0,"p",16),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.description)}}const H=function(n){return[n]},W=function(n){return{"text-muted":n}},V=function(n){return{"img-gray-scale":n}};function X(n,o){if(1&n&&(t.TgZ(0,"c-col",6),t.TgZ(1,"c-card",7),t._UZ(2,"img",8),t.TgZ(3,"c-card-body",9),t.TgZ(4,"span",10),t.TgZ(5,"h6",11),t._uU(6),t.qZA(),t.TgZ(7,"span"),t.YNc(8,j,2,0,"c-badge",12),t.qZA(),t.qZA(),t.YNc(9,z,2,1,"p",13),t.qZA(),t.TgZ(10,"c-badge",14),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(8,H,e.id))("ngClass",t.VKq(10,W,!e.isAvailable)),t.xp6(1),t.Q6J("src",e.primaryImg,t.LSH)("ngClass",t.VKq(12,V,!e.isAvailable)),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",!e.isAvailable),t.xp6(1),t.Q6J("ngIf",e.description),t.xp6(2),t.hij(" ",e.totalItems,"")}}function R(n,o){if(1&n&&(t.TgZ(0,"c-row",4),t.YNc(1,X,12,14,"c-col",5),t.qZA()),2&n){const e=t.oxw();t.Q6J("lg",3)("md",2)("sm",1)("gutter",3),t.xp6(1),t.Q6J("ngForOf",e.menus)}}const D=[{path:"menu",component:(()=>{class n{constructor(e,c){this.mService=e,this.branchStore=c,this.isLoading=!1,this.menus=[]}ngOnInit(){this.loadMenus(),this.branchStore.select("branch").forEach(e=>this.loadMenus(e))}loadMenus(e){var c=this;return(0,p.Z)(function*(){c.isLoading=!0;let i={};e&&e.id&&(i={branchId:e.id}),yield c.mService.getMenus(i).forEach(r=>c.menus=r),c.isLoading=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.h),t.Y36(_.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-list"]],decls:3,vars:2,consts:[["class","mt-4",4,"ngIf","ngIfElse"],["loadedBlock",""],[1,"mt-4"],["size","sm"],[1,"mt-4","justify-content-center",3,"lg","md","sm","gutter"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-row","flex-grow-1",3,"routerLink","ngClass"],[1,"img-md",3,"cCardImg","src","ngClass"],[1,"flex-shrink-1"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,""],["color","light","class","text-dark",4,"ngIf"],["cCardText","","class","text-wrap text-truncate",4,"ngIf"],["color","primary","shape","rounded-pill",1,"position-absolute","top-0","start-100","translate-middle"],["color","light",1,"text-dark"],["cCardText","",1,"text-wrap","text-truncate"]],template:function(e,c){if(1&e&&(t.YNc(0,B,6,0,"c-row",0),t.YNc(1,R,2,5,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",c.isLoading)("ngIfElse",i)}},directives:[l.O5,s.iok,s.Yp0,s.AkF,s.yue,s.ORR,s.Aij,l.sg,u.rH,l.mk,s.pce,s.qkm,s.FN3,s.PVT],styles:[""]}),n})()},{path:"menu/:id",component:$},{path:"deals",component:Z},{path:"promos",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-promos"]],decls:1,vars:0,template:function(e,c){1&e&&t._UZ(0,"div")},styles:[""]}),n})()}];let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(D)],u.Bz]}),n})();var G=a(5905),tt=a(8426),et=a(4466);const nt=[s.dTQ,s.hJ1,s.ejP,s.zE6,s.U$I,s.Fme,s.nMh,f.QX,s.TXv,tt.Xd,s.dGk,s.lKp,s.z8t,s.Opr,s._YA],ct=[G.zk.forRoot()];let ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,K,m.u5,m.UX,...nt,...ct,et.m]]}),n})()}}]);