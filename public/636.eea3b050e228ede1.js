"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[636],{5705:(x,g,s)=>{s.d(g,{T:()=>i});class i{constructor(){this.number=1,this.size=0,this.total=0,this.items=[]}}},9636:(x,g,s)=>{s.r(g),s.d(g,{OrderModule:()=>K});var i=s(9808),l=s(3477),t=s(4893),u=s(104),a=s(5033);function T(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.updatedOn,"hh:mm a / MMM dd, YYYY"))}}function A(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.createdOn,"hh:mm a / MMM dd, YYYY"))}}function O(n,r){if(1&n&&(t.TgZ(0,"span"),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.order.branch.name)}}function h(n,r){if(1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t.TgZ(2,"span",1),t.TgZ(3,"h6"),t._uU(4),t.qZA(),t.TgZ(5,"span",10),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"currency"),t.TgZ(11,"span",10),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.hij(" ",t.xi3(7,5,e.total,"Pkr ")," "),t.xp6(3),t.AsE(" ",t.xi3(10,8,e.price,"Pkr ")," ",e.unit," x "),t.xp6(3),t.Oqu(e.quantity)}}function C(n,r){if(1&n&&(t.TgZ(0,"span",1),t.TgZ(1,"span",10),t._uU(2,"GST"),t.qZA(),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.AsE("",e.order.gst,"% - ",t.xi3(5,2,e.order.subTotal*(e.order.gst/100),"Pkr "),"")}}function q(n,r){if(1&n&&(t.TgZ(0,"c-col"),t.TgZ(1,"c-card"),t.TgZ(2,"c-card-body"),t.TgZ(3,"span",1),t.TgZ(4,"h4"),t._uU(5),t.qZA(),t.TgZ(6,"span",2),t.TgZ(7,"span",3),t.TgZ(8,"c-badge",4),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"span",5),t.YNc(11,T,3,4,"span",6),t.YNc(12,A,3,4,"ng-template",null,7,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.YNc(14,O,3,1,"span",0),t.qZA(),t.qZA(),t.TgZ(15,"h4",8),t._uU(16,"Items"),t.qZA(),t.YNc(17,h,13,11,"c-card",9),t.TgZ(18,"c-card"),t.TgZ(19,"c-card-body"),t.TgZ(20,"span",1),t.TgZ(21,"span",10),t._uU(22,"Sub total"),t.qZA(),t.TgZ(23,"span",11),t._uU(24),t.ALo(25,"currency"),t.qZA(),t.qZA(),t.YNc(26,C,6,5,"span",12),t.TgZ(27,"span",1),t.TgZ(28,"span",10),t._uU(29,"Total"),t.qZA(),t.TgZ(30,"span"),t.TgZ(31,"c-badge",13),t.TgZ(32,"span",14),t._uU(33),t.ALo(34,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(13),o=t.oxw();t.xp6(5),t.hij("#",o.order.id,""),t.xp6(4),t.Oqu(o.order.status),t.xp6(2),t.Q6J("ngIf",o.order.updatedOn)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",o.order.branch),t.xp6(3),t.Q6J("ngForOf",o.order.items),t.xp6(7),t.Oqu(t.xi3(25,9,o.order.subTotal,"Pkr ")),t.xp6(2),t.Q6J("ngIf",o.order.gst),t.xp6(7),t.Oqu(t.xi3(34,12,o.order.total,"Pkr "))}}let I=(()=>{class n{constructor(e,o){this.route=e,this.orderService=o}ngOnInit(){this.route.params.forEach(e=>{e.id&&this.orderService.getById(e.id).subscribe(o=>this.order=o)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(u.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-detail"]],decls:6,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-end"],["size","sm","color","danger"],[1,"fw-light"],[4,"ngIf","ngIfElse"],["createdOnBlock",""],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"fw-semibold"],[1,"fw-bold"],["class","d-flex justify-content-between",4,"ngIf"],["color","danger"],[1,"fs-6","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.TgZ(2,"h4"),t._uU(3,"Order Details"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"c-row"),t.YNc(5,q,35,15,"c-col",0),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngIf",o.order))},directives:[a.iok,a.Yp0,i.O5,a.AkF,a.yue,a.FN3,i.sg],pipes:[i.H9,i.uU],styles:[""]}),n})();var m=s(5861),p=s(2205),L=s(5705),f=s(1728);function v(n,r){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"span",15),t.TgZ(1,"span",16),t.O4$(),t._UZ(2,"svg",17),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.hij(" ",e.order.address.formattedAddress," ")}}function w(n,r){if(1&n&&(t.TgZ(0,"span",11),t.TgZ(1,"span",6),t._uU(2),t.qZA(),t.TgZ(3,"span",12),t.O4$(),t._UZ(4,"svg",13),t._uU(5),t.qZA(),t.YNc(6,v,4,1,"span",14),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.order.customer.fullName," "),t.xp6(3),t.hij(" ",e.order.customer.cellNumber," "),t.xp6(1),t.Q6J("ngIf",e.order.isDelivery&&e.order.address)}}function N(n,r){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"small"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.updatedOn,"hh:mm a / MMM dd, YYYY"))}}function U(n,r){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"small"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.xi3(2,1,e.order.createdOn,"hh:mm a / MMM dd, YYYY"))}}function y(n,r){if(1&n&&(t.TgZ(0,"span",1),t.TgZ(1,"span",2),t.TgZ(2,"span",3),t._uU(3),t.qZA(),t.YNc(4,w,7,3,"span",4),t.qZA(),t.TgZ(5,"span",5),t.TgZ(6,"span",6),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"span",7),t.O4$(),t._UZ(10,"svg",8),t.YNc(11,N,3,4,"small",9),t.YNc(12,U,3,4,"ng-template",null,10,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.MAs(13),o=t.oxw();t.xp6(3),t.hij(" #",o.order.id," "),t.xp6(1),t.Q6J("ngIf",o.order.customer),t.xp6(3),t.hij(" ",t.xi3(8,5,o.order.total,"Pkr ")," "),t.xp6(4),t.Q6J("ngIf",o.order.updatedOn)("ngIfElse",e)}}let Y=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-list-item-card"]],inputs:{order:["cart","order"]},decls:1,vars:1,consts:[[3,"ngIf"],[1,"d-flex","justify-content-between"],[1,"d-flex","gap-2","flex-row"],[1,"fw-bold"],["class","d-flex flex-column",4,"ngIf"],[1,"d-flex","flex-column","align-items-end"],[1,"fw-semibold"],[1,"d-flex","gap-2","align-items-center"],["cIcon","","name","cilClock"],[4,"ngIf","ngIfElse"],["createdOnBlock",""],[1,"d-flex","flex-column"],["cTooltip","Contact Number",1,"fw-regular"],["cIcon","","name","cilPhone"],["class","fw-regular","cTooltip","Delivery Address",4,"ngIf"],["cTooltip","Delivery Address",1,"fw-regular"],[1,""],["cIcon","","name","cilLocationPin"]],template:function(e,o){1&e&&t.YNc(0,y,14,8,"ng-template",0),2&e&&t.Q6J("ngIf",o.order)},directives:[i.O5,f.ar],pipes:[i.H9,i.uU],styles:[""]}),n})();var Z=s(6939),_=s(2382);const M=function(n){return["../",n]};function S(n,r){if(1&n&&(t.TgZ(0,"c-nav-item"),t.TgZ(1,"a",5),t._uU(2),t.TgZ(3,"span"),t.TgZ(4,"c-badge",6),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(3,M,e.status)),t.xp6(1),t.hij(" ",e.status," "),t.xp6(3),t.hij(" ",e.total," ")}}function E(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"c-card-footer",15),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).$implicit;return t.oxw().orderCancel(c.id)}),t._uU(2," Cancel "),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).$implicit;return t.oxw().changeStatus(c.id,c.status)}),t._uU(4," Accept "),t.qZA(),t.qZA()}}function J(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"c-card-footer",18),t.TgZ(1,"button",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).$implicit;return t.oxw().changeStatus(c.id,c.status)}),t._uU(2," In Progress "),t.qZA(),t.qZA()}}function P(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"c-card-footer",18),t.TgZ(1,"button",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(2).$implicit;return t.oxw().changeStatus(c.id,c.status)}),t._uU(2," Dispatch "),t.qZA(),t.qZA()}}function b(n,r){if(1&n&&(t.TgZ(0,"span",12),t.YNc(1,E,5,0,"c-card-footer",13),t.YNc(2,J,3,0,"c-card-footer",14),t.YNc(3,P,3,0,"c-card-footer",14),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngSwitch",e.status),t.xp6(1),t.Q6J("ngSwitchCase","PENDING"),t.xp6(1),t.Q6J("ngSwitchCase","ACCEPTED"),t.xp6(1),t.Q6J("ngSwitchCase","IN_PROGRESS")}}function D(n,r){1&n&&(t.TgZ(0,"c-card-footer",18),t._uU(1," In Branch Order "),t.qZA())}const k=function(n){return["../","detail",n]};function Q(n,r){if(1&n&&(t.TgZ(0,"c-card",7),t.TgZ(1,"c-card-body",8),t._UZ(2,"app-order-list-item-card",9),t.qZA(),t.YNc(3,b,4,4,"ng-template",10),t.YNc(4,D,2,0,"ng-template",null,11,t.W1O),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(5);t.xp6(1),t.Q6J("routerLink",t.VKq(4,k,e.id)),t.xp6(1),t.Q6J("cart",e),t.xp6(1),t.Q6J("ngIf",e.isDelivery)("ngIfElse",o)}}function F(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"pagination",21),t.NdJ("ngModelChange",function(c){return t.CHM(e),t.oxw(2).page.number=c})("pageChanged",function(c){return t.CHM(e),t.oxw(2).onPageChange(c)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("totalItems",e.page.total)("ngModel",e.page.number)("itemsPerPage",e.page.size)}}function j(n,r){if(1&n&&(t.TgZ(0,"c-row",19),t.TgZ(1,"c-col"),t.YNc(2,F,1,3,"pagination",20),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.page&&e.page.items&&e.page.items.length>0)}}const R=[{path:"",children:[{path:"",redirectTo:"PENDING"},{path:":status",component:(()=>{class n{constructor(e,o){this.route=e,this.orderService=o,this.page=new L.T,this.statusNav=[{status:"All",total:0}],this.isLoading=!1,this.changingStatus=!1}ngOnInit(){this.route.params.forEach(e=>{this.loadOrders(1,e.status)})}loadOrders(e,o){var c=this;return(0,m.Z)(function*(){c.isLoading=!0,c.status=o,yield c.orderService.get(c.status,e).forEach(d=>{c.statusNav=d.orderStatus,c.page=d.page}),c.isLoading=!1})()}onPageChange(e){this.loadOrders(e.page,this.status)}changeStatus(e,o){var c=this;return(0,m.Z)(function*(){e&&o&&(o==p.i.PENDING?o=p.i.ACCEPTED:o==p.i.ACCEPTED?o=p.i.IN_PROGRESS:o==p.i.IN_PROGRESS&&(o=p.i.DISPATCHED),c.changingStatus=!0,yield c.orderService.changeStatus(e,o).forEach(d=>console.log(d)),c.changingStatus=!1,c.loadOrders(c.page.number,c.status))})()}orderCancel(e){this.changeStatus(e,p.i.CANCELED)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(u.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order-list"]],decls:8,vars:3,consts:[["variant","pills"],[4,"ngFor","ngForOf"],[1,"mt-3"],["class","mb-2",4,"ngFor","ngForOf"],["class","mt-2",4,"ngIf"],["cNavLink","","routerLinkActive","active",3,"routerLink"],["color","danger","shape","rounded-pill"],[1,"mb-2"],[3,"routerLink"],[3,"cart"],[3,"ngIf","ngIfElse"],["elseIsDeliveryBlock",""],[3,"ngSwitch"],["class","d-flex gap-2 justify-content-end",4,"ngSwitchCase"],["class","d-flex justify-content-end",4,"ngSwitchCase"],[1,"d-flex","gap-2","justify-content-end"],["cButton","","size","sm","color","danger",3,"click"],["cButton","","size","sm",3,"click"],[1,"d-flex","justify-content-end"],[1,"mt-2"],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged",4,"ngIf"],[3,"totalItems","ngModel","itemsPerPage","ngModelChange","pageChanged"]],template:function(e,o){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.TgZ(2,"c-nav",0),t.YNc(3,S,6,5,"c-nav-item",1),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"c-row",2),t.TgZ(5,"c-col"),t.YNc(6,Q,6,6,"c-card",3),t.qZA(),t.qZA(),t.YNc(7,j,3,1,"c-row",4)),2&e&&(t.xp6(3),t.Q6J("ngForOf",o.statusNav),t.xp6(3),t.Q6J("ngForOf",o.page.items),t.xp6(1),t.Q6J("ngIf",o.page&&o.page.items&&o.page.items.length>0))},directives:[a.iok,a.Yp0,a.rZi,i.sg,i.O5,a.HOP,l.yS,a.Vh3,l.Od,a.FN3,a.AkF,a.yue,l.rH,Y,i.RF,i.n9,a.xUh,a.Hq3,Z.Qt,_.JJ,_.On],styles:[""]}),n})(),data:{title:"List"}},{path:"detail/:id",component:I,data:{title:"Detail"}}]}];let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(R)],l.Bz]}),n})();var z=s(5905),B=s(8426),H=s(4466);const G=[a.dTQ,a.hJ1,a.ejP,a.zE6,a.U$I,a.Fme,a.nMh,f.QX,a.TXv,B.Xd,a.dGk,a.P4_,a.lKp,a.z8t],X=[Z.u3.forRoot(),z.zk.forRoot()];let K=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.ez,$,...G,...X,_.u5,H.m]]}),n})()}}]);