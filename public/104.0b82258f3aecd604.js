"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[104],{8104:(y,T,a)=>{a.r(T),a.d(T,{AuthModule:()=>G});var i=a(9808),A=a(520),g=a(3477),e=a(4893),d=a(9633);let n=(()=>{class s{constructor(r,o){this.router=r,this.store=o}ngOnInit(){this.store.select("auth").forEach(r=>{null!=r&&null!=r&&this.router.navigateByUrl("/")})}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(g.F0),e.Y36(d.yh))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-auth"]],decls:1,vars:0,template:function(r,o){1&r&&e._UZ(0,"router-outlet")},directives:[g.lC],styles:[""]}),s})();var f=a(5861),l=a(2382),u=a(9337),c=a(384),Z=a(704),t=a(5033),w=a(9998);function I(s,p){if(1&s&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Oqu(r.alert.message)}}function h(s,p){1&s&&(e.TgZ(0,"span"),e._UZ(1,"c-spinner",18),e._uU(2," Sending... "),e.qZA())}function b(s,p){1&s&&e._uU(0," Send reset password link ")}let _=(()=>{class s{constructor(r,o){this.authService=r,this.alertService=o,this.form=new l.cw({username:new l.NI(null,[l.kI.required])}),this.isLoading=!1,this.alert=new u.b}ngOnInit(){}onSubmit(){var r=this;return(0,f.Z)(function*(){r.form.valid&&(r.alertService.hideAlert(r.alert),r.isLoading=!0,r.authService.forgetPassword(r.form.value).forEach(o=>{console.log(o),o&&o.error?"EMAIL_NOT_REGISTERED"==o.error.code?r.form.controls.username.setErrors({else:"Invalid email or email is not registered"}):r.alertService.showAlert(r.alert,o.error.code,o.error.message):r.alertService.showAlert(r.alert,"SENT","Reset password link sent to your registered email. check your inbox or spam folder","success")}).catch(o=>{}).finally(()=>r.isLoading=!1))})()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(c.e),e.Y36(Z.c))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-forget-password"]],decls:27,vars:11,consts:[[1,"bg-light","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["md","6"],[1,"p-4"],[3,"color","visible","dismissible","visibleChange"],["cAlertHeading",""],["class","m-0",4,"ngIf"],["cForm","",3,"formGroup","ngSubmit"],[1,"text-medium-emphasis"],[3,"disabled"],["cFormFloating","",1,"mb-3"],["formControlName","username","cFormControl","","id","username","placeholder","enter your username or email","autofocus","",3,"valid"],["cLabel","","id","username"],[3,"control"],["cButton","","type","submit","color","primary"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"m-0"],["aria-hidden","true","size","sm"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"c-container"),e.TgZ(2,"c-row",1),e.TgZ(3,"c-col",2),e.TgZ(4,"c-card",3),e.TgZ(5,"c-card-body"),e.TgZ(6,"c-alert",4),e.NdJ("visibleChange",function(q){return o.alert.visible=q}),e.TgZ(7,"h6",5),e._uU(8),e.qZA(),e.YNc(9,I,2,1,"p",6),e.qZA(),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"h1"),e._uU(12,"Forget Password"),e.qZA(),e.TgZ(13,"p",8),e._uU(14,"Send reset password link to your email"),e.qZA(),e.TgZ(15,"fieldset",9),e.TgZ(16,"div",10),e._UZ(17,"input",11),e.TgZ(18,"label",12),e._uU(19,"Username"),e.qZA(),e._UZ(20,"app-input-error",13),e.qZA(),e.TgZ(21,"c-row"),e.TgZ(22,"c-col"),e.TgZ(23,"button",14),e.YNc(24,h,3,0,"span",15),e.YNc(25,b,1,0,"ng-template",null,16,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const v=e.MAs(26);e.xp6(6),e.Q6J("color",o.alert.type)("visible",o.alert.visible)("dismissible",!0),e.xp6(2),e.Oqu(o.alert.title),e.xp6(1),e.Q6J("ngIf",o.alert.message),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("disabled",o.isLoading),e.xp6(2),e.Q6J("valid",o.form.controls.username.valid),e.xp6(3),e.Q6J("control",o.form.controls.username),e.xp6(4),e.Q6J("ngIf",o.isLoading)("ngIfElse",v)}},directives:[t.e$z,t.iok,t.Yp0,t.AkF,t.yue,t.wxo,t.bqr,i.O5,l._Y,l.JL,t.$_X,l.sg,t.xPZ,l.Fj,t.oHf,l.JJ,l.u,t.eFW,w.w,t.Hq3,t.ORR],styles:[""]}),s})();var m=a(9245);function C(s,p){if(1&s&&(e.TgZ(0,"p",25),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Oqu(r.alert.message)}}function S(s,p){1&s&&(e.TgZ(0,"span"),e._UZ(1,"c-spinner",26),e._uU(2," Logging in... "),e.qZA())}function E(s,p){1&s&&e._uU(0," Login ")}const L=function(){return{"width.%":44}};let x=(()=>{class s{constructor(r,o,v){this.authService=r,this.store=o,this.alertService=v,this.form=new l.cw({username:new l.NI(null,[l.kI.required]),password:new l.NI(null,l.kI.required)}),this.isLoading=!1,this.alert=new u.b}ngOnInit(){}onSubmit(){var r=this;return(0,f.Z)(function*(){r.form.valid&&(r.alertService.hideAlert(r.alert),r.isLoading=!0,r.authService.login(r.form.value).forEach(o=>{o&&(r.alertService.showAlert(r.alert,"LOGGED IN",`Welcome back ${o.fullName}`,"success"),r.store.dispatch((0,m.y)(o)))}).catch(o=>{console.log(o),r.alertService.showErrorAlert(r.alert,o)}).finally(()=>r.isLoading=!1))})()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(c.e),e.Y36(d.yh),e.Y36(Z.c))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-login"]],decls:45,vars:16,consts:[[1,"bg-light","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["md","8"],[1,"p-4","w-75"],[3,"color","visible","dismissible","visibleChange"],["cAlertHeading",""],["class","m-0",4,"ngIf"],["cForm","",3,"formGroup","ngSubmit"],[1,"text-medium-emphasis"],[3,"disabled"],["cFormFloating","",1,"mb-3"],["formControlName","username","cFormControl","","id","username","placeholder","enter your username or email","autofocus","",3,"valid"],["cLabel","","id","username"],[3,"control"],["formControlName","password","cFormControl","","id","password","placeholder","password","type","password",3,"valid"],["cLabel","","id","password"],["xs","6"],["cButton","","type","submit","color","primary"],[4,"ngIf","ngIfElse"],["elseBlock",""],["xs","6",1,"text-right"],["cButton","","routerLink","/forget/password","type","button","color","link",1,"px-0"],[1,"text-white","bg-primary","py-5","w-25",3,"ngStyle"],[1,"text-center"],["cButton","","color","primary","routerLink","/register",1,"mt-3",3,"active"],[1,"m-0"],["aria-hidden","true","size","sm"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"c-container"),e.TgZ(2,"c-row",1),e.TgZ(3,"c-col",2),e.TgZ(4,"c-card-group"),e.TgZ(5,"c-card",3),e.TgZ(6,"c-card-body"),e.TgZ(7,"c-alert",4),e.NdJ("visibleChange",function(q){return o.alert.visible=q}),e.TgZ(8,"h6",5),e._uU(9),e.qZA(),e.YNc(10,C,2,1,"p",6),e.qZA(),e.TgZ(11,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(12,"h1"),e._uU(13,"Login"),e.qZA(),e.TgZ(14,"p",8),e._uU(15,"Sign In to your account"),e.qZA(),e.TgZ(16,"fieldset",9),e.TgZ(17,"div",10),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Username"),e.qZA(),e._UZ(21,"app-input-error",13),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",14),e.TgZ(24,"label",15),e._uU(25,"Password"),e.qZA(),e._UZ(26,"app-input-error",13),e.qZA(),e.TgZ(27,"c-row"),e.TgZ(28,"c-col",16),e.TgZ(29,"button",17),e.YNc(30,S,3,0,"span",18),e.YNc(31,E,1,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA(),e.TgZ(33,"c-col",20),e.TgZ(34,"button",21),e._uU(35," Forgot password? "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"c-card",22),e.TgZ(37,"c-card-body",23),e.TgZ(38,"div"),e.TgZ(39,"h2"),e._uU(40,"Sign up"),e.qZA(),e.TgZ(41,"p"),e._uU(42," Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),e.qZA(),e.TgZ(43,"button",24),e._uU(44," Register Now! "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const v=e.MAs(32);e.xp6(7),e.Q6J("color",o.alert.type)("visible",o.alert.visible)("dismissible",!0),e.xp6(2),e.Oqu(o.alert.title),e.xp6(1),e.Q6J("ngIf",o.alert.message),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("disabled",o.isLoading),e.xp6(2),e.Q6J("valid",o.form.controls.username.valid),e.xp6(3),e.Q6J("control",o.form.controls.username),e.xp6(2),e.Q6J("valid",o.form.controls.password.valid),e.xp6(3),e.Q6J("control",o.form.controls.password),e.xp6(4),e.Q6J("ngIf",o.isLoading)("ngIfElse",v),e.xp6(6),e.Q6J("ngStyle",e.DdM(15,L)),e.xp6(7),e.Q6J("active",!0)}},directives:[t.e$z,t.iok,t.Yp0,t.RMw,t.AkF,t.yue,t.wxo,t.bqr,i.O5,l._Y,l.JL,t.$_X,l.sg,t.xPZ,l.Fj,t.oHf,l.JJ,l.u,t.eFW,w.w,t.Hq3,g.rH,i.PC,t.ORR],styles:[""]}),s})();var R=a(3087);function J(s,p){if(1&s&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Oqu(r.alert.message)}}function P(s,p){1&s&&(e.TgZ(0,"span"),e._UZ(1,"c-spinner",25),e._uU(2," Registering... "),e.qZA())}function F(s,p){1&s&&e._uU(0," Register ")}function O(s,p){if(1&s&&(e.TgZ(0,"p",23),e._uU(1),e.qZA()),2&s){const r=e.oxw();e.xp6(1),e.Oqu(r.alert.message)}}function Q(s,p){1&s&&(e.TgZ(0,"span"),e._UZ(1,"c-spinner",24),e._uU(2," Saving... "),e.qZA())}function Y(s,p){1&s&&e._uU(0," Save ")}const M=[{path:"",component:n,children:[{path:"login",component:x},{path:"register",component:(()=>{class s{constructor(r,o){this.authService=r,this.alertService=o,this.form=new l.cw({email:new l.NI(null,[l.kI.required,l.kI.email]),password:new l.NI(null,[l.kI.required,l.kI.minLength(6),l.kI.maxLength(12)]),confirmPassword:new l.NI(null)}),this.isLoading=!1,this.alert=new u.b,this.form.addValidators(R.o)}ngOnInit(){}onSubmit(){var r=this;return(0,f.Z)(function*(){r.form.valid&&(r.alertService.hideAlert(r.alert),r.isLoading=!0,r.authService.register(r.form.value).forEach(o=>{console.log(o),o&&o.error?r.alertService.showAlert(r.alert,o.error.name,o.error.message):o&&r.alertService.showAlert(r.alert,"LOGGED IN",`Welcome back ${o.fullName}`,"success")}).catch(o=>{console.log(o)}).finally(()=>r.isLoading=!1))})()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(c.e),e.Y36(Z.c))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-register"]],decls:41,vars:15,consts:[[1,"bg-light","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["md","6"],[1,"p-4"],[3,"color","visible","dismissible","visibleChange"],["cAlertHeading",""],["class","m-0",4,"ngIf"],["cForm","",3,"formGroup","ngSubmit"],[1,"text-medium-emphasis"],[3,"disabled"],["cFormFloating","",1,"mb-3"],["formControlName","email","cFormControl","","id","email","type","email","placeholder","enter email","autofocus","",3,"valid"],["cLabel","","id","email"],[3,"control"],["formControlName","password","cFormControl","","id","password","placeholder","password","type","password",3,"valid"],["cLabel","","id","password"],["cFormControl","","formControlName","confirmPassword","sizing","sm","id","confirm-password","placeholder","password","type","password",3,"valid"],["cLabel","","id","confirmPassword"],["xs","12",1,"d-grid"],["cButton","","type","submit","color","primary"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"d-grid","gap-2"],["cButton","","routerLink","/login","color","link"],[1,"m-0"],["aria-hidden","true","size","sm"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"c-container"),e.TgZ(2,"c-row",1),e.TgZ(3,"c-col",2),e.TgZ(4,"c-card",3),e.TgZ(5,"c-card-body"),e.TgZ(6,"c-alert",4),e.NdJ("visibleChange",function(q){return o.alert.visible=q}),e.TgZ(7,"h6",5),e._uU(8),e.qZA(),e.YNc(9,J,2,1,"p",6),e.qZA(),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"h1"),e._uU(12,"Register"),e.qZA(),e.TgZ(13,"p",8),e._uU(14,"Create your new account"),e.qZA(),e.TgZ(15,"fieldset",9),e.TgZ(16,"div",10),e._UZ(17,"input",11),e.TgZ(18,"label",12),e._uU(19,"Email"),e.qZA(),e._UZ(20,"app-input-error",13),e.qZA(),e.TgZ(21,"div",10),e._UZ(22,"input",14),e.TgZ(23,"label",15),e._uU(24,"Password"),e.qZA(),e._UZ(25,"app-input-error",13),e.qZA(),e.TgZ(26,"div",10),e._UZ(27,"input",16),e.TgZ(28,"label",17),e._uU(29,"Confirm Password"),e.qZA(),e._UZ(30,"app-input-error",13),e.qZA(),e.TgZ(31,"c-row"),e.TgZ(32,"c-col",18),e.TgZ(33,"button",19),e.YNc(34,P,3,0,"span",20),e.YNc(35,F,1,0,"ng-template",null,21,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(37,"hr"),e.TgZ(38,"div",22),e.TgZ(39,"button",23),e._uU(40," Login "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const v=e.MAs(36);e.xp6(6),e.Q6J("color",o.alert.type)("visible",o.alert.visible)("dismissible",!0),e.xp6(2),e.Oqu(o.alert.title),e.xp6(1),e.Q6J("ngIf",o.alert.message),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("disabled",o.isLoading),e.xp6(2),e.Q6J("valid",o.form.controls.email.valid),e.xp6(3),e.Q6J("control",o.form.controls.email),e.xp6(2),e.Q6J("valid",o.form.controls.password.valid),e.xp6(3),e.Q6J("control",o.form.controls.password),e.xp6(2),e.Q6J("valid",o.form.valid),e.xp6(3),e.Q6J("control",o.form),e.xp6(4),e.Q6J("ngIf",o.isLoading)("ngIfElse",v)}},directives:[t.e$z,t.iok,t.Yp0,t.AkF,t.yue,t.wxo,t.bqr,i.O5,l._Y,l.JL,t.$_X,l.sg,t.xPZ,l.Fj,t.oHf,l.JJ,l.u,t.eFW,w.w,t.Hq3,g.rH,t.ORR],styles:[""]}),s})()},{path:"forget/password",component:_},{path:"reset/password/:token",component:(()=>{class s{constructor(r,o,v){this.authService=r,this.alertService=o,this.route=v,this.checkPassword=q=>q.value.password!==q.value.confirmPassword?{else:"Password not match"}:null,this.form=new l.cw({password:new l.NI(null,[l.kI.required,l.kI.minLength(6),l.kI.maxLength(12)]),confirmPassword:new l.NI(null)},this.checkPassword),this.isLoading=!1,this.alert=new u.b}ngOnInit(){this.token=this.route.snapshot.params.token}onSubmit(){var r=this;return(0,f.Z)(function*(){r.form.valid&&(r.alertService.hideAlert(r.alert),null!=r.token&&(r.isLoading=!0,r.authService.resetPassword(r.token,r.form.value).forEach(o=>{console.log(o),o&&o.error?"INVALID_OR_EXPIRED"==o.error.code?r.alertService.showAlert(r.alert,"FAILED","Invalid   or expired token"):r.alertService.showAlert(r.alert,o.error.code,o.error.message):r.alertService.showAlert(r.alert,"DONE","Password has been reset. Login with your new password","success")}).catch(o=>{console.log(o)}).finally(()=>r.isLoading=!1)))})()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(c.e),e.Y36(Z.c),e.Y36(g.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-reset-password"]],decls:38,vars:13,consts:[[1,"bg-light","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["md","6"],[1,"p-4"],[3,"color","visible","dismissible","visibleChange"],["cAlertHeading",""],["class","m-0",4,"ngIf"],["cForm","",3,"formGroup","ngSubmit"],[1,"text-medium-emphasis"],[3,"disabled"],["cFormFloating","",1,"mb-3"],["formControlName","password","cFormControl","","id","password","placeholder","password","type","password",3,"valid"],["cLabel","","id","password"],[3,"control"],["cFormControl","","formControlName","confirmPassword","id","confirm-password","placeholder","password","type","password",3,"valid"],["cLabel","","id","confirmPassword"],["xs","12",1,"d-grid"],["cButton","","type","submit","color","primary"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"d-grid","gap-2"],["cButton","","routerLink","/forget/password","color","link"],["cButton","","routerLink","/login","color","primary"],[1,"m-0"],["aria-hidden","true","size","sm"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"c-container"),e.TgZ(2,"c-row",1),e.TgZ(3,"c-col",2),e.TgZ(4,"c-card",3),e.TgZ(5,"c-card-body"),e.TgZ(6,"c-alert",4),e.NdJ("visibleChange",function(q){return o.alert.visible=q}),e.TgZ(7,"h6",5),e._uU(8),e.qZA(),e.YNc(9,O,2,1,"p",6),e.qZA(),e.TgZ(10,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(11,"h1"),e._uU(12,"Reset Password"),e.qZA(),e.TgZ(13,"p",8),e._uU(14,"Create your new account"),e.qZA(),e.TgZ(15,"fieldset",9),e.TgZ(16,"div",10),e._UZ(17,"input",11),e.TgZ(18,"label",12),e._uU(19,"Password"),e.qZA(),e._UZ(20,"app-input-error",13),e.qZA(),e.TgZ(21,"div",10),e._UZ(22,"input",14),e.TgZ(23,"label",15),e._uU(24,"Confirm Password"),e.qZA(),e._UZ(25,"app-input-error",13),e.qZA(),e.TgZ(26,"c-row"),e.TgZ(27,"c-col",16),e.TgZ(28,"button",17),e.YNc(29,Q,3,0,"span",18),e.YNc(30,Y,1,0,"ng-template",null,19,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(32,"hr"),e.TgZ(33,"div",20),e.TgZ(34,"button",21),e._uU(35," Forget Password "),e.qZA(),e.TgZ(36,"button",22),e._uU(37," Login "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){const v=e.MAs(31);e.xp6(6),e.Q6J("color",o.alert.type)("visible",o.alert.visible)("dismissible",!0),e.xp6(2),e.Oqu(o.alert.title),e.xp6(1),e.Q6J("ngIf",o.alert.message),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("disabled",o.isLoading),e.xp6(2),e.Q6J("valid",o.form.controls.password.valid),e.xp6(3),e.Q6J("control",o.form.controls.password),e.xp6(2),e.Q6J("valid",o.form.valid),e.xp6(3),e.Q6J("control",o.form),e.xp6(4),e.Q6J("ngIf",o.isLoading)("ngIfElse",v)}},directives:[t.e$z,t.iok,t.Yp0,t.AkF,t.yue,t.wxo,t.bqr,i.O5,l._Y,l.JL,t.$_X,l.sg,t.xPZ,l.Fj,t.oHf,l.JJ,l.u,t.eFW,w.w,t.Hq3,g.rH,t.ORR],styles:[""]}),s})()}]}];let k=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[g.Bz.forChild(M)],g.Bz]}),s})();var B=a(1728);const D=(0,d.Lq)((()=>{{let s=localStorage.getItem("auth");if(null!=s)return JSON.parse(s)}return null})(),(0,d.on)(m.y,(s,p)=>(localStorage.setItem("auth",JSON.stringify(p)),p)),(0,d.on)(m.C,()=>(localStorage.removeItem("auth"),null)));function H(s,p){return D(s,p)}var W=a(4466);const $=[t.dTQ,B.QX,t.zE6,t.ejP,t.hJ1,t.nMh,t.Fme];let G=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[i.ez,k,A.JF,...$,l.u5,l.UX,W.m,d.Aw.forFeature("auth",H)]]}),s})()},384:(y,T,a)=>{a.d(T,{e:()=>n});var i=a(262),A=a(2340),g=a(4893),e=a(520),d=a(3093);let n=(()=>{class f{constructor(u,c){this.http=u,this.commonService=c,this.BASE_URL=`${A.N.BASE_URL}/auth`}login(u){return this.http.post(`${this.BASE_URL}/login`,u).pipe((0,i.K)(this.commonService.catchError))}register(u){return this.http.post(`${this.BASE_URL}/register`,u).pipe((0,i.K)(this.commonService.catchError))}forgetPassword(u){return this.http.post(`${this.BASE_URL}/forget/password`,u).pipe((0,i.K)(this.commonService.catchError))}resetPassword(u,c){return this.http.post(`${this.BASE_URL}/reset/password/${u}`,c).pipe((0,i.K)(this.commonService.catchError))}updatePassword(u,c){return this.http.post(`${this.BASE_URL}/${u}/password`,c).pipe((0,i.K)(this.commonService.catchError))}enabled(u,c){return this.http.get(`${this.BASE_URL}/${u}/enabled/`,{params:c}).pipe((0,i.K)(this.commonService.catchError))}}return f.\u0275fac=function(u){return new(u||f)(g.LFG(e.eN),g.LFG(d.v))},f.\u0275prov=g.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9337:(y,T,a)=>{a.d(T,{b:()=>i});class i{constructor(){this.type="error",this.visible=!1,this.title="",this.message=""}}},3093:(y,T,a)=>{a.d(T,{v:()=>I});var i=a(8306),A=a(576),e=a(9646),d=a(9245),n=a(4893),f=a(5905),l=a(9633),u=a(5033),c=a(9808);function Z(h,b){if(1&h&&(n.TgZ(0,"span"),n._UZ(1,"hr"),n.TgZ(2,"p"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA(),n.qZA()),2&h){const _=n.oxw();n.xp6(3),n.Oqu(null==_.er?null:_.er.error.name),n.xp6(2),n.Oqu(null==_.er?null:_.er.error.message)}}function t(h,b){if(1&h){const _=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){return n.CHM(_),n.oxw().login()}),n._uU(1,"Login"),n.qZA()}}let w=(()=>{class h{constructor(_,m){this.bsModalRef=_,this.store=m,this.isLogin=!1}ngOnInit(){this.er&&401==this.er.status&&(this.isLogin=!0)}login(){this.bsModalRef.hide(),this.store.dispatch((0,d.C)())}}return h.\u0275fac=function(_){return new(_||h)(n.Y36(f.UZ),n.Y36(l.yh))},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-http-error-modal"]],decls:15,vars:6,consts:[[1,"text-danger"],[1,""],["cCardTitle",""],[4,"ngIf"],[1,"d-grid","d-flex","gap-2","float-end"],["cButton","","color","light",3,"click"],["cButton","","color","primary","shape","outline",3,"click",4,"ngIf"],["cButton","","color","primary","shape","outline",3,"click"]],template:function(_,m){1&_&&(n.TgZ(0,"c-card",0),n.TgZ(1,"c-card-body",1),n.TgZ(2,"h4",2),n._uU(3),n.qZA(),n.TgZ(4,"h2"),n._uU(5),n.qZA(),n.TgZ(6,"small"),n._uU(7),n.qZA(),n.YNc(8,Z,6,2,"span",3),n.TgZ(9,"c-row"),n.TgZ(10,"c-col"),n.TgZ(11,"span",4),n.TgZ(12,"button",5),n.NdJ("click",function(){return m.bsModalRef.hide()}),n._uU(13,"Close"),n.qZA(),n.YNc(14,t,2,0,"button",6),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&_&&(n.xp6(3),n.AsE("",null==m.er?null:m.er.name,"-",null==m.er?null:m.er.status,""),n.xp6(2),n.Oqu(null==m.er?null:m.er.statusText),n.xp6(2),n.hij("url: ",null==m.er?null:m.er.url,""),n.xp6(1),n.Q6J("ngIf",(null==m.er?null:m.er.error)&&((null==m.er?null:m.er.error.name)||(null==m.er?null:m.er.error.code))),n.xp6(6),n.Q6J("ngIf",m.isLogin))},directives:[u.AkF,u.yue,u.qkm,c.O5,u.iok,u.Yp0,u.Hq3],styles:[""]}),h})(),I=(()=>{class h{constructor(_){this.modalService=_,this.THROW_ERRORS=["ER_DUP_ENTRY","INVALID_CREDIENTIIALS","USER_NOT_FOUND"],this.catchError=(m,C)=>m&&m.error&&m.error.code&&this.THROW_ERRORS.includes(m.error.code)?function(h,b){const _=(0,A.m)(h)?h:()=>h,m=C=>C.error(_());return new i.y(m)}(()=>m.error):(console.log(m),this.modalService.show(w,{animated:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-dialog-centered",initialState:{er:m}}),(0,e.of)())}}return h.\u0275fac=function(_){return new(_||h)(n.LFG(f.tT))},h.\u0275prov=n.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},9998:(y,T,a)=>{a.d(T,{w:()=>u});var i=a(4893),A=a(9808);function g(c,Z){1&c&&(i.TgZ(0,"p",2),i._uU(1,"this field is required"),i.qZA())}function e(c,Z){1&c&&(i.TgZ(0,"p",2),i._uU(1,"invalid email"),i.qZA())}function d(c,Z){if(1&c&&(i.TgZ(0,"p",2),i._uU(1),i.qZA()),2&c){const t=i.oxw(2);i.xp6(1),i.hij("min ",t.control.errors.minlength.requiredLength," characters are required")}}function n(c,Z){if(1&c&&(i.TgZ(0,"p",2),i._uU(1),i.qZA()),2&c){const t=i.oxw(2);i.xp6(1),i.hij("max ",t.control.errors.maxlength.requiredLength," characters are required")}}function f(c,Z){if(1&c&&(i.TgZ(0,"p",2),i._uU(1),i.qZA()),2&c){const t=i.oxw(2);i.xp6(1),i.Oqu(t.control.errors.else)}}function l(c,Z){if(1&c&&(i.YNc(0,g,2,0,"p",1),i.YNc(1,e,2,0,"p",1),i.YNc(2,d,2,1,"p",1),i.YNc(3,n,2,1,"p",1),i.YNc(4,f,2,1,"p",1)),2&c){const t=i.oxw();i.Q6J("ngIf",t.control.errors.required),i.xp6(1),i.Q6J("ngIf",t.control.errors.email),i.xp6(1),i.Q6J("ngIf",t.control.errors.minlength),i.xp6(1),i.Q6J("ngIf",t.control.errors.maxlength),i.xp6(1),i.Q6J("ngIf",t.control.errors.else)}}let u=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-input-error"]],inputs:{control:"control"},decls:1,vars:1,consts:[[3,"ngIf"],["class","m-0 text-danger",4,"ngIf"],[1,"m-0","text-danger"]],template:function(t,w){1&t&&i.YNc(0,l,5,5,"ng-template",0),2&t&&i.Q6J("ngIf",w.control&&w.control.invalid&&(w.control.dirty||w.control.touched)&&w.control.errors)},directives:[A.O5],styles:[""]}),c})()},3087:(y,T,a)=>{a.d(T,{o:()=>i});const i=A=>(A.value.password||A.value.confirmPassword)&&A.value.password!==A.value.confirmPassword?{else:"Password not match"}:null},704:(y,T,a)=>{a.d(T,{c:()=>A});var i=a(4893);let A=(()=>{class g{constructor(){}hideAlert(d){d.title="",d.message="",d.type="",d.visible=!1}showAlert(d,n,f,l="danger"){d.title=n,d.message=f,d.type=l,d.visible=!0}showErrorAlert(d,n){this.showAlert(d,n.name,n.message)}showSuccessAlert(d,n){this.showAlert(d,"SUCCESS",n,"success")}}return g.\u0275fac=function(d){return new(d||g)},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},5861:(y,T,a)=>{function i(g,e,d,n,f,l,u){try{var c=g[l](u),Z=c.value}catch(t){return void d(t)}c.done?e(Z):Promise.resolve(Z).then(n,f)}function A(g){return function(){var e=this,d=arguments;return new Promise(function(n,f){var l=g.apply(e,d);function u(Z){i(l,n,f,u,c,"next",Z)}function c(Z){i(l,n,f,u,c,"throw",Z)}u(void 0)})}}a.d(T,{Z:()=>A})}}]);