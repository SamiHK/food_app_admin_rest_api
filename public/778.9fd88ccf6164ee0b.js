"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[778],{1778:(ut,Z,l)=>{l.r(Z),l.d(Z,{MenuModule:()=>lt});var u=l(9808),r=l(3477),m=l(5861),t=l(4893),g=l(262),A=l(2340),x=l(520),I=l(3093);let p=(()=>{class n{constructor(e,i){this.http=e,this.commonService=i,this.BASE_URL=`${A.N.BASE_URL}/manager/menu`}menus(e){return this.http.get(`${this.BASE_URL}`,{params:e}).pipe((0,g.K)(this.commonService.catchError))}menuItems(e){return this.http.get(`${this.BASE_URL}/${e}/item`).pipe((0,g.K)(this.commonService.catchError))}menuAvailability(e){return this.http.post(`${this.BASE_URL}/availability`,e).pipe((0,g.K)(this.commonService.catchError))}menuItemAvailability(e){return this.http.post(`${this.BASE_URL}/item/availability`,e).pipe((0,g.K)(this.commonService.catchError))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(x.eN),t.LFG(I.v))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var a=l(5033),M=l(8426),d=l(8333);function T(n,o){1&n&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function v(n,o){if(1&n&&(t.TgZ(0,"c-badge",10),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.totalItems,"")}}const L=function(n){return{"bg-dark":n}},y=function(n){return["../",n]};function q(n,o){if(1&n&&(t.TgZ(0,"a",7),t.TgZ(1,"span"),t.TgZ(2,"h6",8),t._uU(3),t.qZA(),t.qZA(),t.YNc(4,v,2,1,"c-badge",9),t.qZA()),2&n){const e=o.$implicit;t.Q6J("ngClass",t.VKq(4,L,!e.isAvailable))("routerLink",t.VKq(6,y,e.id)),t.xp6(3),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e.totalItems)}}function b(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ul",5),t.NdJ("dragulaModelChange",function(s){return t.CHM(e),t.oxw(2).menus=s}),t.YNc(1,q,5,8,"a",6),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("dragulaModel",e.menus),t.xp6(1),t.Q6J("ngForOf",e.menus)}}function w(n,o){1&n&&t._uU(0," Empty Menu ")}function E(n,o){if(1&n&&(t.TgZ(0,"perfect-scrollbar"),t.YNc(1,b,2,2,"ul",3),t.YNc(2,w,1,0,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.menus.length>0)("ngIfElse",e)}}let N=(()=>{class n{constructor(){this.menus=[],this.isLoading=!1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-navigation-list"]],inputs:{menus:"menus",isLoading:"isLoading"},decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],["flush","","cListGroup","","dragula","menus",3,"dragulaModel","dragulaModelChange",4,"ngIf","ngIfElse"],["emptyMenuBlock",""],["flush","","cListGroup","","dragula","menus",3,"dragulaModel","dragulaModelChange"],["cListGroupItem","","routerLinkActive","active","class","d-flex justify-content-between align-items-center border-0 my-1 rounded",3,"ngClass","routerLink",4,"ngFor","ngForOf"],["cListGroupItem","","routerLinkActive","active",1,"d-flex","justify-content-between","align-items-center","border-0","my-1","rounded",3,"ngClass","routerLink"],[1,"my-1"],["color","primary","shape","rounded-pill","class","float-end",4,"ngIf"],["color","primary","shape","rounded-pill",1,"float-end"]],template:function(e,i){if(1&e&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t.YNc(2,T,4,0,"c-row",0),t.YNc(3,E,4,2,"ng-template",null,1,t.W1O),t.qZA(),t.qZA()),2&e){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[a.AkF,a.yue,u.O5,a.iok,a.Yp0,a.ORR,M.Vv,a.Xre,d.sW,u.sg,r.yS,a.Ow$,r.Od,u.mk,a.FN3],styles:[""]}),n})();var _=l(2382);function O(n,o){1&n&&t._UZ(0,"c-spinner",2)}function S(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-form-check",3),t.TgZ(1,"label",4),t.TgZ(2,"input",5),t.NdJ("ngModelChange",function(s){return t.CHM(e),!!(t.oxw().status=s)})("change",function(s){return t.CHM(e),t.oxw().onChange(s)}),t.qZA(),t._uU(3),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("switch",!0),t.xp6(2),t.Q6J("ngModel",!!e.status),t.xp6(1),t.hij(" ",e.label,"")}}let f=(()=>{class n{constructor(){this.isLoading=!1,this.status=!1,this.change=new t.vpe}ngOnInit(){}onChange(e){this.change.emit({id:this.id,status:this.status})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-input-switch"]],inputs:{isLoading:"isLoading",id:"id",status:"status",label:"label"},outputs:{change:"onChange"},decls:3,vars:2,consts:[["size","sm",4,"ngIf","ngIfElse"],["elseBlock",""],["size","sm"],[3,"switch"],["cFormCheckLabel",""],["cFormCheckInput","","type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(e,i){if(1&e&&(t.YNc(0,O,1,0,"c-spinner",0),t.YNc(1,S,4,3,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[u.O5,a.ORR,a.FzQ,a.NWu,a.yfq,_.Wl,_.JJ,_.On],styles:[""]}),n})();function J(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function U(n,o){if(1&n&&t._UZ(0,"img",15),2&n){const e=t.oxw(3);t.Q6J("src",e.menu.primaryImg,t.LSH)}}function F(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-card",5),t.TgZ(1,"c-card-body",6),t.TgZ(2,"c-row"),t.TgZ(3,"c-col",7),t.YNc(4,U,1,1,"img",8),t.qZA(),t.TgZ(5,"c-col",9),t.TgZ(6,"span",10),t.TgZ(7,"h3",11),t._uU(8),t.qZA(),t.TgZ(9,"span",12),t.TgZ(10,"app-input-switch",13),t.NdJ("onChange",function(s){return t.CHM(e),t.oxw(2).onChangeAvailability(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"p",14),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.menu.primaryImg),t.xp6(4),t.Oqu(e.menu.title),t.xp6(2),t.Q6J("isLoading",e.updatingAvailableStatus)("status",e.menu.isAvailable),t.xp6(2),t.Oqu(e.menu.description)}}function Y(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._uU(2," Menu Not Selected "),t.qZA(),t.qZA())}function Q(n,o){if(1&n&&(t.YNc(0,F,13,5,"ng-template",3),t.YNc(1,Y,3,0,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.menu)("ngIfElse",e)}}let k=(()=>{class n{constructor(e){this.mService=e,this.isLoading=!1,this.updatingAvailableStatus=!1}ngOnInit(){}onChangeAvailability(e){var i=this;return(0,m.Z)(function*(){console.log(e),null!=e&&null!=e&&i.menu&&(i.updatingAvailableStatus=!0,i.menu.isAvailable=e.status,yield i.mService.menuAvailability(i.menu).forEach(s=>console.log(s)),i.updatingAvailableStatus=!1)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-card"]],inputs:{menu:"menu",isLoading:"isLoading"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],[3,"ngIf","ngIfElse"],["emptyMenuBlock",""],[1,"mb-3"],[1,""],["sm","1","md","4"],["cImg","","rounded","","fluid","",3,"src",4,"ngIf"],["sm","11","md","8"],[1,"d-flex","justify-content-between"],["cCardTitle",""],[1,"d-block-inline"],["label","Is Available",3,"isLoading","status","onChange"],["cCardText",""],["cImg","","rounded","","fluid","",3,"src"]],template:function(e,i){if(1&e&&(t.YNc(0,J,4,0,"c-card",0),t.YNc(1,Q,3,2,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[u.O5,a.AkF,a.yue,a.ORR,a.iok,a.Yp0,a.qkm,f,a.PVT,a.XLq],styles:[""]}),n})(),B=(()=>{class n{constructor(e,i){this.route=e,this.mService=i,this.menus=[],this.isLoadingMenu=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){yield e.loadMenu(),e.route.params.forEach(i=>{if(i.id){let s=i.id;e.selectMenu(e.menus.find(c=>c.id==s))}})})()}selectMenu(e){this.selectedMenu=e}loadMenu(){var e=this;return(0,m.Z)(function*(){e.isLoadingMenu=!0,yield e.mService.menus().forEach(i=>e.menus=i),e.isLoadingMenu=!1})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.gz),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-board"]],decls:6,vars:4,consts:[["md","4"],[3,"menus","isLoading"],["md","8"],[3,"menu","isLoading"]],template:function(e,i){1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col",0),t._UZ(2,"app-menu-navigation-list",1),t.qZA(),t.TgZ(3,"c-col",2),t._UZ(4,"app-menu-card",3),t._UZ(5,"router-outlet"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("menus",i.menus)("isLoading",i.isLoadingMenu),t.xp6(2),t.Q6J("menu",i.selectedMenu)("isLoading",i.isLoadingMenu))},directives:[a.iok,a.Yp0,N,k,r.lC],styles:[""]}),n})();var j=l(727);function R(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}function z(n,o){if(1&n&&t._UZ(0,"img",17),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.primaryImg,t.LSH)}}function W(n,o){if(1&n&&(t.TgZ(0,"span"),t.TgZ(1,"c-badge",18),t.TgZ(2,"span",19),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.xi3(4,1,e.oldPrice,"Pkr ")," ")}}function $(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-col",7),t.TgZ(1,"c-card",8),t.YNc(2,z,1,1,"img",9),t.TgZ(3,"c-card-body",10),t.TgZ(4,"span",11),t.TgZ(5,"h6"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"div",12),t.TgZ(10,"span",13),t.TgZ(11,"span"),t.TgZ(12,"c-badge",14),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.qZA(),t.YNc(15,W,5,4,"span",15),t.qZA(),t.TgZ(16,"span"),t.TgZ(17,"app-input-switch",16),t.NdJ("onChange",function(s){return t.CHM(e),t.oxw(3).onChangeMenuItemAvailability(s)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf",e.primaryImg),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(5),t.Oqu(t.xi3(14,8,e.price,"Pkr ")),t.xp6(2),t.Q6J("ngIf",e.oldPrice),t.xp6(2),t.Q6J("isLoading",e.updatingAvailability)("id",e.id)("status",e.isAvailable)}}function H(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-row",5),t.NdJ("dragulaModelChange",function(s){return t.CHM(e),t.oxw(2).menuItems=s}),t.YNc(1,$,18,11,"c-col",6),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("md",2)("sm",1)("gutter",2)("dragulaModel",e.menuItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function X(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._uU(2," empty "),t.qZA(),t.qZA())}function K(n,o){if(1&n&&(t.YNc(0,H,2,5,"ng-template",3),t.YNc(1,X,3,0,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.menuItems&&i.menuItems.length>0)("ngIfElse",e)}}let G=(()=>{class n{constructor(e,i){this.route=e,this.amService=i,this.menuItems=null,this.sbjs=new j.w0,this.isLoadingMenuItems=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.route.params.forEach(i=>{i.id&&e.loadMenuItems(i.id)})})()}loadMenuItems(e){var i=this;return(0,m.Z)(function*(){i.isLoadingMenuItems=!0,yield i.amService.menuItems(e).forEach(s=>i.menuItems=s),i.isLoadingMenuItems=!1})()}onChangeMenuItemAvailability(e){var i=this;return(0,m.Z)(function*(){var s;if(console.log(e),e){let c=null===(s=i.menuItems)||void 0===s?void 0:s.find(h=>h.id==e.id);c&&(c.updatingAvailability=!0,c.isAvailable=e.status,i.amService.menuItemAvailability(c).forEach(h=>console.log(h)),c.updatingAvailability=!1)}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.gz),t.Y36(p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-item-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],[3,"ngIf","ngIfElse"],["emptyblock",""],["dragula","menuItems",3,"md","sm","gutter","dragulaModel","dragulaModelChange"],["class","d-flex justify-content-stretch",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch"],[1,"d-flex","flex-grow-1"],[3,"cCardImg","src",4,"ngIf"],[1,"d-flex","flex-column","justify-content-end"],[1,"d-flex","justify-content-between"],[1,"d-flex","d-grid","gap-2","justify-content-between","align-items-center"],[1,"d-flex","d-grid","gap-2"],["color","primary","shape","rounded-pill"],[4,"ngIf"],["label","Is Available",3,"isLoading","id","status","onChange"],[3,"cCardImg","src"],["color","dark","shape","rounded-pill"],[1,"text-decoration-line-through"]],template:function(e,i){if(1&e&&(t.YNc(0,R,4,0,"c-card",0),t.YNc(1,K,3,2,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",i.isLoadingMenuItems)("ngIfElse",s)}},directives:[u.O5,a.AkF,a.yue,a.ORR,a.iok,d.sW,a.Aij,u.sg,a.Yp0,a.FN3,f,a.pce],pipes:[u.H9],styles:[""]}),n})();var P=l(5937);function V(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._UZ(2,"c-spinner",2),t._uU(3," Loading... "),t.qZA(),t.qZA())}const D=function(n){return[n]};function tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-col",7),t.TgZ(1,"c-card",8),t._UZ(2,"img",9),t.TgZ(3,"c-card-body",10),t.TgZ(4,"span",11),t.TgZ(5,"h6",12),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"p",13),t._uU(8),t.qZA(),t.TgZ(9,"span",11),t.TgZ(10,"app-input-switch",14),t.NdJ("onChange",function(s){return t.CHM(e),t.oxw(3).onChangeAvailability(s)}),t.qZA(),t.TgZ(11,"span",15),t.TgZ(12,"a",16),t.TgZ(13,"span"),t.TgZ(14,"c-badge",17),t._uU(15),t.qZA(),t.qZA(),t._uU(16," Items"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=o.$implicit;t.Q6J("lg",4)("md",6)("xs",12),t.xp6(2),t.Q6J("src",e.primaryImg,t.LSH),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("isLoading",e.updatingAvailability)("id",e.id)("status",e.isAvailable),t.xp6(2),t.Q6J("routerLink",t.VKq(11,D,e.id)),t.xp6(3),t.Oqu(e.totalItems)}}function et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"c-row",5),t.NdJ("dragulaModelChange",function(s){return t.CHM(e),t.oxw(2).menus=s}),t.YNc(1,tt,17,13,"c-col",6),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("gutter",3)("dragulaModel",e.menus),t.xp6(1),t.Q6J("ngForOf",e.menus)}}function nt(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t._uU(2," Empty "),t.qZA(),t.qZA())}function it(n,o){if(1&n&&(t.YNc(0,et,2,3,"c-row",3),t.YNc(1,nt,3,0,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.menus&&i.menus.length>0)("ngIfElse",e)}}const ot=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),n})(),data:{title:"Menu"},children:[{path:"",component:(()=>{class n{constructor(e,i,s,c){this.route=e,this.router=i,this.amService=s,this.afService=c,this.menus=[],this.selectedMenu=null,this.isLoading=!1}ngOnInit(){this.loadMenu()}ngOnDestroy(){}loadMenu(e){var i=this;return(0,m.Z)(function*(){i.isLoading=!0,yield i.amService.menus(e).forEach(s=>i.menus=s),i.isLoading=!1})()}onChangeAvailability(e){var i=this;return(0,m.Z)(function*(){if(e.id){let s=i.menus.find(c=>c.id==e.id);s&&(s.updatingAvailability=!0,s.isAvailable=e.status,yield i.amService.menuAvailability(s).forEach(c=>console.log(c)),s.updatingAvailability=!1)}})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.gz),t.Y36(r.F0),t.Y36(p),t.Y36(P.q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-menu-list"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadedBlock",""],["aria-hidden","true","label","Loading...","size","sm"],["dragula","menus",3,"gutter","dragulaModel","dragulaModelChange",4,"ngIf","ngIfElse"],["emptyMenuBlock",""],["dragula","menus",3,"gutter","dragulaModel","dragulaModelChange"],["class","d-flex justify-content-stretch",3,"lg","md","xs",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-stretch",3,"lg","md","xs"],[1,"d-flex","flex-grow-1"],[3,"cCardImg","src"],[1,"d-flex","flex-column","justify-content-end"],[1,"d-flex","justify-content-between"],["cCardTitle","",1,"text-truncate"],["cCardText","",1,"text-truncate"],["label","Is Available",3,"isLoading","id","status","onChange"],[1,"d-flex","d-grid","gap-2","float-end"],["cButton","","size","sm",3,"routerLink"],["color","primary","shape","rounded-pill"]],template:function(e,i){if(1&e&&(t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.YNc(2,V,4,0,"c-card",0),t.YNc(3,it,3,2,"ng-template",null,1,t.W1O),t.qZA(),t.qZA()),2&e){const s=t.MAs(4);t.xp6(2),t.Q6J("ngIf",i.isLoading)("ngIfElse",s)}},directives:[a.iok,a.Yp0,u.O5,a.AkF,a.yue,a.ORR,d.sW,a.Aij,u.sg,a.pce,a.qkm,a.PVT,f,r.yS,a.Hq3,a.FN3],styles:[""]}),n})(),data:{title:"List"}},{path:":id",component:B,data:{title:"Items"},children:[{path:"",component:G}]}]}];let at=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.Bz.forChild(ot)],r.Bz]}),n})();var C=l(1728),st=l(4466);const ct=[a.dTQ,a.hJ1,a.ga2,a.ejP,a.nMh,a.U$I,a.Fme,a.zE6,C.QX,C.Eb,a.TXv,a.lKp,a.Xo8,M.Xd,a.oTD];let lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,at,...ct,d.qE.forRoot(),st.m]]}),n})()}}]);