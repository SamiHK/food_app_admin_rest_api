(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[214],{5937:(P,R,a)=>{"use strict";a.d(R,{q:()=>r});var i=a(262),T=a(2340),d=a(4893),s=a(520),M=a(3093);let r=(()=>{class O{constructor(l,C){this.http=l,this.commonService=C,this.BASE_URL=`${T.N.BASE_URL}/admin/file`}upload(l){return this.http.post(`${this.BASE_URL}`,l).pipe((0,i.K)(this.commonService.catchError))}menu(l,C){const S=new FormData;return S.append("menu",C),this.http.post(`${this.BASE_URL}/menu/${l}`,S).pipe((0,i.K)(this.commonService.catchError))}menuItem(l,C){const S=new FormData;return S.append("menuItem",C),this.http.post(`${this.BASE_URL}/menu/item/${l}`,S).pipe((0,i.K)(this.commonService.catchError))}}return O.\u0275fac=function(l){return new(l||O)(d.LFG(s.eN),d.LFG(M.v))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},3093:(P,R,a)=>{"use strict";a.d(R,{v:()=>G});var i=a(8306),T=a(576),s=a(9646),M=a(9245),r=a(4893),O=a(5905),_=a(9633),l=a(5033),C=a(9808);function S(w,v){if(1&w&&(r.TgZ(0,"span"),r._UZ(1,"hr"),r.TgZ(2,"p"),r._uU(3),r.qZA(),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.qZA()),2&w){const p=r.oxw();r.xp6(3),r.Oqu(null==p.er?null:p.er.error.name),r.xp6(2),r.Oqu(null==p.er?null:p.er.error.message)}}function F(w,v){if(1&w){const p=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){return r.CHM(p),r.oxw().login()}),r._uU(1,"Login"),r.qZA()}}let B=(()=>{class w{constructor(p,f){this.bsModalRef=p,this.store=f,this.isLogin=!1}ngOnInit(){this.er&&401==this.er.status&&(this.isLogin=!0)}login(){this.bsModalRef.hide(),this.store.dispatch((0,M.C)())}}return w.\u0275fac=function(p){return new(p||w)(r.Y36(O.UZ),r.Y36(_.yh))},w.\u0275cmp=r.Xpm({type:w,selectors:[["app-http-error-modal"]],decls:15,vars:6,consts:[[1,"text-danger"],[1,""],["cCardTitle",""],[4,"ngIf"],[1,"d-grid","d-flex","gap-2","float-end"],["cButton","","color","light",3,"click"],["cButton","","color","primary","shape","outline",3,"click",4,"ngIf"],["cButton","","color","primary","shape","outline",3,"click"]],template:function(p,f){1&p&&(r.TgZ(0,"c-card",0),r.TgZ(1,"c-card-body",1),r.TgZ(2,"h4",2),r._uU(3),r.qZA(),r.TgZ(4,"h2"),r._uU(5),r.qZA(),r.TgZ(6,"small"),r._uU(7),r.qZA(),r.YNc(8,S,6,2,"span",3),r.TgZ(9,"c-row"),r.TgZ(10,"c-col"),r.TgZ(11,"span",4),r.TgZ(12,"button",5),r.NdJ("click",function(){return f.bsModalRef.hide()}),r._uU(13,"Close"),r.qZA(),r.YNc(14,F,2,0,"button",6),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&p&&(r.xp6(3),r.AsE("",null==f.er?null:f.er.name,"-",null==f.er?null:f.er.status,""),r.xp6(2),r.Oqu(null==f.er?null:f.er.statusText),r.xp6(2),r.hij("url: ",null==f.er?null:f.er.url,""),r.xp6(1),r.Q6J("ngIf",(null==f.er?null:f.er.error)&&((null==f.er?null:f.er.error.name)||(null==f.er?null:f.er.error.code))),r.xp6(6),r.Q6J("ngIf",f.isLogin))},directives:[l.AkF,l.yue,l.qkm,C.O5,l.iok,l.Yp0,l.Hq3],styles:[""]}),w})(),G=(()=>{class w{constructor(p){this.modalService=p,this.THROW_ERRORS=["ER_DUP_ENTRY","INVALID_CREDIENTIIALS","USER_NOT_FOUND"],this.catchError=(f,y)=>f&&f.error&&f.error.code&&this.THROW_ERRORS.includes(f.error.code)?function(w,v){const p=(0,T.m)(w)?w:()=>w,f=y=>y.error(p());return new i.y(f)}(()=>f.error):(console.log(f),this.modalService.show(B,{animated:!0,backdrop:!0,ignoreBackdropClick:!0,class:"modal-dialog-centered",initialState:{er:f}}),(0,s.of)())}}return w.\u0275fac=function(p){return new(p||w)(r.LFG(O.tT))},w.\u0275prov=r.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},5458:(P,R,a)=>{"use strict";a.d(R,{a:()=>O});var i=a(4893),T=a(9808),d=a(5033),s=a(2382);function M(_,l){1&_&&i._UZ(0,"c-spinner",2)}function r(_,l){if(1&_){const C=i.EpF();i.TgZ(0,"c-form-check",3),i.TgZ(1,"label",4),i.TgZ(2,"input",5),i.NdJ("ngModelChange",function(F){return i.CHM(C),!!(i.oxw().status=F)})("change",function(F){return i.CHM(C),i.oxw().onChange(F)}),i.qZA(),i._uU(3),i.qZA(),i.qZA()}if(2&_){const C=i.oxw();i.Q6J("switch",!0),i.xp6(2),i.Q6J("ngModel",!!C.status),i.xp6(1),i.hij(" ",C.label,"")}}let O=(()=>{class _{constructor(){this.isLoading=!1,this.status=!1,this.change=new i.vpe}ngOnInit(){}onChange(C){this.change.emit({id:this.id,status:this.status})}}return _.\u0275fac=function(C){return new(C||_)},_.\u0275cmp=i.Xpm({type:_,selectors:[["app-input-switch"]],inputs:{isLoading:"isLoading",id:"id",status:"status",label:"label"},outputs:{change:"onChange"},decls:3,vars:2,consts:[["size","sm",4,"ngIf","ngIfElse"],["elseBlock",""],["size","sm"],[3,"switch"],["cFormCheckLabel",""],["cFormCheckInput","","type","checkbox",3,"ngModel","ngModelChange","change"]],template:function(C,S){if(1&C&&(i.YNc(0,M,1,0,"c-spinner",0),i.YNc(1,r,4,3,"ng-template",null,1,i.W1O)),2&C){const F=i.MAs(2);i.Q6J("ngIf",S.isLoading)("ngIfElse",F)}},directives:[T.O5,d.ORR,d.FzQ,d.NWu,d.yfq,s.Wl,s.JJ,s.On],styles:[""]}),_})()},3214:P=>{P.exports=function(a,i){return Array.prototype.slice.call(a,i)}},1627:(P,R,a)=>{"use strict";var i=a(4233);P.exports=function(d,s,M){!d||i(function(){d.apply(M||null,s||[])})}},7604:(P,R,a)=>{"use strict";var i=a(3214),T=a(1627);P.exports=function(s,M){var r=M||{},O={};return void 0===s&&(s={}),s.on=function(_,l){return O[_]?O[_].push(l):O[_]=[l],s},s.once=function(_,l){return l._once=!0,s.on(_,l),s},s.off=function(_,l){var C=arguments.length;if(1===C)delete O[_];else if(0===C)O={};else{var S=O[_];if(!S)return s;S.splice(S.indexOf(l),1)}return s},s.emit=function(){var _=i(arguments);return s.emitterSnapshot(_.shift()).apply(this,_)},s.emitterSnapshot=function(_){var l=(O[_]||[]).slice(0);return function(){var C=i(arguments),S=this||s;if("error"===_&&!1!==r.throws&&!l.length)throw 1===C.length?C[0]:C;return l.forEach(function(B){r.async?T(B,C,S):B.apply(S,C),B._once&&s.off(_,B)}),s}},s}},7225:(P,R,a)=>{"use strict";var i=a(5728),T=a(4139),d=global.document,s=function(v,p,f,y){return v.addEventListener(p,f,y)},M=function(v,p,f,y){return v.removeEventListener(p,f,y)},r=[];function G(v,p,f){var y=function(v,p,f){var y,E;for(y=0;y<r.length;y++)if((E=r[y]).element===v&&E.type===p&&E.fn===f)return y}(v,p,f);if(y){var E=r[y].wrapper;return r.splice(y,1),E}}global.addEventListener||(s=function(v,p,f){return v.attachEvent("on"+p,function(v,p,f){var y=G(v,p,f)||function(v,p,f){return function(E){var h=E||global.event;h.target=h.target||h.srcElement,h.preventDefault=h.preventDefault||function(){h.returnValue=!1},h.stopPropagation=h.stopPropagation||function(){h.cancelBubble=!0},h.which=h.which||h.keyCode,f.call(v,h)}}(v,0,f);return r.push({wrapper:y,element:v,type:p,fn:f}),y}(v,p,f))},M=function(v,p,f){var y=G(v,p,f);if(y)return v.detachEvent("on"+p,y)}),P.exports={add:s,remove:M,fabricate:function(v,p,f){var e,y=-1===T.indexOf(p)?new i(p,{detail:f}):(d.createEvent?(e=d.createEvent("Event")).initEvent(p,!0,!0):d.createEventObject&&(e=d.createEventObject()),e);v.dispatchEvent?v.dispatchEvent(y):v.fireEvent("on"+p,y)}}},4139:P=>{"use strict";var R=[],a="",i=/^on/;for(a in global)i.test(a)&&R.push(a.slice(2));P.exports=R},5728:P=>{var R=global.CustomEvent;P.exports=function(){try{var i=new R("cat",{detail:{foo:"bar"}});return"cat"===i.type&&"bar"===i.detail.foo}catch(T){}return!1}()?R:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(T,d){var s=document.createEvent("CustomEvent");return d?s.initCustomEvent(T,d.bubbles,d.cancelable,d.detail):s.initCustomEvent(T,!1,!1,void 0),s}:function(T,d){var s=document.createEventObject();return s.type=T,d?(s.bubbles=Boolean(d.bubbles),s.cancelable=Boolean(d.cancelable),s.detail=d.detail):(s.bubbles=!1,s.cancelable=!1,s.detail=void 0),s}},1832:P=>{"use strict";var R={};function T(M){var r=R[M];return r?r.lastIndex=0:R[M]=r=new RegExp("(?:^|\\s)"+M+"(?:\\s|$)","g"),r}P.exports={add:function(M,r){var O=M.className;O.length?T(r).test(O)||(M.className+=" "+r):M.className=r},rm:function(M,r){M.className=M.className.replace(T(r)," ").trim()}}},9721:(P,R,a)=>{"use strict";var i=a(7604),T=a(7225),d=a(1832),s=document,M=s.documentElement;function O(e,n,o,u){global.navigator.pointerEnabled?T[n](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[o],u):global.navigator.msPointerEnabled?T[n](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[o],u):(T[n](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[o],u),T[n](e,o,u))}function _(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var n=e.button;return void 0!==n?1&n?1:2&n?3:4&n?2:0:void 0}function l(e){var n=e.getBoundingClientRect();return{left:n.left+C("scrollLeft","pageXOffset"),top:n.top+C("scrollTop","pageYOffset")}}function C(e,n){return void 0!==global[n]?global[n]:M.clientHeight?M[e]:s.body[e]}function S(e,n,o){var c,u=(e=e||{}).className||"";return e.className+=" gu-hide",c=s.elementFromPoint(n,o),e.className=u,c}function F(){return!1}function B(){return!0}function G(e){return e.width||e.right-e.left}function w(e){return e.height||e.bottom-e.top}function v(e){return e.parentNode===s?null:e.parentNode}function p(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||f(e)}function f(e){return!(!e||"false"===e.contentEditable)&&("true"===e.contentEditable||f(v(e)))}function y(e){return e.nextElementSibling||function(){var o=e;do{o=o.nextSibling}while(o&&1!==o.nodeType);return o}()}function h(e,n){var o=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(n),u={pageX:"clientX",pageY:"clientY"};return e in u&&!(e in o)&&u[e]in o&&(e=u[e]),o[e]}P.exports=function(e,n){var o=arguments.length;1===o&&!1===Array.isArray(e)&&(n=e,e=[]);var u,c,D,L,k,K,X,U,Y,I,V,ee,J=null,g=n||{};void 0===g.moves&&(g.moves=B),void 0===g.accepts&&(g.accepts=B),void 0===g.invalid&&(g.invalid=Oe),void 0===g.containers&&(g.containers=e||[]),void 0===g.isContainer&&(g.isContainer=F),void 0===g.copy&&(g.copy=!1),void 0===g.copySortSource&&(g.copySortSource=!1),void 0===g.revertOnSpill&&(g.revertOnSpill=!1),void 0===g.removeOnSpill&&(g.removeOnSpill=!1),void 0===g.direction&&(g.direction="vertical"),void 0===g.ignoreInputTextSelection&&(g.ignoreInputTextSelection=!0),void 0===g.mirrorContainer&&(g.mirrorContainer=s.body);var A=i({containers:g.containers,start:De,end:fe,cancel:he,remove:pe,destroy:Me,canMove:ye,dragging:!1});return!0===g.removeOnSpill&&A.on("over",Se).on("out",Te),ue(),A;function te(t){return-1!==A.containers.indexOf(t)||g.isContainer(t)}function ue(t){var m=t?"remove":"add";O(M,m,"mousedown",Ce),O(M,m,"mouseup",ie)}function ne(t){O(M,t?"remove":"add","mousemove",be)}function le(t){var m=t?"remove":"add";T[m](M,"selectstart",ce),T[m](M,"click",ce)}function Me(){ue(!0),ie({})}function ce(t){ee&&t.preventDefault()}function Ce(t){if(K=t.clientX,X=t.clientY,1===_(t)&&!t.metaKey&&!t.ctrlKey){var b=t.target,x=re(b);!x||(ee=x,ne(),"mousedown"===t.type&&(p(b)?b.focus():t.preventDefault()))}}function be(t){if(ee){if(0===_(t))return void ie({});if(!(void 0!==t.clientX&&Math.abs(t.clientX-K)<=(g.slideFactorX||0)&&void 0!==t.clientY&&Math.abs(t.clientY-X)<=(g.slideFactorY||0))){if(g.ignoreInputTextSelection){var m=h("clientX",t)||0,b=h("clientY",t)||0;if(p(s.elementFromPoint(m,b)))return}var W=ee;ne(!0),le(),fe(),de(W);var Z=l(D);L=h("pageX",t)-Z.left,k=h("pageY",t)-Z.top,d.add(I||D,"gu-transit"),we(),se(t)}}}function re(t){if(!(A.dragging&&u||te(t))){for(var m=t;v(t)&&!1===te(v(t));)if(g.invalid(t,m)||!(t=v(t)))return;var b=v(t);if(b&&!g.invalid(t,m)&&g.moves(t,b,m,y(t)))return{item:t,source:b}}}function ye(t){return!!re(t)}function De(t){var m=re(t);m&&de(m)}function de(t){Ie(t.item,t.source)&&(I=t.item.cloneNode(!0),A.emit("cloned",I,t.item,"copy")),c=t.source,D=t.item,U=Y=y(t.item),A.dragging=!0,A.emit("drag",D,c)}function Oe(){return!1}function fe(){if(A.dragging){var t=I||D;me(t,v(t))}}function ve(){ee=!1,ne(!0),le(!0)}function ie(t){if(ve(),A.dragging){var m=I||D,b=h("clientX",t)||0,x=h("clientY",t)||0,Z=ge(S(u,b,x),b,x);Z&&(I&&g.copySortSource||!I||Z!==c)?me(m,Z):g.removeOnSpill?pe():he()}}function me(t,m){var b=v(t);I&&g.copySortSource&&m===c&&b.removeChild(D),ae(m)?A.emit("cancel",t,c,c):A.emit("drop",t,m,c,Y),oe()}function pe(){if(A.dragging){var t=I||D,m=v(t);m&&m.removeChild(t),A.emit(I?"cancel":"remove",t,m,c),oe()}}function he(t){if(A.dragging){var m=arguments.length>0?t:g.revertOnSpill,b=I||D,x=v(b),W=ae(x);!1===W&&m&&(I?x&&x.removeChild(I):c.insertBefore(b,U)),W||m?A.emit("cancel",b,c,c):A.emit("drop",b,x,c,Y),oe()}}function oe(){var t=I||D;ve(),xe(),t&&d.rm(t,"gu-transit"),V&&clearTimeout(V),A.dragging=!1,J&&A.emit("out",t,J,c),A.emit("dragend",t),c=D=I=U=Y=V=J=null}function ae(t,m){var b;return b=void 0!==m?m:u?Y:y(I||D),t===c&&b===U}function ge(t,m,b){for(var x=t;x&&!W();)x=v(x);return x;function W(){if(!1===te(x))return!1;var q=Ee(x,t),N=_e(x,q,m,b);return!!ae(x,N)||g.accepts(D,x,c,N)}}function se(t){if(u){t.preventDefault();var m=h("clientX",t)||0,b=h("clientY",t)||0,W=b-k;u.style.left=m-L+"px",u.style.top=W+"px";var Z=I||D,q=S(u,m,b),N=ge(q,m,b),j=null!==N&&N!==J;(j||null===N)&&(J&&z("out"),J=N,j&&z("over"));var $=v(Z);if(N!==c||!I||g.copySortSource){var H,Q=Ee(N,q);if(null!==Q)H=_e(N,Q,m,b);else{if(!0!==g.revertOnSpill||I)return void(I&&$&&$.removeChild(Z));H=U,N=c}(null===H&&j||H!==Z&&H!==y(Z))&&(Y=H,N.insertBefore(Z,H),A.emit("shadow",Z,N,c))}else $&&$.removeChild(Z)}function z(Pe){A.emit(Pe,Z,J,c)}}function Se(t){d.rm(t,"gu-hide")}function Te(t){A.dragging&&d.add(t,"gu-hide")}function we(){if(!u){var t=D.getBoundingClientRect();(u=D.cloneNode(!0)).style.width=G(t)+"px",u.style.height=w(t)+"px",d.rm(u,"gu-transit"),d.add(u,"gu-mirror"),g.mirrorContainer.appendChild(u),O(M,"add","mousemove",se),d.add(g.mirrorContainer,"gu-unselectable"),A.emit("cloned",u,D,"mirror")}}function xe(){u&&(d.rm(g.mirrorContainer,"gu-unselectable"),O(M,"remove","mousemove",se),v(u).removeChild(u),u=null)}function Ee(t,m){for(var b=m;b!==t&&v(b)!==t;)b=v(b);return b===M?null:b}function _e(t,m,b,x){var $,W="horizontal"===g.direction;return m!==t?($=m.getBoundingClientRect(),function($){return $?y(m):m}(W?b>$.left+G($)/2:x>$.top+w($)/2)):function(){var H,Q,z,$=t.children.length;for(H=0;H<$;H++)if(z=(Q=t.children[H]).getBoundingClientRect(),W&&z.left+z.width/2>b||!W&&z.top+z.height/2>x)return Q;return null}()}function Ie(t,m){return"boolean"==typeof g.copy?g.copy:g.copy(t,m)}}},8333:(P,R,a)=>{"use strict";a.d(R,{sW:()=>v,pQ:()=>w,qE:()=>p});var i=a(9721),T=a.n(i),d=a(4893),s=a(7579),M=a(727),r=a(9300),O=a(4004);class _{constructor(h,e,n){this.name=h,this.drake=e,this.options=n,this.initEvents=!1}}const l={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},C=Object.keys(l).map(E=>l[E]),S=T()||i;class F{constructor(h=S){this.build=h}}const B=(E,h,e)=>n=>n.pipe((0,r.h)(({event:o,name:u})=>o===E&&(void 0===h||u===h)),(0,O.U)(({name:o,args:u})=>e(o,u))),G=(E,[h,e,n])=>({name:E,el:h,container:e,source:n});let w=(()=>{class E{constructor(e=null){this.drakeFactory=e,this.dispatch$=new s.x,this.drag=n=>this.dispatch$.pipe(B(l.Drag,n,(o,[u,c])=>({name:o,el:u,source:c}))),this.dragend=n=>this.dispatch$.pipe(B(l.DragEnd,n,(o,[u])=>({name:o,el:u}))),this.drop=n=>this.dispatch$.pipe(B(l.Drop,n,(o,[u,c,D,L])=>({name:o,el:u,target:c,source:D,sibling:L}))),this.elContainerSource=n=>o=>this.dispatch$.pipe(B(n,o,G)),this.cancel=this.elContainerSource(l.Cancel),this.remove=this.elContainerSource(l.Remove),this.shadow=this.elContainerSource(l.Shadow),this.over=this.elContainerSource(l.Over),this.out=this.elContainerSource(l.Out),this.cloned=n=>this.dispatch$.pipe(B(l.Cloned,n,(o,[u,c,D])=>({name:o,clone:u,original:c,cloneType:D}))),this.dropModel=n=>this.dispatch$.pipe(B(l.DropModel,n,(o,[u,c,D,L,k,K,X,U,Y])=>({name:o,el:u,target:c,source:D,sibling:L,item:k,sourceModel:K,targetModel:X,sourceIndex:U,targetIndex:Y}))),this.removeModel=n=>this.dispatch$.pipe(B(l.RemoveModel,n,(o,[u,c,D,L,k,K])=>({name:o,el:u,container:c,source:D,item:L,sourceModel:k,sourceIndex:K}))),this.groups={},null===this.drakeFactory&&(this.drakeFactory=new F)}add(e){if(this.find(e.name))throw new Error('Group named: "'+e.name+'" already exists.');return this.groups[e.name]=e,this.handleModels(e),this.setupEvents(e),e}find(e){return this.groups[e]}destroy(e){let n=this.find(e);!n||(n.drake&&n.drake.destroy(),delete this.groups[e])}createGroup(e,n){return this.add(new _(e,this.drakeFactory.build([],n),n))}handleModels({name:e,drake:n,options:o}){let u,c,D;n.on("remove",(L,k,K)=>{if(!n.models)return;let X=n.models[n.containers.indexOf(K)];X=X.slice(0);const U=X.splice(c,1)[0];this.dispatch$.next({event:l.RemoveModel,name:e,args:[L,k,K,U,X,c]})}),n.on("drag",(L,k)=>{!n.models||(u=L,c=this.domIndexOf(L,k))}),n.on("drop",(L,k,K,X)=>{if(!n.models||!k)return;D=this.domIndexOf(L,k);let I,U=n.models[n.containers.indexOf(K)],Y=n.models[n.containers.indexOf(k)];if(k===K)U=U.slice(0),I=U.splice(c,1)[0],U.splice(D,0,I),Y=U;else{let V=u!==L;if(I=U[c],V){if(!o.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");I=o.copyItem(I)}if(V||(U=U.slice(0),U.splice(c,1)),Y=Y.slice(0),Y.splice(D,0,I),V)try{k.removeChild(L)}catch(J){}}this.dispatch$.next({event:l.DropModel,name:e,args:[L,k,K,X,I,U,Y,c,D]})})}setupEvents(e){if(e.initEvents)return;e.initEvents=!0;const n=e.name;C.forEach(u=>{e.drake.on(u,(...c)=>{this.dispatch$.next({event:u,name:n,args:c})})})}domIndexOf(e,n){return Array.prototype.indexOf.call(n.children,e)}}return E.\u0275fac=function(e){return new(e||E)(d.LFG(F,8))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),E})(),v=(()=>{class E{constructor(e,n){this.el=e,this.dragulaService=n,this.dragulaModelChange=new d.vpe}get container(){return this.el&&this.el.nativeElement}ngOnChanges(e){if(e&&e.dragula){const{previousValue:n,currentValue:o}=e.dragula;let D=!!o;!!n&&this.teardown(n),D&&this.setup()}else if(e&&e.dragulaModel){const{previousValue:n,currentValue:o}=e.dragulaModel,{drake:c}=this.group;if(this.dragula&&c){c.models=c.models||[];let D=c.models.indexOf(n);-1!==D?(c.models.splice(D,1),o&&c.models.splice(D,0,o)):o&&c.models.push(o)}}}setup(){let n=this.dragulaService.find(this.dragula);n||(n=this.dragulaService.createGroup(this.dragula,{})),(o=>{this.dragulaModel&&(o.drake.models?o.drake.models.push(this.dragulaModel):o.drake.models=[this.dragulaModel])})(n),n.drake.containers.push(this.container),this.subscribe(this.dragula),this.group=n}subscribe(e){this.subs=new M.w0,this.subs.add(this.dragulaService.dropModel(e).subscribe(({source:n,target:o,sourceModel:u,targetModel:c})=>{n===this.el.nativeElement?this.dragulaModelChange.emit(u):o===this.el.nativeElement&&this.dragulaModelChange.emit(c)})),this.subs.add(this.dragulaService.removeModel(e).subscribe(({source:n,sourceModel:o})=>{n===this.el.nativeElement&&this.dragulaModelChange.emit(o)}))}teardown(e){this.subs&&this.subs.unsubscribe();const n=this.dragulaService.find(e);if(n){const o=n.drake.containers.indexOf(this.el.nativeElement);if(-1!==o&&n.drake.containers.splice(o,1),this.dragulaModel&&n.drake&&n.drake.models){let u=n.drake.models.indexOf(this.dragulaModel);-1!==u&&n.drake.models.splice(u,1)}}}ngOnDestroy(){this.teardown(this.dragula)}}return E.\u0275fac=function(e){return new(e||E)(d.Y36(d.SBq),d.Y36(w))},E.\u0275dir=d.lG2({type:E,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[d.TTD]}),E})(),p=(()=>{class E{static forRoot(){return{ngModule:E,providers:[w]}}}return E.\u0275fac=function(e){return new(e||E)},E.\u0275mod=d.oAB({type:E}),E.\u0275inj=d.cJS({}),E})();new F((E,h)=>new y(E,h));class y{constructor(h=[],e={},n){this.containers=h,this.options=e,this.models=n,this.dragging=!1,this.emitter$=new s.x,this.subs=new M.w0}start(h){this.dragging=!0}end(){this.dragging=!1}cancel(h){this.dragging=!1}remove(){this.dragging=!1}on(h,e){this.subs.add(this.emitter$.pipe((0,r.h)(({eventType:n})=>n===h)).subscribe(({args:n})=>{e(...n)}))}destroy(){this.subs.unsubscribe()}emit(h,...e){this.emitter$.next({eventType:h,args:e})}}},4233:P=>{var R="function"==typeof setImmediate;P.exports=R?function(i){setImmediate(i)}:function(i){setTimeout(i,0)}},5861:(P,R,a)=>{"use strict";function i(d,s,M,r,O,_,l){try{var C=d[_](l),S=C.value}catch(F){return void M(F)}C.done?s(S):Promise.resolve(S).then(r,O)}function T(d){return function(){var s=this,M=arguments;return new Promise(function(r,O){var _=d.apply(s,M);function l(S){i(_,r,O,l,C,"next",S)}function C(S){i(_,r,O,l,C,"throw",S)}l(void 0)})}}a.d(R,{Z:()=>T})}}]);