"use strict";(self.webpackChunkfoodapp=self.webpackChunkfoodapp||[]).push([[391],{5705:(C,u,i)=>{i.d(u,{T:()=>r});class r{constructor(){this.number=1,this.size=0,this.total=0,this.items=[]}}},8645:(C,u,i)=>{i.r(u),i.d(u,{BranchModule:()=>_t});var r=i(9808),m=i(3477),v=i(4856),p=i(5861),l=i(2382),h=i(5705),t=i(4893),b=i(4292),s=i(5033),_=i(6939);function Z(e,c){1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td",11),t._UZ(2,"c-spinner",12),t.qZA(),t.qZA())}const d=function(e){return[e]};function T(e,c){if(1&e&&(t.TgZ(0,"tr"),t._UZ(1,"td"),t.TgZ(2,"td",15),t._uU(3),t.qZA(),t.TgZ(4,"td",15),t._uU(5),t.qZA(),t.TgZ(6,"td",16),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.qZA()),2&e){const n=c.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(7,d,n.id)),t.xp6(1),t.Oqu(n.code),t.xp6(1),t.Q6J("routerLink",t.VKq(9,d,n.id)),t.xp6(1),t.Oqu(n.name),t.xp6(1),t.Q6J("routerLink",t.VKq(11,d,n.id)),t.xp6(1),t.Oqu(n.branchAddress),t.xp6(2),t.Oqu(n.managerFullName)}}function A(e,c){1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td",17),t._uU(2," Empty "),t.qZA(),t.qZA())}function x(e,c){if(1&e&&(t.YNc(0,T,10,13,"tr",13),t.YNc(1,A,3,0,"tr",14)),2&e){const n=t.oxw();t.Q6J("ngForOf",n.page.items),t.xp6(1),t.Q6J("ngIf",0==n.page.items.length)}}let E=(()=>{class e{constructor(n){this.abService=n,this.page=new h.T,this.form=new l.cw({search:new l.NI(null,l.kI.required)}),this.isLoading=!1}ngOnInit(){this.loadBranches()}loadBranches(n){var o=this;return(0,p.Z)(function*(){o.isLoading=!0,yield o.abService.filter(n).forEach(a=>o.page=a).finally(()=>o.isLoading=!1)})()}filter(){this.form.valid?this.loadBranches(this.form.value):this.loadBranches()}onPageChange(n){this.form.valid?(Object.assign(n,this.form.value),this.loadBranches(n)):this.loadBranches({number:n.page})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-branch-list"]],decls:35,vars:5,consts:[[1,"mb-4"],[1,"text-right"],["cButton","","color","primary","routerLink","register"],[3,"formGroup","ngSubmit"],["cFormFloating",""],["cFormControl","","formControlName","search","name","search","type","search","placeholder","Search by username, email or name","autofocus",""],["cLabel","","for","search"],["cTable","","hover",""],[4,"ngIf","ngIfElse"],["showResult",""],[3,"totalItems","ngModel","ngModelChange","pageChanged"],["colspan","5",1,"text-center","my-2"],["aria-hidden","true","label","Loading..."],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"w-50",3,"routerLink"],["colspan","5",1,"text-center"]],template:function(n,o){if(1&n&&(t.TgZ(0,"c-card",0),t.TgZ(1,"c-card-body"),t.TgZ(2,"c-row"),t.TgZ(3,"c-col",1),t.TgZ(4,"button",2),t._uU(5,"Register New Branch"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"c-card",0),t.TgZ(7,"c-card-body"),t.TgZ(8,"c-row"),t.TgZ(9,"c-col"),t.TgZ(10,"form",3),t.NdJ("ngSubmit",function(){return o.filter()}),t.TgZ(11,"div",4),t._UZ(12,"input",5),t.TgZ(13,"label",6),t._uU(14,"Search by code, name or address"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(15,"hr"),t.TgZ(16,"c-row"),t.TgZ(17,"c-col"),t.TgZ(18,"table",7),t.TgZ(19,"thead"),t.TgZ(20,"tr"),t._UZ(21,"th"),t.TgZ(22,"th"),t._uU(23,"Code"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Name"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Address"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Manager"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,Z,3,0,"tr",8),t.YNc(32,x,2,2,"ng-template",null,9,t.W1O),t.qZA(),t.qZA(),t.TgZ(34,"pagination",10),t.NdJ("ngModelChange",function(g){return o.page.number=g})("pageChanged",function(g){return o.onPageChange(g)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const a=t.MAs(33);t.xp6(10),t.Q6J("formGroup",o.form),t.xp6(21),t.Q6J("ngIf",o.isLoading)("ngIfElse",a),t.xp6(3),t.Q6J("totalItems",o.page.total)("ngModel",o.page.number)}},directives:[s.AkF,s.yue,s.iok,s.Yp0,s.Hq3,m.rH,l._Y,l.JL,l.sg,s.xPZ,s.oHf,l.Fj,l.JJ,l.u,s.eFW,s.auY,r.O5,_.Qt,l.On,s.ORR,r.sg],styles:[""]}),e})();var I=i(9337),U=i(936),J=i(2215),q=i(5905),N=i(4004),F=i(262),S=i(9646),O=i(2340),k=i(520);let Y=(()=>{class e{constructor(n){this.http=n}load(){return this.http.jsonp(`https://maps.googleapis.com/maps/api/js?key=${O.N.GOOGLE_MAP_API_KEY}`,"callback").pipe((0,N.U)(()=>!0),(0,F.K)((n,o)=>(0,S.of)(!1)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(k.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=i(3315);function Q(e,c){if(1&e&&t._UZ(0,"map-marker",10),2&e){const n=t.oxw(2);t.Q6J("position",n.marker.position)("options",n.marker.options)("clickable",!0)}}function V(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"google-map",8),t.NdJ("mapClick",function(a){return t.CHM(n),t.oxw().mapClick(a)}),t.YNc(2,Q,1,3,"map-marker",9),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("center",n.mapCenter),t.xp6(1),t.Q6J("ngIf",n.marker&&n.marker.position)}}let P=(()=>{class e{constructor(n,o,a){this.bsModalRef=n,this.googleMapService=o,this.geoCoder=a,this.formattedAddress="",this.location={formattedAddress:"",latLng:{lat:0,lng:0}},this.apiLoaded=!1}ngOnInit(){var n=this;return(0,p.Z)(function*(){yield n.googleMapService.load().forEach(o=>{n.apiLoaded=o}).catch(o=>{n.apiLoaded=o}),n.location&&n.location.latLng?(n.location.formattedAddress&&(n.formattedAddress=n.location.formattedAddress),n.updateMap(n.location.latLng)):navigator.geolocation.getCurrentPosition(o=>{if(o&&o.coords){let a={lat:o.coords.latitude,lng:o.coords.longitude};n.updateMap(a),n.updateAddress(a)}})})()}updateMap(n){this.mapCenter=n,this.marker={position:n,options:{}}}updateAddress(n){n&&this.geoCoder.geocode({location:n}).forEach(o=>{o.results&&this.updateGeoLocation(o.results[0])})}mapClick(n){var o,a;this.marker={position:null===(o=n.latLng)||void 0===o?void 0:o.toJSON(),options:{}},this.updateAddress(null===(a=n.latLng)||void 0===a?void 0:a.toJSON())}getCity(n){return console.log(n),n.address_components.find(o=>o.types.includes("locality"))}getState(n){return n.address_components.find(o=>o.types.includes("administrative_area_level_1"))}getCountry(n){return n.address_components.find(o=>o.types.includes("country"))}updateGeoLocation(n){let o=this.getCity(n),a=this.getState(n),g=this.getCountry(n);this.location={formattedAddress:n.address_components.filter(f=>!f.types.includes("plus_code")).map(f=>f.long_name).join(", "),latLng:n.geometry.location.toJSON()},this.location&&o&&(this.location.cityName=null==o?void 0:o.long_name),this.location&&a&&(this.location.stateName=null==a?void 0:a.long_name),this.location&&g&&(this.location.countryName=null==g?void 0:g.long_name,this.location.countryShortName=null==g?void 0:g.short_name)}save(){this.bsModalRef.hide()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(q.UZ),t.Y36(Y),t.Y36(M.il))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-map-modal"]],decls:18,vars:2,consts:[["mapCol",""],[4,"ngIf"],[1,"mt-3","mb-2"],["cLabel",""],["cFormControl","","readonly","","plaintext","","placeholder","House/Apartment/Flat no. street no, area, block","sizing","sm",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2","d-flex","float-end"],["cButton","","color","light",3,"click"],["cButton","","color","primary",3,"click"],["height","360","width","760",3,"center","mapClick"],[3,"position","options","clickable",4,"ngIf"],[3,"position","options","clickable"]],template:function(n,o){1&n&&(t.TgZ(0,"c-card"),t.TgZ(1,"c-card-body"),t.TgZ(2,"c-row"),t.TgZ(3,"c-col",null,0),t.YNc(5,V,3,2,"span",1),t.qZA(),t.qZA(),t.TgZ(6,"c-row",2),t.TgZ(7,"c-col"),t.TgZ(8,"div"),t.TgZ(9,"label",3),t._uU(10,"Address"),t.qZA(),t.TgZ(11,"input",4),t.NdJ("ngModelChange",function(g){return o.formattedAddress=g}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"c-card-footer"),t.TgZ(13,"span",5),t.TgZ(14,"button",6),t.NdJ("click",function(){return o.bsModalRef.hide()}),t._uU(15,"Close"),t.qZA(),t.TgZ(16,"button",7),t.NdJ("click",function(){return o.save()}),t._uU(17,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngIf",o.apiLoaded),t.xp6(6),t.Q6J("ngModel",o.formattedAddress))},directives:[s.AkF,s.yue,s.iok,s.Yp0,r.O5,s.eFW,s.oHf,l.Fj,l.JJ,l.On,s.xUh,s.Hq3,M.b6,M.O_],styles:[""]}),e})(),R=(()=>{class e{constructor(n){this.modalService=n}showMapModal(n){return this.modalService.show(P,{backdrop:!0,animated:!0,ignoreBackdropClick:!0,class:"modal-lg modal-dialog-centered",initialState:{location:n}})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(q.tT))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var H=i(9998),D=i(1569),w=i(1728);function W(e,c){1&e&&(t.TgZ(0,"c-row",2),t.TgZ(1,"c-col",3),t._UZ(2,"c-spinner",4),t.TgZ(3,"span",5),t._uU(4," Loading... "),t.qZA(),t.qZA(),t.qZA())}const j=function(){return["salespersons"]};function z(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"c-card-body"),t.TgZ(1,"c-row"),t.TgZ(2,"c-col"),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"c-col",12),t.TgZ(8,"span",15),t.TgZ(9,"button",16),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).editBranch()}),t._uU(10,"Edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(11,"hr"),t.TgZ(12,"a",17),t._uU(13," Salesperson "),t.TgZ(14,"c-badge",18),t._uU(15),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(4),t.Oqu(n.branch.name),t.xp6(2),t.Oqu(n.branch.code),t.xp6(6),t.Q6J("routerLink",t.DdM(4,j)),t.xp6(3),t.Oqu(n.branch.totalActiveSalespersons)}}function G(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"c-card-body"),t.TgZ(1,"form",19),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw(2).saveBranch()}),t.TgZ(2,"fieldset",20),t.TgZ(3,"c-row"),t.TgZ(4,"c-col",21),t._UZ(5,"input",22),t._UZ(6,"app-input-error",23),t.qZA(),t.TgZ(7,"c-col",21),t._UZ(8,"input",24),t._UZ(9,"app-input-error",23),t.qZA(),t.TgZ(10,"c-col",21),t.TgZ(11,"span",25),t.TgZ(12,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).cancelEditBranch()}),t._uU(13,"Cancel"),t.qZA(),t.TgZ(14,"button",27),t._uU(15," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("formGroup",n.branchForm),t.xp6(1),t.Q6J("disabled",n.savingBranch),t.xp6(3),t.Q6J("valid",n.branchForm.controls.code.valid),t.xp6(1),t.Q6J("control",n.branchForm.controls.code),t.xp6(2),t.Q6J("valid",n.branchForm.controls.name.valid),t.xp6(1),t.Q6J("control",n.branchForm.controls.name),t.xp6(5),t.Q6J("loading",n.savingBranch)}}function K(e,c){if(1&e&&(t.TgZ(0,"span"),t.O4$(),t._UZ(1,"svg",28),t._uU(2),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.hij(" ",n.branch.location.formattedAddress," ")}}function X(e,c){1&e&&t._uU(0," N/A ")}const $=function(e){return["/manager",e]};function tt(e,c){if(1&e&&(t.TgZ(0,"span"),t.TgZ(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"a",31),t._uU(4),t.qZA(),t.qZA()),2&e){const n=t.oxw(4);t.xp6(2),t.Oqu(null==n.branch.manager?null:n.branch.manager.fullName),t.xp6(1),t.Q6J("routerLink",t.VKq(3,$,n.branch.managerId)),t.xp6(1),t.hij(" ",null==n.branch.manager?null:n.branch.manager.username," ")}}function nt(e,c){1&e&&t._uU(0,"N/A")}function et(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"c-row"),t.TgZ(1,"c-col"),t.YNc(2,tt,5,5,"span",10),t.YNc(3,nt,1,0,"ng-template",null,11,t.W1O),t.qZA(),t.TgZ(5,"c-col",30),t.TgZ(6,"span",15),t.TgZ(7,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).editManager()}),t._uU(8,"Edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.MAs(4),o=t.oxw(3);t.xp6(2),t.Q6J("ngIf",o.branch.managerId)("ngIfElse",n)}}function ot(e,c){if(1&e&&(t.TgZ(0,"option",40),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.Q6J("value",n.id),t.xp6(1),t.hij(" ",n.fullName," ")}}function at(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"select",37),t.NdJ("ngModelChange",function(a){return t.CHM(n),t.oxw(4).selectedManagerId=a}),t.TgZ(2,"option",38),t._uU(3,"None"),t.qZA(),t.YNc(4,ot,2,2,"option",39),t.qZA(),t.qZA()}if(2&e){const n=t.oxw(4);t.xp6(1),t.Q6J("ngModel",n.selectedManagerId),t.xp6(3),t.Q6J("ngForOf",n.managerPage.items)}}function rt(e,c){1&e&&t._UZ(0,"c-spinner",4)}function ct(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"form",32),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw(3).saveBranchManager()}),t.TgZ(1,"fieldset",20),t.TgZ(2,"c-row"),t.TgZ(3,"c-col"),t.YNc(4,at,5,2,"span",10),t.YNc(5,rt,1,0,"ng-template",null,33,t.W1O),t.qZA(),t.TgZ(7,"c-col",34),t.TgZ(8,"span",25),t.TgZ(9,"button",35),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).cancelEditManager()}),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",36),t._uU(12,"Save"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.MAs(6),o=t.oxw(3);t.xp6(1),t.Q6J("disabled",o.savingManager),t.xp6(3),t.Q6J("ngIf",!o.managerLoading)("ngIfElse",n),t.xp6(7),t.Q6J("loading",o.savingManager)}}function it(e,c){if(1&e&&(t.TgZ(0,"h4"),t._uU(1,"Manager"),t.qZA(),t.TgZ(2,"c-card"),t.TgZ(3,"c-card-body"),t.YNc(4,et,9,2,"c-row",10),t.YNc(5,ct,13,4,"ng-template",null,29,t.W1O),t.qZA(),t.qZA()),2&e){const n=t.MAs(6),o=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!o.isEditManager)("ngIfElse",n)}}function lt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"c-row",2),t.TgZ(1,"c-col",6),t.TgZ(2,"c-card",7),t.YNc(3,z,16,5,"ng-template",8),t.YNc(4,G,16,7,"ng-template",null,9,t.W1O),t.qZA(),t.TgZ(6,"h4"),t._uU(7,"Location"),t.qZA(),t.TgZ(8,"c-card",7),t.TgZ(9,"c-card-body"),t.TgZ(10,"c-row"),t.TgZ(11,"c-col"),t.YNc(12,K,3,1,"span",10),t.YNc(13,X,1,0,"ng-template",null,11,t.W1O),t.qZA(),t.TgZ(15,"c-col",12),t.TgZ(16,"button",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().editLocation()}),t._uU(17,"Edit"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,it,7,2,"ng-template",14),t.qZA(),t.qZA()}if(2&e){const n=t.MAs(5),o=t.MAs(14),a=t.oxw();t.xp6(3),t.Q6J("ngIf",!a.isEditBranch)("ngIfElse",n),t.xp6(9),t.Q6J("ngIf",a.branch&&a.branch.location)("ngIfElse",o),t.xp6(6),t.Q6J("ngIf",a.branch.id)}}let y=(()=>{class e{constructor(n,o,a,g,f,B){this.route=n,this.amService=o,this.abService=a,this.location=g,this.router=f,this.cModalService=B,this.branch=new U.I,this.isLoading=!1,this.branchForm=new l.cw({code:new l.NI(null,[l.kI.required,l.kI.minLength(2),l.kI.maxLength(16)]),name:new l.NI(null,[l.kI.required])}),this.isEditBranch=!1,this.savingBranch=!1,this.isEditManager=!1,this.selectedManagerId=null,this.managerPage=new h.T,this.managerLoading=!1,this.savingManager=!1,this.alert=new I.b;let L=this.route.snapshot.params.id;L&&(this.branch.id=L)}ngOnInit(){var n=this;return(0,p.Z)(function*(){""!=n.branch.id?(n.isLoading=!0,yield n.abService.get(n.branch.id).forEach(o=>n.branch=o).finally(()=>n.isLoading=!1)):n.editBranch()})()}editLocation(){var o,n=this;let a=this.cModalService.showMapModal(this.branch.location);null===(o=a.onHide)||void 0===o||o.subscribe(function(){var g=(0,p.Z)(function*(f){f&&a&&a.content&&a.content.location&&a.content.location.formattedAddress&&(yield n.abService.updateLocation(n.branch.id,a.content.location).forEach(B=>n.branch.location=B))});return function(f){return g.apply(this,arguments)}}())}editBranch(){this.branch&&this.branch.id&&(this.branchForm.controls.code.setValue(this.branch.code),this.branchForm.controls.name.setValue(this.branch.name)),this.isEditBranch=!0}cancelEditBranch(){this.branchForm.reset(),this.branch&&this.branch.id?this.isEditBranch=!1:this.location.back()}saveBranch(){if(this.branchForm.valid){this.savingBranch=!0;let n=this.branchForm.value;this.branch&&this.branch.id&&(n.id=this.branch.id),this.abService.save(n).forEach(o=>{o&&(this.branch.id?(Object.assign(this.branch,o),this.isEditBranch=!1):this.router.navigate(["branch",o.id]))}).catch(o=>{o&&"ER_DUP_ENTRY"==o.code&&this.branchForm.controls.code.setErrors({else:"this code is already registered, try another one"})}).finally(()=>{this.savingBranch=!1})}}loadManager(){this.managerLoading=!0,this.amService.available().forEach(n=>this.managerPage=n).finally(()=>this.managerLoading=!1)}editManager(){this.managerPage&&0==this.managerPage.items.length&&this.loadManager(),this.isEditManager=!0}cancelEditManager(){this.isEditManager=!1,this.selectedManagerId=null}saveBranchManager(){var n=this;return(0,p.Z)(function*(){n.selectedManagerId&&n.branch.id&&(n.savingManager=!0,yield n.abService.updateManager(n.branch.id,{managerId:n.selectedManagerId}).forEach(o=>{console.log(o),Object.assign(n.branch,o),n.isEditManager=!1,n.loadManager()}).catch(o=>console.log(o)).finally(()=>{n.selectedManagerId=null,n.savingManager=!1}))})()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.gz),t.Y36(J.f),t.Y36(b.F),t.Y36(r.Ye),t.Y36(m.F0),t.Y36(R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-branch-view"]],decls:3,vars:2,consts:[["class","justify-content-center",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"justify-content-center"],["md","8",1,""],["size","sm"],[1,"d-flex-inline","my-auto"],["md","8"],[1,"mb-4"],[3,"ngIf","ngIfElse"],["branchFormBlock",""],[4,"ngIf","ngIfElse"],["na",""],["xs","1"],["cButton","","color","light","size","sm",3,"click"],[3,"ngIf"],[1,"float-end"],["cButton","","size","sm","color","light",3,"click"],["cButton","","color","light",3,"routerLink"],["shape","rounded-pill","color","success"],[3,"formGroup","ngSubmit"],[3,"disabled"],["sm","4"],["formControlName","code","cFormControl","","id","code","placeholder","Code","type","text","autofocus","",3,"valid"],[3,"control"],["formControlName","name","cFormControl","","id","name","placeholder","Name","type","text",3,"valid"],[1,"d-grid","gap-2","d-flex","float-end"],["cButton","","type","button","color","light",3,"click"],["xcButton","","loadingLabel","Saving...","type","submit","color","primary",3,"loading"],["cIcon","","name","cilLocationPin"],["managerForm",""],["xs","2"],["cButton","","color","light","size","sm",3,"routerLink"],[3,"ngSubmit"],["loader",""],["xs","4"],["cButton","","color","light",3,"click"],["xcButton","","loadingLabel","Saving...","type","submit",3,"loading"],["cSelect","","name","branch",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,o){if(1&n&&(t.YNc(0,W,5,0,"c-row",0),t.YNc(1,lt,19,5,"ng-template",null,1,t.W1O)),2&n){const a=t.MAs(2);t.Q6J("ngIf",o.isLoading)("ngIfElse",a)}},directives:[r.O5,s.iok,s.Yp0,s.ORR,s.AkF,s.yue,s.Hq3,m.yS,s.FN3,l._Y,l.JL,l.sg,l.Fj,s.oHf,l.JJ,l.u,H.w,D.L,w.ar,l.F,s.nqR,l.EJ,l.On,l.YN,l.Kr,r.sg],styles:[""]}),e})();const st=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-branch"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},directives:[m.lC],styles:[""]}),e})(),children:[{path:"",component:E,data:{title:"Search"}},{path:"register",component:y,data:{title:"Register New Branch"}},{path:":id",component:y,data:{title:"Detail"}},{path:":branchId/salespersons",component:v.X,data:{title:"Salesperson"}}]}];let gt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(st)],m.Bz]}),e})();var dt=i(4466);const pt=[s.zE6,s.dTQ,s.nMh,s.ejP,s.hJ1,s.Fme,s.U$I,w.QX,s.TXv];let _t=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.ez,gt,dt.m,...pt,l.UX,l.u5,_.u3.forRoot()]]}),e})()},9553:(C,u,i)=>{i.d(u,{H:()=>s});var r=i(4893),m=i(384),v=i(9808),p=i(5033),l=i(2382);function h(_,Z){1&_&&r._UZ(0,"c-spinner",2)}function t(_,Z){if(1&_){const d=r.EpF();r.TgZ(0,"c-form-check",4),r.TgZ(1,"input",5),r.NdJ("ngModelChange",function(A){return r.CHM(d),r.oxw(2).user.enabled=A})("change",function(A){return r.CHM(d),r.oxw(2).onChange(A)}),r.qZA(),r.TgZ(2,"label",6),r._uU(3),r.qZA(),r.qZA()}if(2&_){const d=r.oxw(2);r.Q6J("switch",!0),r.xp6(1),r.Q6J("ngModel",d.user.enabled),r.xp6(2),r.Oqu(d.label)}}function b(_,Z){if(1&_&&r.YNc(0,t,4,3,"c-form-check",3),2&_){const d=r.oxw();r.Q6J("ngIf",d.user)}}let s=(()=>{class _{constructor(d){this.authService=d,this.isLoading=!1}ngOnInit(){}onChange(d){this.user&&this.user.id&&(this.isLoading=!0,this.authService.enabled(this.user.id,{enabled:this.user.enabled}).forEach(T=>{this.user&&(this.user.enabled=T.enabled)}).finally(()=>{this.isLoading=!1}))}}return _.\u0275fac=function(d){return new(d||_)(r.Y36(m.e))},_.\u0275cmp=r.Xpm({type:_,selectors:[["app-user-active-switch"]],inputs:{label:"label",user:"user"},decls:3,vars:2,consts:[["size","sm",4,"ngIf","ngIfElse"],["elseBlock",""],["size","sm"],[3,"switch",4,"ngIf"],[3,"switch"],["cFormCheckInput","","type","checkbox",3,"ngModel","ngModelChange","change"],["cFormCheckLabel",""]],template:function(d,T){if(1&d&&(r.YNc(0,h,1,0,"c-spinner",0),r.YNc(1,b,1,1,"ng-template",null,1,r.W1O)),2&d){const A=r.MAs(2);r.Q6J("ngIf",T.isLoading)("ngIfElse",A)}},directives:[v.O5,p.ORR,p.FzQ,p.yfq,l.Wl,l.JJ,l.On,p.NWu],styles:[""]}),_})()},1569:(C,u,i)=>{i.d(u,{L:()=>v});var r=i(5033),m=i(4893);let v=(()=>{class p extends r.Hq3{constructor(h){super(),this.el=h,this._loadingLabel="",this._loading=!1}get loadingLabel(){return this._loadingLabel}set loadingLabel(h){this._loadingLabel=h}get loading(){return this._loading}set loading(h){this._loading=h,this.content||(this.content=this.el.nativeElement.innerHTML),this.el.nativeElement.innerHTML=this._loading?`<span class="spinner-border spinner-border-sm ng-star-inserted"></span> ${this.loadingLabel}`:this.content}}return p.\u0275fac=function(h){return new(h||p)(m.Y36(m.SBq))},p.\u0275dir=m.lG2({type:p,selectors:[["","xcButton",""]],inputs:{loadingLabel:"loadingLabel",loading:"loading"},exportAs:["xcButton"],features:[m.qOj]}),p})()}}]);